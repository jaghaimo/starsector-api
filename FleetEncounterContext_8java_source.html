<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Starsector API: src/com/fs/starfarer/api/impl/campaign/FleetEncounterContext.java Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Starsector API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('FleetEncounterContext_8java_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">FleetEncounterContext.java</div></div>
</div><!--header-->
<div class="contents">
<a href="FleetEncounterContext_8java.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="keyword">package </span>com.fs.starfarer.api.impl.campaign;</div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="keyword">import</span> java.util.ArrayList;</div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="keyword">import</span> java.util.Collections;</div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="keyword">import</span> java.util.Comparator;</div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="keyword">import</span> java.util.HashMap;</div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="keyword">import</span> java.util.HashSet;</div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="keyword">import</span> java.util.Iterator;</div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="keyword">import</span> java.util.LinkedHashMap;</div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="keyword">import</span> java.util.List;</div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="keyword">import</span> java.util.Map;</div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="keyword">import</span> java.util.Random;</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="keyword">import</span> java.util.Set;</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="keyword">import</span> com.fs.starfarer.api.Global;</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.BattleAPI;</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.CampaignEventListener.FleetDespawnReason;</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.CampaignFleetAPI;</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.CargoAPI;</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.CargoAPI.CargoItemType;</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.CargoStackAPI;</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.CombatDamageData;</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.CombatDamageData.DamageToFleetMember;</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.CombatDamageData.DealtByFleetMember;</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.EngagementResultForFleetAPI;</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.FactionAPI;</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.FleetAssignment;</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.FleetDataAPI;</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.FleetEncounterContextPlugin;</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.FleetEncounterContextPlugin.DataForEncounterSide.OfficerEngagementData;</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.InteractionDialogAPI;</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.TextPanelAPI;</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.ai.CampaignFleetAIAPI.PursuitOption;</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.ai.ModularFleetAIAPI;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.econ.CommoditySpecAPI;</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.listeners.ListenerUtil;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="keyword">import</span> com.fs.starfarer.api.campaign.rules.MemoryAPI;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="keyword">import</span> com.fs.starfarer.api.characters.MutableCharacterStatsAPI;</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="keyword">import</span> com.fs.starfarer.api.characters.OfficerDataAPI;</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="keyword">import</span> com.fs.starfarer.api.characters.PersonAPI;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="keyword">import</span> com.fs.starfarer.api.combat.DeployedFleetMemberAPI;</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="keyword">import</span> com.fs.starfarer.api.combat.EngagementResultAPI;</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="keyword">import</span> com.fs.starfarer.api.combat.FighterLaunchBayAPI;</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="keyword">import</span> com.fs.starfarer.api.combat.ShipAPI;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="keyword">import</span> com.fs.starfarer.api.combat.ShipVariantAPI;</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="keyword">import</span> com.fs.starfarer.api.combat.WeaponAPI;</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="keyword">import</span> com.fs.starfarer.api.combat.WeaponAPI.WeaponType;</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="keyword">import</span> com.fs.starfarer.api.fleet.CrewCompositionAPI;</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="keyword">import</span> com.fs.starfarer.api.fleet.FleetGoal;</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="keyword">import</span> com.fs.starfarer.api.fleet.FleetMemberAPI;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="keyword">import</span> com.fs.starfarer.api.impl.campaign.CoreReputationPlugin.RepActionEnvelope;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="keyword">import</span> com.fs.starfarer.api.impl.campaign.CoreReputationPlugin.RepActions;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="keyword">import</span> com.fs.starfarer.api.impl.campaign.ids.Commodities;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="keyword">import</span> com.fs.starfarer.api.impl.campaign.ids.Factions;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="keyword">import</span> com.fs.starfarer.api.impl.campaign.ids.MemFlags;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="keyword">import</span> com.fs.starfarer.api.impl.campaign.ids.Stats;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="keyword">import</span> com.fs.starfarer.api.impl.campaign.ids.Tags;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="keyword">import</span> com.fs.starfarer.api.impl.campaign.intel.PromoteOfficerIntel;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="keyword">import</span> com.fs.starfarer.api.impl.campaign.procgen.SalvageEntityGenDataSpec.DropData;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="keyword">import</span> com.fs.starfarer.api.impl.campaign.rulecmd.salvage.SalvageEntity;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="keyword">import</span> com.fs.starfarer.api.impl.campaign.rulecmd.salvage.special.BaseSalvageSpecial;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="keyword">import</span> com.fs.starfarer.api.impl.campaign.tutorial.TutorialMissionIntel;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="keyword">import</span> com.fs.starfarer.api.loading.FighterWingSpecAPI;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="keyword">import</span> com.fs.starfarer.api.loading.HullModSpecAPI;</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="keyword">import</span> com.fs.starfarer.api.loading.VariantSource;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="keyword">import</span> com.fs.starfarer.api.loading.WeaponGroupSpec;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="keyword">import</span> com.fs.starfarer.api.loading.WeaponSlotAPI;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="keyword">import</span> com.fs.starfarer.api.loading.WeaponSpecAPI;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="keyword">import</span> com.fs.starfarer.api.util.Misc;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="keyword">import</span> com.fs.starfarer.api.util.WeightedRandomPicker;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="foldopen" id="foldopen00072" data-start="{" data-end="};">
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html">   72</a></span><span class="keyword">public</span> <span class="keyword">class </span><a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html">FleetEncounterContext</a> <span class="keyword">implements</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html">FleetEncounterContextPlugin</a> {</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">   74</a></span>    <span class="keyword">protected</span> List&lt;DataForEncounterSide&gt; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a> = <span class="keyword">new</span> ArrayList&lt;DataForEncounterSide&gt;();</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">   75</a></span>    <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">   76</a></span>    <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">engagedInActualBattle</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">   77</a></span>    <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">playerOnlyRetreated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73bdc2181f26f4f1c440b60838f6996b">   78</a></span>    <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73bdc2181f26f4f1c440b60838f6996b">playerPursued</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c6cd59a17ae1851086701391fd5367d">   79</a></span>    <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c6cd59a17ae1851086701391fd5367d">playerDidSeriousDamage</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">   80</a></span>    <span class="keyword">protected</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a622f25000d780d58fb5af7ef355a428d">   81</a></span>    <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a622f25000d780d58fb5af7ef355a428d">otherFleetHarriedPlayer</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16949991b9097d37f0b3601cf6560082">   82</a></span>    <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16949991b9097d37f0b3601cf6560082">ongoingBattle</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">   84</a></span>    <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">isAutoresolve</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">   87</a></span>    <span class="keyword">protected</span> <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html">CombatDamageData</a> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a> = <span class="keyword">null</span>;</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a349be3fe402337467f44a20e1b2bfe9b">   89</a></span>    <span class="keyword">protected</span> Map&lt;FleetMemberAPI, CampaignFleetAPI&gt; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a349be3fe402337467f44a20e1b2bfe9b">origSourceForRecoveredShips</a> = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    </div>
<div class="foldopen" id="foldopen00091" data-start="{" data-end="}">
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4ea007b28fa7e66f8b9bf585f8fdc974">   91</a></span>    <span class="keyword">public</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4ea007b28fa7e66f8b9bf585f8fdc974">FleetEncounterContext</a>() {</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>        </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    }</div>
</div>
<div class="foldopen" id="foldopen00094" data-start="{" data-end="}">
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac8ca62c0f5eb95ca18ee610a2ec2f25a">   94</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac8ca62c0f5eb95ca18ee610a2ec2f25a">isAutoresolve</a>() {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">isAutoresolve</a>;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    }</div>
</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="foldopen" id="foldopen00098" data-start="{" data-end="}">
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9044fa2147f8545e36a6c86ba55f5f11">   98</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9044fa2147f8545e36a6c86ba55f5f11">setAutoresolve</a>(<span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">isAutoresolve</a>) {</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>        this.isAutoresolve = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">isAutoresolve</a>;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    }</div>
</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="foldopen" id="foldopen00103" data-start="{" data-end="}">
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">  103</a></span>    <span class="keyword">public</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>() {</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    }</div>
</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="foldopen" id="foldopen00107" data-start="{" data-end="}">
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af161b5553653341badf848a9574267b6">  107</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af161b5553653341badf848a9574267b6">setBattle</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>) {</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        this.battle = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    }</div>
</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="foldopen" id="foldopen00111" data-start="{" data-end="}">
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">  111</a></span>    <span class="keyword">public</span> DataForEncounterSide <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> participantOrCombined) {</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> combined = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a1a91abcbf98c938054b244db0633d426">getCombinedFor</a>(participantOrCombined);</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        <span class="keywordflow">if</span> (combined == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>            <span class="keywordflow">return</span> <span class="keyword">new</span> DataForEncounterSide(participantOrCombined);</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>        }</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        <span class="keywordflow">for</span> (DataForEncounterSide curr : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>) {</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>            <span class="keywordflow">if</span> (curr.getFleet() == combined) <span class="keywordflow">return</span> curr;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        }</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>        DataForEncounterSide dfes = <span class="keyword">new</span> DataForEncounterSide(combined);</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.add(dfes);</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        <span class="keywordflow">return</span> dfes;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    }</div>
</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    </div>
<div class="foldopen" id="foldopen00126" data-start="{" data-end="}">
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">  126</a></span>    <span class="keyword">public</span> DataForEncounterSide <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>() {</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        <span class="keywordflow">for</span> (DataForEncounterSide curr : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>) {</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>            <span class="keywordflow">if</span> (!curr.disengaged()) {</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>                <span class="keywordflow">return</span> curr;</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>            }</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        }</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>        <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    }</div>
</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    </div>
<div class="foldopen" id="foldopen00135" data-start="{" data-end="}">
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">  135</a></span>    <span class="keyword">public</span> DataForEncounterSide <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>() {</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <span class="keywordflow">for</span> (DataForEncounterSide curr : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>) {</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>            <span class="keywordflow">if</span> (curr.disengaged()) {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>                <span class="keywordflow">return</span> curr;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>            }</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        }</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    }</div>
</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    </div>
<div class="foldopen" id="foldopen00144" data-start="{" data-end="}">
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa433b4940ea0c102bea1980edce68b61">  144</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa433b4940ea0c102bea1980edce68b61">isEngagedInHostilities</a>() {</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a>;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    }</div>
</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    </div>
<div class="foldopen" id="foldopen00148" data-start="{" data-end="}">
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#afb855a39698e3241ac484a8f3df9a329">  148</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#afb855a39698e3241ac484a8f3df9a329">setEngagedInHostilities</a>(<span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a>) {</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>        this.engagedInHostilities = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a>;</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    }</div>
</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    </div>
<div class="foldopen" id="foldopen00152" data-start="{" data-end="}">
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a65f01515bb012a4ecec853fc10d5d172">  152</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a65f01515bb012a4ecec853fc10d5d172">setOtherFleetHarriedPlayer</a>(<span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a622f25000d780d58fb5af7ef355a428d">otherFleetHarriedPlayer</a>) {</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        this.otherFleetHarriedPlayer = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a622f25000d780d58fb5af7ef355a428d">otherFleetHarriedPlayer</a>;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    }</div>
</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    </div>
<div class="foldopen" id="foldopen00156" data-start="{" data-end="}">
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4b2d76a4b1b4a74d8f95d4af61562ce1">  156</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4b2d76a4b1b4a74d8f95d4af61562ce1">isOtherFleetHarriedPlayer</a>() {</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a622f25000d780d58fb5af7ef355a428d">otherFleetHarriedPlayer</a>;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    }</div>
</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="foldopen" id="foldopen00160" data-start="{" data-end="}">
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ac11805834d81c987e7c06e45c3e529">  160</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ac11805834d81c987e7c06e45c3e529">updateDeployedMap</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result) {</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>        DataForEncounterSide data = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>());</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>        data.getMemberToDeployedMap().clear();</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>        </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        List&lt;DeployedFleetMemberAPI&gt; deployed = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a0adc7a9ff2303206743e41f26f6f6b3c">getAllEverDeployedCopy</a>();</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>        <span class="keywordflow">if</span> (deployed != <span class="keyword">null</span> &amp;&amp; !deployed.isEmpty()) {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>            <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html">DeployedFleetMemberAPI</a> dfm : deployed) {</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>                <span class="keywordflow">if</span> (dfm.getMember() != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>                    <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member = dfm.getMember();</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>                    data.getMemberToDeployedMap().put(member, dfm);</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>                    </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>                    <span class="keywordflow">if</span> (dfm != <span class="keyword">null</span> &amp;&amp; dfm.getShip() != <span class="keyword">null</span> &amp;&amp; dfm.getShip().getOriginalCaptain() != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>                            !dfm.getShip().getOriginalCaptain().isDefault()) {</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>                        data.getMembersWithOfficerOrPlayerAsOrigCaptain().add(member);</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>                    }</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>                }</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>            }</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>        }</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    }</div>
</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    </div>
<div class="foldopen" id="foldopen00185" data-start="{" data-end="}">
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a894e47d162794f5428b18b95945cd9ea">  185</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a894e47d162794f5428b18b95945cd9ea">clearNoSourceMembers</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result) {</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        Iterator&lt;FleetMemberAPI&gt; iter = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a5263ff9ae3cd5d881d3746b3c5be8882">getDeployed</a>().iterator();</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        <span class="keywordflow">while</span> (iter.hasNext()) {</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member = iter.next();</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>                iter.remove();</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>            }</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        }</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>        iter = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aafa14ba86d4abbfc85d4ed5d5146bc24">getReserves</a>().iterator();</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        <span class="keywordflow">while</span> (iter.hasNext()) {</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member = iter.next();</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>                iter.remove();</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>            }</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        }</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        iter = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>().iterator();</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        <span class="keywordflow">while</span> (iter.hasNext()) {</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member = iter.next();</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>                iter.remove();</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>            }</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        }</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        iter = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">getDisabled</a>().iterator();</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        <span class="keywordflow">while</span> (iter.hasNext()) {</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member = iter.next();</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>                iter.remove();</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>            }</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        }</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        iter = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ac6fb2c14681e1edbf0aebd340bd87a86">getRetreated</a>().iterator();</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        <span class="keywordflow">while</span> (iter.hasNext()) {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member = iter.next();</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>                iter.remove();</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>            }</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>        }</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    }</div>
</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="foldopen" id="foldopen00223" data-start="{" data-end="}">
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a59c5949fe670201d6051c086adca25ba">  223</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a59c5949fe670201d6051c086adca25ba">isEngagedInActualBattle</a>() {</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">engagedInActualBattle</a>;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    }</div>
</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="foldopen" id="foldopen00227" data-start="{" data-end="}">
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aab597f5466ec975f40d5920ba3fbbed5">  227</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aab597f5466ec975f40d5920ba3fbbed5">setEngagedInActualBattle</a>(<span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">engagedInActualBattle</a>) {</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        this.engagedInActualBattle = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">engagedInActualBattle</a>;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    }</div>
</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="foldopen" id="foldopen00231" data-start="{" data-end="}">
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af4e6049ced9ef64fdc197186cc808cdc">  231</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af4e6049ced9ef64fdc197186cc808cdc">processEngagementResults</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result) {</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">engagedInActualBattle</a> = <span class="keyword">true</span>; <span class="comment">// whether autoresolve or not, there was actual fighting</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>        <span class="comment">// the fleets we get back here are combined fleets from the BattleAPI,</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        <span class="comment">// NOT the actual fleets involved, even if it&#39;s a 1 vs 1 battle.</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> winnerResult = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a38be74b85e76f164312345a458cd156f">getWinnerResult</a>();</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> loserResult = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a346b9485bc2e469e99b053a3427e329e">getLoserResult</a>();</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span> </div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a894e47d162794f5428b18b95945cd9ea">clearNoSourceMembers</a>(winnerResult);</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a894e47d162794f5428b18b95945cd9ea">clearNoSourceMembers</a>(loserResult);</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        <span class="comment">// only happens for combat where player is involved</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html">CombatDamageData</a> currDamageData = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a3a8f09a2a60ff5b967ca7013c9345fdf">getLastCombatDamageData</a>();</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>        <span class="keywordflow">if</span> (currDamageData != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a> == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a> = currDamageData;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html#a8e40f5c00f166b63c0d73eb46ee7390f">add</a>(currDamageData);</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>            }</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aae04a1b1e1f39e90a9c61b3ad688a447">computeFPHullDamage</a>();</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        }</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>        <span class="comment">//if (winnerResult.getFleet().isPlayerFleet() || loserResult.getFleet().isPlayerFleet()) {</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>()) {</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a1c87c4354954a711b4b26f1a72296b64">reportPlayerEngagement</a>(result);</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        }</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>        </div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ac11805834d81c987e7c06e45c3e529">updateDeployedMap</a>(winnerResult);</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ac11805834d81c987e7c06e45c3e529">updateDeployedMap</a>(loserResult);</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        <span class="comment">//result.applyToFleets();</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab60e1b424706649832f9fd9fa80197e3">applyResultToFleets</a>(result);</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span> </div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        <span class="comment">//if (winnerResult.getFleet().isPlayerFleet() &amp;&amp; winnerResult.getGoal() != FleetGoal.ESCAPE) {</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(winnerResult) &amp;&amp; winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a18a6efdd60e4042764ec61cb19e00a36">getGoal</a>() != <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#ad31dc449468911381be9a88cd6adcf41">ESCAPE</a>) {</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">playerOnlyRetreated</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>            <span class="keywordflow">if</span> (loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a18a6efdd60e4042764ec61cb19e00a36">getGoal</a>() == <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#ad31dc449468911381be9a88cd6adcf41">ESCAPE</a>) {</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73bdc2181f26f4f1c440b60838f6996b">playerPursued</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>            }</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        <span class="comment">//} else if (loserResult.getFleet().isPlayerFleet() &amp;&amp; loserResult.getGoal() != FleetGoal.ESCAPE) {</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(loserResult) &amp;&amp; loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a18a6efdd60e4042764ec61cb19e00a36">getGoal</a>() != <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#ad31dc449468911381be9a88cd6adcf41">ESCAPE</a>) {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">playerOnlyRetreated</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>            <span class="keywordflow">if</span> (winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a18a6efdd60e4042764ec61cb19e00a36">getGoal</a>() == <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#ad31dc449468911381be9a88cd6adcf41">ESCAPE</a>) {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73bdc2181f26f4f1c440b60838f6996b">playerPursued</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>            }</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        }</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        DataForEncounterSide winnerData = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>());</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        DataForEncounterSide loserData = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>());</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        </div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        winnerData.setWonLastEngagement(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        winnerData.setEnemyCanCleanDisengage(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a650a2b2f69e935e5bcdbebd20341c9ce">enemyCanCleanDisengage</a>());</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>        <span class="comment">//winnerData.setFleetCanCleanDisengage(loserResult.enemyCanCleanDisengage());</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        loserData.setWonLastEngagement(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        loserData.setEnemyCanCleanDisengage(loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a650a2b2f69e935e5bcdbebd20341c9ce">enemyCanCleanDisengage</a>());</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        <span class="comment">//loserData.setFleetCanCleanDisengage(winnerResult.enemyCanCleanDisengage());</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>        </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        winnerData.setDidEnoughToDisengage(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        <span class="keywordtype">float</span> damageInFP = 0f;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">getDisabled</a>()) {</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>            damageInFP += member.getFleetPointCost();</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        }</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>()) {</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>            damageInFP += member.getFleetPointCost();</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        }</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ac6fb2c14681e1edbf0aebd340bd87a86">getRetreated</a>()) {</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>            damageInFP += member.getFleetPointCost();</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        }</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span><span class="comment">//      float remaining = 0f;</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span><span class="comment">//      for (FleetMemberAPI member : winnerResult.getFleet().getFleetData().getCombatReadyMembersListCopy()) {</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span><span class="comment">//          remaining += member.getFleetPointCost();</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span><span class="comment">//      }</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span><span class="comment">//      loserData.setDidEnoughToDisengage(damageInFP &gt;= remaining);</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        loserData.setDidEnoughToDisengage(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a650a2b2f69e935e5bcdbebd20341c9ce">enemyCanCleanDisengage</a>());</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>        </div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        winnerData.setLastGoal(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a18a6efdd60e4042764ec61cb19e00a36">getGoal</a>());</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        loserData.setLastGoal(loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a18a6efdd60e4042764ec61cb19e00a36">getGoal</a>());</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>        winnerData.getDeployedInLastEngagement().clear();</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>        winnerData.getRetreatedFromLastEngagement().clear();</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        winnerData.getInReserveDuringLastEngagement().clear();</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        winnerData.getDisabledInLastEngagement().clear();</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>        winnerData.getDestroyedInLastEngagement().clear();</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>        winnerData.getDeployedInLastEngagement().addAll(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a5263ff9ae3cd5d881d3746b3c5be8882">getDeployed</a>());</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        winnerData.getRetreatedFromLastEngagement().addAll(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ac6fb2c14681e1edbf0aebd340bd87a86">getRetreated</a>());</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        winnerData.getInReserveDuringLastEngagement().addAll(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aafa14ba86d4abbfc85d4ed5d5146bc24">getReserves</a>());</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>        winnerData.getDisabledInLastEngagement().addAll(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">getDisabled</a>());</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>        winnerData.getDestroyedInLastEngagement().addAll(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>());</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>        </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        loserData.getDeployedInLastEngagement().clear();</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        loserData.getRetreatedFromLastEngagement().clear();</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>        loserData.getInReserveDuringLastEngagement().clear();</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        loserData.getDisabledInLastEngagement().clear();</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        loserData.getDestroyedInLastEngagement().clear();</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        loserData.getDeployedInLastEngagement().addAll(loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a5263ff9ae3cd5d881d3746b3c5be8882">getDeployed</a>());</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        loserData.getRetreatedFromLastEngagement().addAll(loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ac6fb2c14681e1edbf0aebd340bd87a86">getRetreated</a>());</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>        loserData.getInReserveDuringLastEngagement().addAll(loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aafa14ba86d4abbfc85d4ed5d5146bc24">getReserves</a>());</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        loserData.getDisabledInLastEngagement().addAll(loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">getDisabled</a>());</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>        loserData.getDestroyedInLastEngagement().addAll(loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>());</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>()) {</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>            loserData.addOwn(member, Status.DESTROYED);</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        }</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">getDisabled</a>()) {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>            loserData.addOwn(member, Status.DISABLED);</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        </div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>()) {</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>            winnerData.addOwn(member, Status.DESTROYED);</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        }</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        </div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">getDisabled</a>()) {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>            winnerData.addOwn(member, Status.DISABLED);</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        }</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>        </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>        <span class="comment">//if (winnerResult.getFleet().isPlayerFleet()) {</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        <span class="keywordflow">if</span> (result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a38be74b85e76f164312345a458cd156f">getWinnerResult</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a0adc7a9ff2303206743e41f26f6f6b3c">getAllEverDeployedCopy</a>() != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a18389daf6c77f30b0d7ad43e69839b9c">tallyOfficerTime</a>(winnerData, winnerResult);</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        }</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        <span class="comment">//} else if (loserResult.getFleet().isPlayerFleet()) {</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>        <span class="keywordflow">if</span> (result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a346b9485bc2e469e99b053a3427e329e">getLoserResult</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a0adc7a9ff2303206743e41f26f6f6b3c">getAllEverDeployedCopy</a>() != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a18389daf6c77f30b0d7ad43e69839b9c">tallyOfficerTime</a>(loserData, loserResult);</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        }</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        </div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        <span class="comment">// important, so that in-combat Ship objects can be garbage collected.</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>        <span class="comment">// Probably some combat engine references in there, too. </span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aeaf4453fead90dbb52b6806faccc41a5">resetAllEverDeployed</a>();</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>()).getMemberToDeployedMap().clear();</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aeaf4453fead90dbb52b6806faccc41a5">resetAllEverDeployed</a>();</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>()).getMemberToDeployedMap().clear();</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>        <span class="comment">// moved from applyPostEngagementResult</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>()) {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>            loserData.addEnemy(member, Status.DESTROYED);</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>        }</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">getDisabled</a>()) {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>            loserData.addEnemy(member, Status.DISABLED);</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        }</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>        </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>()) {</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>            winnerData.addEnemy(member, Status.DESTROYED);</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        }</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">getDisabled</a>()) {</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>            winnerData.addEnemy(member, Status.DISABLED);</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>        }</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>        </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>        <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a> winnerGoal = winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a18a6efdd60e4042764ec61cb19e00a36">getGoal</a>();</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>        <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a> loserGoal = loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a18a6efdd60e4042764ec61cb19e00a36">getGoal</a>();</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        <span class="keywordtype">boolean</span> totalWin = loserData.getFleet().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>().isEmpty();</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        <span class="keywordtype">boolean</span> playerOut = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a971a538996c15ce03b100d0c412bb837">isPlayerOutBeforeEnd</a>();</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>        </div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>        <span class="keywordflow">if</span> (playerOut) {</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>            <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a> playerGoal = <span class="keyword">null</span>;</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>            <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a> otherGoal = <span class="keyword">null</span>;</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>()))) {</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>                playerGoal = winnerGoal;</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>                otherGoal = loserGoal;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                playerGoal = loserGoal;</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                otherGoal = winnerGoal;</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>            }</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>            <span class="keywordflow">if</span> (playerGoal == <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#a506ce576cff29935e2f4164353708af1">ATTACK</a>) {</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>                <span class="keywordflow">if</span> (otherGoal == <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#a506ce576cff29935e2f4164353708af1">ATTACK</a>) {</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>                    <span class="keywordflow">if</span> (winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a6143e17a71a8664bf8ec99d00acc4209">isPlayer</a>()) {</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>                        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.BATTLE_PLAYER_OUT_FIRST_WIN;</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>                        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.BATTLE_PLAYER_OUT_FIRST_LOSS;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>                    }</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>                    <span class="keywordflow">if</span> (winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a6143e17a71a8664bf8ec99d00acc4209">isPlayer</a>()) {</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>                        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.PURSUIT_PLAYER_OUT_FIRST_WIN;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>                        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.PURSUIT_PLAYER_OUT_FIRST_LOSS;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>                    }</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>                }</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>                <span class="keywordflow">if</span> (winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a6143e17a71a8664bf8ec99d00acc4209">isPlayer</a>()) {</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>                    <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_PLAYER_OUT_FIRST_WIN;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>                    <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_PLAYER_OUT_FIRST_LOSS;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>                }</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>            }</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>            <span class="keywordflow">if</span> (totalWin &amp;&amp; winnerData.getFleet().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>().isEmpty()) {</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.MUTUAL_DESTRUCTION;</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>()))) {</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>                    <span class="keywordflow">if</span> (winnerGoal == <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#a506ce576cff29935e2f4164353708af1">ATTACK</a> &amp;&amp; loserGoal == <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#a506ce576cff29935e2f4164353708af1">ATTACK</a>) {</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>                        <span class="keywordflow">if</span> (totalWin) {</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.BATTLE_PLAYER_WIN_TOTAL;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.BATTLE_PLAYER_WIN;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>                        }</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (winnerGoal == <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#ad31dc449468911381be9a88cd6adcf41">ESCAPE</a>) {</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>                        <span class="keywordflow">if</span> (totalWin) {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_PLAYER_WIN_TOTAL;</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_PLAYER_WIN;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>                        }</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (loserGoal == <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#ad31dc449468911381be9a88cd6adcf41">ESCAPE</a>) {</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>                        <span class="keywordflow">if</span> (totalWin) {</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_ENEMY_LOSS_TOTAL;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_ENEMY_SUCCESS;</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>                        }</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>                    }</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>                    <span class="keywordflow">if</span> (winnerGoal == <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#a506ce576cff29935e2f4164353708af1">ATTACK</a> &amp;&amp; loserGoal == <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#a506ce576cff29935e2f4164353708af1">ATTACK</a>) {</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>                        <span class="keywordflow">if</span> (totalWin) {</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.BATTLE_ENEMY_WIN_TOTAL;</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.BATTLE_ENEMY_WIN;</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>                        }</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (winnerGoal == <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#ad31dc449468911381be9a88cd6adcf41">ESCAPE</a>) {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>                        <span class="keywordflow">if</span> (totalWin) {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_ENEMY_WIN_TOTAL;</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_ENEMY_WIN;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>                        }</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (loserGoal == <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#ad31dc449468911381be9a88cd6adcf41">ESCAPE</a>) {</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>                        <span class="keywordflow">if</span> (totalWin) {</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_PLAYER_LOSS_TOTAL;</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_PLAYER_SUCCESS;</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                        }</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>                    }</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>                }</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>            }</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        }</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>        </div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a9a1934a45208ec21eb73b804e7543877">uncombine</a>();</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>        <span class="comment">//battle.genCombinedDoNotRemoveEmpty();</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#acb55e0951f95312c00ea3d96fa818dde">genCombined</a>();</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    }</div>
</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    </div>
<div class="foldopen" id="foldopen00472" data-start="{" data-end="}">
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a18389daf6c77f30b0d7ad43e69839b9c">  472</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a18389daf6c77f30b0d7ad43e69839b9c">tallyOfficerTime</a>(DataForEncounterSide data, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result) {</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>        <span class="keywordtype">float</span> maxTime = 0f;</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html">DeployedFleetMemberAPI</a> dfm : result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a0adc7a9ff2303206743e41f26f6f6b3c">getAllEverDeployedCopy</a>()) {</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>            <span class="keywordtype">float</span> time = dfm.getShip().getFullTimeDeployed();</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>            </div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>            <span class="keywordflow">if</span> (time &gt; maxTime) {</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>                maxTime = time;</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>            }</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>            </div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>            time -= dfm.getShip().getTimeDeployedUnderPlayerControl();</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>            <span class="keywordflow">if</span> (time &lt;= 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>            </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html">PersonAPI</a> person = dfm.getMember().getCaptain();</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> source = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(dfm.getMember());</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>            <span class="keywordflow">if</span> (source == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>            </div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>            <span class="comment">//if (data.getFleet().getFleetData().getOfficerData(person) == null) {</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>            <span class="keywordflow">if</span> (source.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#a7d50d41cec4bf05a87b1a80dd6730126">getOfficerData</a>(person) == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>                OfficerEngagementData oed = data.getFleetMemberDeploymentData().get(dfm.getMember());</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>                <span class="keywordflow">if</span> (oed == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>                    oed = <span class="keyword">new</span> OfficerEngagementData(source);</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>                    oed.person = <span class="keyword">null</span>;</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>                    data.getFleetMemberDeploymentData().put(dfm.getMember(), oed);</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>                }</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>                time += dfm.getShip().getTimeDeployedUnderPlayerControl();</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                oed.timeDeployed += time;</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>                <span class="keywordflow">continue</span>; <span class="comment">// not an officer</span></div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>            }</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>            </div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>            OfficerEngagementData oed = data.getOfficerData().get(person);</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>            <span class="keywordflow">if</span> (oed == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>                oed = <span class="keyword">new</span> OfficerEngagementData(source);</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>                oed.person = person;</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>                data.getOfficerData().put(person, oed);</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>            }</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>            oed.timeDeployed += time;</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>        }</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        data.setMaxTimeDeployed(data.getMaxTimeDeployed() + maxTime);</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    }</div>
</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    </div>
<div class="foldopen" id="foldopen00512" data-start="{" data-end="}">
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8947c054f842d88b2ae053650ff1d3ce">  512</a></span>    <span class="keyword">public</span> PursueAvailability <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8947c054f842d88b2ae053650ff1d3ce">getPursuitAvailability</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> otherFleet) {</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>        DataForEncounterSide otherData = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(otherFleet);</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>        </div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>        <span class="keywordflow">if</span> (otherData.isWonLastEngagement()) <span class="keywordflow">return</span> PursueAvailability.LOST_LAST_ENGAGEMENT;</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9246960440885932918f318ccedc93c2">canOutrunOtherFleet</a>(otherFleet, fleet)) <span class="keywordflow">return</span> PursueAvailability.TOO_SLOW;</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>        <span class="keywordflow">if</span> (fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#adc56a9d07d63d453ce7d9550e5774e90">getCombatReadyMembersListCopy</a>().isEmpty()) <span class="keywordflow">return</span> PursueAvailability.NO_READY_SHIPS;</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>        <span class="keywordflow">if</span> (otherData.isDidEnoughToDisengage()) <span class="keywordflow">return</span> PursueAvailability.TOOK_SERIOUS_LOSSES;</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        <span class="keywordflow">return</span> PursueAvailability.AVAILABLE;</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>    }</div>
</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    </div>
<div class="foldopen" id="foldopen00522" data-start="{" data-end="}">
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acf85c7f6b044b4b6a8d46b29309b783d">  522</a></span>    <span class="keyword">public</span> DisengageHarryAvailability <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acf85c7f6b044b4b6a8d46b29309b783d">getDisengageHarryAvailability</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> otherFleet) {</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>        DataForEncounterSide otherData = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(otherFleet);</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>        <span class="keywordflow">if</span> (otherData.isWonLastEngagement()) <span class="keywordflow">return</span> DisengageHarryAvailability.LOST_LAST_ENGAGEMENT;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>        <span class="keywordflow">if</span> (fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#adc56a9d07d63d453ce7d9550e5774e90">getCombatReadyMembersListCopy</a>().isEmpty()) <span class="keywordflow">return</span> DisengageHarryAvailability.NO_READY_SHIPS;</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>        <span class="comment">//if (otherData.isDidEnoughToDisengage()) return DisengageHarryAvailability.LOST_LAST_ENGAGEMENT</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        <span class="keywordflow">return</span> DisengageHarryAvailability.AVAILABLE;</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    }</div>
</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    </div>
<div class="foldopen" id="foldopen00530" data-start="{" data-end="}">
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">  530</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">getDeployCost</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member) {</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>        <span class="keywordflow">return</span> member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a37d951e6db6adbe77f121c499951f0c5">getDeployCost</a>();</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    }</div>
</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    </div>
<div class="foldopen" id="foldopen00534" data-start="{" data-end="}">
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a855c871e3e911fe7d3120d988be3e60e">  534</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a855c871e3e911fe7d3120d988be3e60e">isLowRepImpact</a>() {</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>        <span class="keywordtype">boolean</span> lowImpact = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>() != <span class="keyword">null</span> &amp;&amp; <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ad9e20801d4b57ae3d0f93db96fbb0829">getNonPlayerSide</a>() != <span class="keyword">null</span> &amp;&amp; </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>                            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().getNonPlayerSide()) != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>                            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().getNonPlayerSide()).<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#adcd558c1d95f9755066ddaf9a77311c1">getMemoryWithoutUpdate</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#adb833cc81359cc239a89eae309480fc9">getBoolean</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html">MemFlags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html#ad9bae86ec622c8fc7e7e467cdf4ad435">MEMORY_KEY_LOW_REP_IMPACT</a>) == <span class="keyword">true</span>;</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>        <span class="keywordflow">return</span> lowImpact;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    }</div>
</div>
<div class="foldopen" id="foldopen00540" data-start="{" data-end="}">
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33be18c67e2c0aed2e95799be7488588">  540</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33be18c67e2c0aed2e95799be7488588">isNoRepImpact</a>() {</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>        <span class="keywordtype">boolean</span> noImpact = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>() != <span class="keyword">null</span> &amp;&amp; <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ad9e20801d4b57ae3d0f93db96fbb0829">getNonPlayerSide</a>() != <span class="keyword">null</span> &amp;&amp; </div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>                           <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().getNonPlayerSide()) != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>                           <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().getNonPlayerSide()).<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#adcd558c1d95f9755066ddaf9a77311c1">getMemoryWithoutUpdate</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#adb833cc81359cc239a89eae309480fc9">getBoolean</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html">MemFlags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html#adc9d98fb4a21a565ed0d8294c20c36d6">MEMORY_KEY_NO_REP_IMPACT</a>) == <span class="keyword">true</span>;</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        <span class="keywordflow">return</span> noImpact;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    }</div>
</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    </div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a75c9efd6252ae40170a6b2b215806cbd">  547</a></span>    <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a75c9efd6252ae40170a6b2b215806cbd">alreadyAdjustedRep</a> = <span class="keyword">false</span>;</div>
<div class="foldopen" id="foldopen00548" data-start="{" data-end="}">
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a28c6b7366c0368028794f745eeed89ad">  548</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a28c6b7366c0368028794f745eeed89ad">adjustPlayerReputation</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html">InteractionDialogAPI</a> dialog, String ffText) {</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a28c6b7366c0368028794f745eeed89ad">adjustPlayerReputation</a>(dialog, ffText, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    }</div>
</div>
<div class="foldopen" id="foldopen00551" data-start="{" data-end="}">
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac6bd654cda50c5962ef742f22200edf1">  551</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac6bd654cda50c5962ef742f22200edf1">adjustPlayerReputation</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html">InteractionDialogAPI</a> dialog, String ffText, <span class="keywordtype">boolean</span> okToAdjustAlly, <span class="keywordtype">boolean</span> okToAdjustEnemy) {</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a75c9efd6252ae40170a6b2b215806cbd">alreadyAdjustedRep</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        </div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span> &amp;&amp; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>() &amp;&amp; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a>) {</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a75c9efd6252ae40170a6b2b215806cbd">alreadyAdjustedRep</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>            </div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>            <span class="keywordtype">boolean</span> printedAdjustmentText = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>            </div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>            <span class="keywordtype">boolean</span> playerWon = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6babca0a60e9da9153bb4c87d5a4b">didPlayerWinMostRecentBattleOfEncounter</a>();</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>            List&lt;CampaignFleetAPI&gt; playerSide = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af89feeda43f98a05fcefc5d8ea340d3e">getPlayerSide</a>();</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>            List&lt;CampaignFleetAPI&gt; enemySide = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ad9e20801d4b57ae3d0f93db96fbb0829">getNonPlayerSide</a>();</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>            </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> pf = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>();</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>            pf.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a7e8b31b84e48922c1b5b4cded99634db">setMoveDestination</a>(pf.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a059da851c050a5b1c104809f4e700bef">getLocation</a>().x, pf.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a059da851c050a5b1c104809f4e700bef">getLocation</a>().y);</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>            </div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>            <span class="comment">// cases to cover: 1) player destroyed ships 2) player harried/harassed 3) player pursued</span></div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>            <span class="comment">// i.e. anything other than a non-destructive retreat, w/o an engagement</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>            <span class="keywordtype">boolean</span> playerWasAggressive = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c6cd59a17ae1851086701391fd5367d">playerDidSeriousDamage</a> || !<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">playerOnlyRetreated</a>;</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>            RepActions action = <span class="keyword">null</span>;</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span><span class="comment">//          if (engagedInHostilities) {</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span><span class="comment">//              action = RepActions.COMBAT_NO_DAMAGE_ESCAPE;</span></div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span><span class="comment">//          }</span></div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>            <span class="keywordtype">boolean</span> knowsWhoPlayerIs = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#aaf1b93dd37f7760ffccc83fe3b5bafc7">knowsWhoPlayerIs</a>(enemySide);</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>            <span class="comment">//boolean lowImpact = battle.getNonPlayerCombined().getMemoryWithoutUpdate().getBoolean(MemFlags.MEMORY_KEY_LOW_REP_IMPACT) == true;</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>            <span class="keywordtype">boolean</span> lowImpact = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a855c871e3e911fe7d3120d988be3e60e">isLowRepImpact</a>();</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>            <span class="keywordflow">if</span> (lowImpact) {</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>                <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> enemy : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">getSnapshotFor</a>(enemySide)) {</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>                    <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#afc8d9d83434794631e3d05b9c8bcc6b1">makeLowRepImpact</a>(enemy, <span class="stringliteral">&quot;battleOnLowImpactSide&quot;</span>);</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>                }</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>            }</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73bdc2181f26f4f1c440b60838f6996b">playerPursued</a> &amp;&amp; playerWon) {</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>                <span class="keywordflow">if</span> (knowsWhoPlayerIs &amp;&amp; !lowImpact) {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>                    action = RepActions.COMBAT_AGGRESSIVE;</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>                    action = RepActions.COMBAT_AGGRESSIVE_TOFF;</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>                }</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (playerWasAggressive) {</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>                <span class="keywordflow">if</span> (knowsWhoPlayerIs &amp;&amp; !lowImpact) {</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>                    action = RepActions.COMBAT_NORMAL;</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>                    action = RepActions.COMBAT_NORMAL_TOFF;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>                }</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>            }</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>            </div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33be18c67e2c0aed2e95799be7488588">isNoRepImpact</a>()) {</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>                action = <span class="keyword">null</span>;</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>            }</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>            </div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>            <span class="keywordflow">if</span> (!okToAdjustEnemy) action = <span class="keyword">null</span>;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>            </div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>            Set&lt;String&gt; seen = <span class="keyword">new</span> HashSet&lt;String&gt;();</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>            <span class="keywordflow">if</span> (action != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>                <span class="comment">// use snapshot: ensure loss of reputation with factions if their fleets were destroyed</span></div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>                <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> enemy : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">getSnapshotFor</a>(enemySide)) {</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>                    String factionId = enemy.getFaction().getId();</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>                    <span class="keywordflow">if</span> (seen.contains(factionId)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>                    seen.add(factionId);</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>                    <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a254a303dda0ab94233231615f0ebeee1">adjustPlayerReputation</a>(<span class="keyword">new</span> RepActionEnvelope(action, <span class="keyword">null</span>, dialog.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html#a52d00add8a9c52795f652f493ac37244">getTextPanel</a>()), factionId);</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>                    printedAdjustmentText = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>                }</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>            }</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>            </div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>            <span class="comment">//if (playerWon) {</span></div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>                action = RepActions.COMBAT_HELP_MINOR;</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>                <span class="keywordtype">float</span> playerFP = 0;</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>                <span class="keywordtype">float</span> allyFP = 0;</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>                <span class="keywordtype">float</span> enemyFP = 0;</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>                <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">getSnapshotFor</a>(playerSide)) {</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>                    <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a40ca097d94ecea6251565ab38622bd0e">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#a8e12a29d860c1cc451079060c5ee00f4">getSnapshot</a>()) {</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>                        <span class="keywordflow">if</span> (fleet.isPlayerFleet()) {</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>                            playerFP += member.getFleetPointCost();</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>                            allyFP += member.getFleetPointCost();</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>                        }</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>                    }</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>                }</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>                <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">getSnapshotFor</a>(enemySide)) {</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>                    <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a40ca097d94ecea6251565ab38622bd0e">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#a8e12a29d860c1cc451079060c5ee00f4">getSnapshot</a>()) {</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>                        enemyFP += member.getFleetPointCost();</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>                    }</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>                }</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>                <span class="keywordflow">if</span> (allyFP &gt; enemyFP || !playerWon) {</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>                    action = RepActions.COMBAT_HELP_MINOR;</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (allyFP &lt; enemyFP * 0.5f) {</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>                    action = RepActions.COMBAT_HELP_CRITICAL;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>                    action = RepActions.COMBAT_HELP_MAJOR;</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>                }</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>                </div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span><span class="comment">//              if (playerFPHullDamageToEnemies &lt;= 0) {</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span><span class="comment">//                  action = null;</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span><span class="comment">//              } else if (playerFPHullDamageToEnemies &lt; allyFPHullDamageToEnemies * 0.1f) {</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span><span class="comment">//                  action = RepActions.COMBAT_HELP_MINOR;</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span><span class="comment">//              }</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>                <span class="keywordtype">float</span> f = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>();</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>                <span class="keywordflow">if</span> (f &lt;= 0) {</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>                    action = <span class="keyword">null</span>;</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (f &lt; 0.1f) {</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>                    action = RepActions.COMBAT_HELP_MINOR;</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>                }</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>                </div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>                <span class="keywordflow">if</span> (action != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>                    <span class="keywordtype">float</span> totalDam = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a> + <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a>;</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>                    <span class="keywordflow">if</span> (totalDam &lt; 10) {</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>                        action = RepActions.COMBAT_HELP_MINOR;</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (totalDam &lt; 20 &amp;&amp; action == RepActions.COMBAT_HELP_CRITICAL) {</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>                        action = RepActions.COMBAT_HELP_MAJOR;</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>                    }</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>                }</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>                </div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a02ea35ccf1b0016169d51e5cffbb5da8">isPlayerInvolvedAtStart</a>() &amp;&amp; action != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>                    <span class="comment">//action = RepActions.COMBAT_HELP_MINOR;</span></div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>                    action = <span class="keyword">null</span>;</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>                }</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>                </div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>                <span class="keywordflow">if</span> (!okToAdjustAlly) action = <span class="keyword">null</span>;</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span><span class="comment">//              if (leavingEarly) {</span></div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span><span class="comment">//                  action = null;</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span><span class="comment">//              }</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>                </div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>                <span class="comment">// rep increases</span></div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>                seen.clear();</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>                <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> ally : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">getSnapshotFor</a>(playerSide)) {</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>                    <span class="keywordflow">if</span> (ally.isPlayerFleet()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>                    </div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>                    String factionId = ally.getFaction().getId();</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>                    <span class="keywordflow">if</span> (seen.contains(factionId)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>                    seen.add(factionId);</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                    </div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>                    Float friendlyFPHull = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">playerFPHullDamageToAlliesByFaction</a>.get(ally.getFaction());</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>                    <span class="keywordtype">float</span> threshold = 2f;</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>                    <span class="keywordflow">if</span> (action == RepActions.COMBAT_HELP_MAJOR) {</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>                        threshold = 5f;</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == RepActions.COMBAT_HELP_CRITICAL) {</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>                        threshold = 10f;</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>                    }</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>                    <span class="keywordflow">if</span> (friendlyFPHull != <span class="keyword">null</span> &amp;&amp; friendlyFPHull &gt; threshold) {</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>                        <span class="comment">// can lose reputation with sides that didn&#39;t survive</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>                        <span class="comment">//Global.getSector().adjustPlayerReputation(new RepActionEnvelope(RepActions.COMBAT_FRIENDLY_FIRE, (friendlyFPHull - threshold), dialog.getTextPanel()), factionId);</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action != <span class="keyword">null</span> &amp;&amp; playerSide.contains(ally)) {</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>                        <span class="comment">// only gain reputation with factions whose fleets actually survived</span></div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>                        <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a254a303dda0ab94233231615f0ebeee1">adjustPlayerReputation</a>(<span class="keyword">new</span> RepActionEnvelope(action, <span class="keyword">null</span>, dialog.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html#a52d00add8a9c52795f652f493ac37244">getTextPanel</a>()), factionId);</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>                        printedAdjustmentText = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>                    }</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>                }</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>                </div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>                </div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>                <span class="comment">// friendly fire rep decreases</span></div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>                <span class="keywordflow">if</span> (okToAdjustAlly) {</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>                    <span class="keywordtype">boolean</span> first = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>                    seen.clear();</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>                    <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> ally : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">getSnapshotFor</a>(playerSide)) {</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>                        <span class="keywordflow">if</span> (ally.isPlayerFleet()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>                        </div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>                        String factionId = ally.getFaction().getId();</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>                        <span class="keywordflow">if</span> (<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Factions.html">Factions</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Factions.html#ae32638e592be6fb4d40169a91f5178d8">PLAYER</a>.equals(factionId)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>                        <span class="keywordflow">if</span> (seen.contains(factionId)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>                        seen.add(factionId);</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>                        </div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>                        Float friendlyFPHull = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">playerFPHullDamageToAlliesByFaction</a>.get(ally.getFaction());</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>                        <span class="keywordtype">float</span> threshold = 2f;</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>                        <span class="keywordflow">if</span> (action == RepActions.COMBAT_HELP_MAJOR) {</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>                            threshold = 5f;</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == RepActions.COMBAT_HELP_CRITICAL) {</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>                            threshold = 10f;</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>                        }</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>                        <span class="keywordflow">if</span> (friendlyFPHull != <span class="keyword">null</span> &amp;&amp; friendlyFPHull &gt; threshold) {</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>                            <span class="keywordflow">if</span> (first &amp;&amp; ffText != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>                                first = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>                                dialog.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html#a52d00add8a9c52795f652f493ac37244">getTextPanel</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI.html#a984f6aa6cc7da2f39c9d3a2193fc1d58">addParagraph</a>(ffText);</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>                            }</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>                            <span class="comment">// can lose reputation with sides that didn&#39;t survive</span></div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>                            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a254a303dda0ab94233231615f0ebeee1">adjustPlayerReputation</a>(<span class="keyword">new</span> RepActionEnvelope(RepActions.COMBAT_FRIENDLY_FIRE, (friendlyFPHull - threshold), dialog.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html#a52d00add8a9c52795f652f493ac37244">getTextPanel</a>()), factionId);</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>                            printedAdjustmentText = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action != <span class="keyword">null</span> &amp;&amp; playerSide.contains(ally)) {</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>                            <span class="comment">// only gain reputation with factions whose fleets actually survived</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>                            <span class="comment">//Global.getSector().adjustPlayerReputation(new RepActionEnvelope(action, null, dialog.getTextPanel()), factionId);</span></div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>                        }</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>                    }</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>                }</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            <span class="comment">//}</span></div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>            <span class="keywordflow">return</span> printedAdjustmentText;</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>        }</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>        </div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>    }</div>
</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    </div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    </div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">  739</a></span>    <span class="keyword">public</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI.html">TextPanelAPI</a> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a> = <span class="keyword">null</span>;</div>
<div class="foldopen" id="foldopen00740" data-start="{" data-end="}">
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac6bd36dfdd0a8f2db7bb0457770a307e">  740</a></span>    <span class="keyword">public</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI.html">TextPanelAPI</a> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac6bd36dfdd0a8f2db7bb0457770a307e">getTextPanelForXPGain</a>() {</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>;</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>    }</div>
</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span> </div>
<div class="foldopen" id="foldopen00744" data-start="{" data-end="}">
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a238b22364359664b10ce834e3fe98624">  744</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a238b22364359664b10ce834e3fe98624">setTextPanelForXPGain</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI.html">TextPanelAPI</a> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>) {</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>        this.textPanelForXPGain = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>;</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>    }</div>
</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span> </div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">  748</a></span>    <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">noHarryBecauseOfStation</a> = <span class="keyword">false</span>;</div>
<div class="foldopen" id="foldopen00749" data-start="{" data-end="}">
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54737242ac099e9dc420bab76306946b">  749</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54737242ac099e9dc420bab76306946b">isNoHarryBecauseOfStation</a>() {</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">noHarryBecauseOfStation</a>;</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    }</div>
</div>
<div class="foldopen" id="foldopen00752" data-start="{" data-end="}">
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a19912c0a411dad78f4c5c3d6c3bf327a">  752</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a19912c0a411dad78f4c5c3d6c3bf327a">setNoHarryBecauseOfStation</a>(<span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">noHarryBecauseOfStation</a>) {</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>        this.noHarryBecauseOfStation = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">noHarryBecauseOfStation</a>;</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>    }</div>
</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>    </div>
<div class="foldopen" id="foldopen00756" data-start="{" data-end="}">
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a494d964ac4f5c92fa01971e52f51d655">  756</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a494d964ac4f5c92fa01971e52f51d655">applyAfterBattleEffectsIfThereWasABattle</a>() {</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a917f4b9d4203ec3f96661478e23a96b9">hasWinnerAndLoser</a>() || !<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a>) {</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>            <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>()) {</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>                member.getStatus().resetAmmoState();</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>            }</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>            </div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">noHarryBecauseOfStation</a> &amp;&amp; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>                List&lt;CampaignFleetAPI&gt; otherSide = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ad9e20801d4b57ae3d0f93db96fbb0829">getNonPlayerSide</a>();</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(otherSide);</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>                <span class="keywordflow">if</span> (fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a33bfcfbc5371e5c5736058a57ac8c7ad">getAI</a>() != <span class="keyword">null</span> &amp;&amp; </div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>                        !fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a33bfcfbc5371e5c5736058a57ac8c7ad">getAI</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1CampaignFleetAIAPI.html#a4507f5ebe919b592e759bfa8f8558ebf">isCurrentAssignment</a>(<a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetAssignment.html">FleetAssignment</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetAssignment.html#a5b09a706b66ef5d404e02b70c6d6a986">STANDING_DOWN</a>)) {</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>                    fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a33bfcfbc5371e5c5736058a57ac8c7ad">getAI</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1CampaignFleetAIAPI.html#ab6b28f1fdf2c418078adbc9b6c829d2b">addAssignmentAtStart</a>(<a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetAssignment.html">FleetAssignment</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetAssignment.html#a5b09a706b66ef5d404e02b70c6d6a986">STANDING_DOWN</a>, fleet, 0.5f + 0.5f * (<span class="keywordtype">float</span>) Math.random(), <span class="keyword">null</span>);</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>                }</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>            }</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>            </div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>            <span class="comment">//Global.getSector().setLastPlayerBattleTimestamp(Global.getSector().getClock().getTimestamp());</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a630bdc4e61aa83f042ed5523c93105d3">setNoEngaging</a>(3f);</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        }</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        </div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c4aa47c971be667a4a1c4bded5410e2">gainXP</a>();</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a13e5b583e4e093a16c7cff304dda995c">addPotentialOfficer</a>();</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>        </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span><span class="comment">//      CampaignFleetAPI winner = getWinnerData().getFleet();</span></div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span><span class="comment">//      CampaignFleetAPI loser = getLoserData().getFleet();</span></div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span><span class="comment">//      List&lt;CampaignFleetAPI&gt; winners = battle.getSideFor(getWinnerData().getFleet());</span></div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span><span class="comment">//      List&lt;CampaignFleetAPI&gt; losers = battle.getSideFor(getLoserData().getFleet());</span></div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>        List&lt;CampaignFleetAPI&gt; winners = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a079e00738984aef9c8b22a779951c44b">getSnapshotSideFor</a>(<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>().getFleet());</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>        List&lt;CampaignFleetAPI&gt; losers = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a079e00738984aef9c8b22a779951c44b">getSnapshotSideFor</a>(<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>().getFleet());</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>        <span class="keywordflow">if</span> (winners == <span class="keyword">null</span> || losers == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>        </div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> loser : losers) {</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>            <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : loser.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a40ca097d94ecea6251565ab38622bd0e">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>()) {</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>                member.getStatus().resetAmmoState();</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>            }</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>            </div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            loser.getVelocity().set(0, 0);</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>            <span class="keywordflow">if</span> (loser.isPlayerFleet()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>            <span class="keywordflow">if</span> (loser.isPlayerFleet()) loser.setNoEngaging(3f);</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>            </div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>        }</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> winner : winners) {</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : winner.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a40ca097d94ecea6251565ab38622bd0e">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>()) {</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>                member.getStatus().resetAmmoState();</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>            }</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>            </div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>            winner.getVelocity().set(0, 0);</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>            <span class="keywordflow">if</span> (winner.isPlayerFleet()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>            <span class="keywordflow">if</span> (winner.isPlayerFleet()) winner.setNoEngaging(3f);</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>            </div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>        }</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>        </div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(winners)) {</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>            <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af89feeda43f98a05fcefc5d8ea340d3e">getPlayerSide</a>()) {</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>                <span class="keywordflow">if</span> (fleet.isPlayerFleet()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>                </div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>                <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a9255b1379b0a0197305d0ca26d532f3f">forgetAboutTransponder</a>(fleet);</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>            }</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        }</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>        </div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a6c6a8bb5399dde80dcf32cc8438d132c">setPlayerInvolvementFraction</a>(<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>());</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>        </div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">isAutoresolve</a> &amp;&amp; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">engagedInActualBattle</a>) {</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a9ea4efc2ffbcdaa27ef6cdbbece74e11">reportBattleOccurred</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(winners), <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>);</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#afa1677e682b8f66ea542a8f92ac30302">reportBattleFinished</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(winners), <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>);</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>        }</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>        </div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> largestWinner = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(winners);</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> loser : losers) {</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>            <span class="keywordflow">if</span> (loser.getFleetData().getMembersListCopy().isEmpty()) {</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>                <span class="comment">//Global.getSector().reportFleetDewspawned(loser, FleetDespawnReason.DESTROYED_BY_FLEET, winner);</span></div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>                loser.despawn(FleetDespawnReason.DESTROYED_BY_BATTLE, <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>);</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>            }</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>        }</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        </div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> winner : winners) {</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>            <span class="keywordflow">if</span> (winner.getFleetData().getMembersListCopy().isEmpty()) {</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>                <span class="comment">//Global.getSector().reportFleetDewspawned(loser, FleetDespawnReason.DESTROYED_BY_FLEET, winner);</span></div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>                winner.despawn(FleetDespawnReason.DESTROYED_BY_BATTLE, <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>);</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>            }</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>        }</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>        </div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> enemy : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#abe620da6424fde52f5084ae9468b730a">getBothSides</a>()) {</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>            <span class="keywordflow">if</span> (enemy.getAI() instanceof <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1ModularFleetAIAPI.html">ModularFleetAIAPI</a>) {</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1ModularFleetAIAPI.html">ModularFleetAIAPI</a> mAI = (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1ModularFleetAIAPI.html">ModularFleetAIAPI</a>) enemy.getAI();</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>                mAI.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1ModularFleetAIAPI.html#a389795b43721d407c17dbc61a9b53c82">getTacticalModule</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1TacticalModulePlugin.html#a944822b953c14f87d4c7201370c7c980">forceTargetReEval</a>();</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>            }</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>        }</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span> </div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>    }</div>
</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>    </div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>    </div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    </div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>    </div>
<div class="foldopen" id="foldopen00850" data-start="{" data-end="}">
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8cb0f56073b77ade1d8155013d603647">  850</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8cb0f56073b77ade1d8155013d603647">performPostVictoryRecovery</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result) {</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> winnerResult = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a38be74b85e76f164312345a458cd156f">getWinnerResult</a>();</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> loserResult = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a346b9485bc2e469e99b053a3427e329e">getLoserResult</a>();</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8cb0f56073b77ade1d8155013d603647">performPostVictoryRecovery</a>(winnerResult, loserResult);</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    }</div>
</div>
<div class="foldopen" id="foldopen00855" data-start="{" data-end="}">
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5f493c97affe8d8dcf6e44a4987925ca">  855</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5f493c97affe8d8dcf6e44a4987925ca">performPostEngagementRecoveryBoth</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result) {</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> winnerResult = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a38be74b85e76f164312345a458cd156f">getWinnerResult</a>();</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> loserResult = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a346b9485bc2e469e99b053a3427e329e">getLoserResult</a>();</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>        <span class="keywordtype">float</span> f = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8cb0f56073b77ade1d8155013d603647">performPostVictoryRecovery</a>(winnerResult, loserResult);</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>        f += <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8cb0f56073b77ade1d8155013d603647">performPostVictoryRecovery</a>(loserResult, winnerResult);</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>        f /= 2f;</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>        <span class="keywordflow">return</span> f;</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    }</div>
</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>        </div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>        </div>
<div class="foldopen" id="foldopen00865" data-start="{" data-end="}">
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0ee25f6b85f85660ed294042c5dc3b25">  865</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0ee25f6b85f85660ed294042c5dc3b25">performPostVictoryRecovery</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> winnerResult, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> loserResult) {</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>        DataForEncounterSide winnerData = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(winnerResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>());</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>        DataForEncounterSide loserData = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(loserResult.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>());</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>        </div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>        <span class="comment">//float totalFpUsed = 0f;</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>        <span class="keywordtype">float</span> loserDepDestroyed = 0f;</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>        <span class="keywordtype">float</span> loserDepLeft = 0f;</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        </div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : loserData.getRetreatedFromLastEngagement()) {</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>            loserDepLeft += member.getDeploymentPointsCost();</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>        }</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : loserData.getInReserveDuringLastEngagement()) {</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>            loserDepLeft += member.getDeploymentPointsCost();</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>        }</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>        </div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : loserData.getDestroyedInLastEngagement()) {</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>            loserDepDestroyed += member.getDeploymentPointsCost();</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>        }</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : loserData.getDisabledInLastEngagement()) {</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>            loserDepDestroyed += member.getDeploymentPointsCost();</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>        }</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : loserData.getRetreatedFromLastEngagement()) {</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>            <span class="keywordflow">if</span> (member.isFighterWing()) {</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html">DeployedFleetMemberAPI</a> dfm = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(loserData.getFleet()).getMemberToDeployedMap().get(member);</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>                <span class="keywordflow">if</span> (dfm != <span class="keyword">null</span> &amp;&amp; dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#a14477d02aa14cf6d33e002d9ab46861f">getMember</a>() == member) {</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>                    <span class="keywordtype">float</span> deploymentCR = dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#ab8bd06f904375d60d9d945d4796fcfc0">getShip</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a7df724d8747c43fd0da6e1ec8df7140c">getWingCRAtDeployment</a>();</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>                    <span class="keywordtype">float</span> finalCR = deploymentCR;</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>                    <span class="comment">//float finalCR = dfm.getShip().getRemainingWingCR();</span></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>                    <span class="keywordflow">if</span> (deploymentCR &gt; finalCR) {</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>                        <span class="keywordtype">float</span> crPer = dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#a14477d02aa14cf6d33e002d9ab46861f">getMember</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afd9dd6acbc98d9e404a3254ebeec29d7">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a5175b578b38a26acf679ec99352edbf7">getCRPerDeploymentPercent</a>().<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1StatBonus.html#af16110c6c18625c9f384078ce824bdda">computeEffective</a>(dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#a14477d02aa14cf6d33e002d9ab46861f">getMember</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a1230c04f66b7ca8a4a0d859f6602d7d7">getVariant</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a88fb55e65c74f293fc9098b2553bbe1c">getHullSpec</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI.html#a6ef316c1cca6df1ebbe1c9149c51a8c9">getCRToDeploy</a>()) / 100f;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>                        <span class="keywordtype">float</span> extraCraftLost = (deploymentCR - finalCR) / crPer;</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>                        <span class="keywordtype">float</span> wingSize = dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#a14477d02aa14cf6d33e002d9ab46861f">getMember</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aed4840689dd62fda2062830118fabd8a">getNumFightersInWing</a>();</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>                        <span class="keywordflow">if</span> (extraCraftLost &gt;= 1) {</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>                            loserDepDestroyed += Math.min(1f, extraCraftLost / wingSize) * member.getDeploymentPointsCost();</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>                        }</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>                    }</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>                }</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>            }</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>        }</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span> </div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>        <span class="keywordtype">float</span> totalRecovery = 0f;</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>        <span class="keywordtype">float</span> count = 0f;</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : winnerData.getDeployedInLastEngagement()) {</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>            <span class="keywordtype">float</span> dp = member.getDeploymentPointsCost();</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>            <span class="keywordtype">float</span> recoveryFraction = Math.max(0, (dp * 1.25f - loserDepDestroyed)) / dp;</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span><span class="comment">//          if (member.getFleetData() != null &amp;&amp; member.getFleetData().getFleet() != null &amp;&amp;</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span><span class="comment">//                  member.getFleetData().getFleet().isPlayerFleet()) {</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>            <span class="keywordflow">if</span> (loserDepDestroyed &gt; loserDepLeft * 2f) {</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>                recoveryFraction = Math.max(0, (dp * 0.75f - loserDepDestroyed)) / dp; </div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>            }</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>            <span class="keywordflow">if</span> (recoveryFraction &gt; 1f) recoveryFraction = 1f;</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>            <span class="keywordflow">if</span> (loserDepDestroyed &lt;= 0) recoveryFraction = 1f;</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>            </div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>            <span class="keywordtype">float</span> deployCost = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">getDeployCost</a>(member);</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa">preEngagementCRForWinner</a>.containsKey(member)) {</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>                <span class="keywordtype">float</span> prevCR = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa">preEngagementCRForWinner</a>.get(member);</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>                <span class="keywordflow">if</span> (prevCR &lt; deployCost) {</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>                    prevCR = deployCost;</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>                }</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>            }</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>            </div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>            <span class="keywordtype">float</span> recoveryAmount = Math.round(deployCost * recoveryFraction * 100f) / 100f;</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>            <span class="keywordflow">if</span> (member.getHullSpec().hasTag(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a296e991a5046057adfb5ad8aa8765b2e">FULL_CR_RECOVERY</a>)) {</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>                recoveryAmount = member.getRepairTracker().getMaxCR() - member.getRepairTracker().getCR();</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>            }</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>            </div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>            totalRecovery += recoveryAmount;</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>            count++;</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>            </div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>            <span class="keywordflow">if</span> (recoveryAmount &lt;= 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>            </div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>            </div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>            member.getRepairTracker().applyCREvent(recoveryAmount, <span class="stringliteral">&quot;Post engagement recovery&quot;</span>);</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>        }</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span> </div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>        <span class="keywordflow">if</span> (count &lt;= 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>        </div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>        <span class="keywordflow">return</span> Math.round(totalRecovery / count * 100f) / 100f;</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    }</div>
</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    </div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    </div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    </div>
<div class="foldopen" id="foldopen00947" data-start="{" data-end="}">
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a3d5e1d5b9288539a914fcf5cd50eb854">  947</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a3d5e1d5b9288539a914fcf5cd50eb854">applyPursuitOption</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> pursuingFleet, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> otherFleet, PursuitOption pursuitOption) {</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>        </div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ad9d7371e962c1a6f7424a88884716cf5">isPlayerOrCombinedPlayerPrimary</a>(pursuingFleet) &amp;&amp; pursuitOption != PursuitOption.LET_THEM_GO) {</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">playerOnlyRetreated</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>        }</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>        </div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>        DataForEncounterSide pursuer = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(pursuingFleet);</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>        DataForEncounterSide other = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(otherFleet);</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>        </div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>        <span class="keywordflow">if</span> (pursuitOption == PursuitOption.HARRY) {</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>            <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : otherFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>()) {</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>                <span class="keywordtype">float</span> deployCost = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">getDeployCost</a>(member);</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>                </div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>                <span class="keywordtype">float</span> harryCost = deployCost * 1f;</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>                member.getRepairTracker().applyCREvent(-harryCost, <span class="stringliteral">&quot;harried while disengaging&quot;</span>);</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>            }</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>        }</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>    }   </div>
</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>    </div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>    </div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>    </div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">  968</a></span>    <span class="keyword">protected</span> EngagementOutcome <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = <span class="keyword">null</span>;</div>
<div class="foldopen" id="foldopen00969" data-start="{" data-end="}">
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdb348aca27209d591db60bec597e72a">  969</a></span>    <span class="keyword">public</span> EngagementOutcome <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdb348aca27209d591db60bec597e72a">getLastEngagementOutcome</a>() {</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a>;</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>    }</div>
</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    </div>
<div class="foldopen" id="foldopen00973" data-start="{" data-end="}">
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aef5cbe50c9878737ad102be7ab8e55d5">  973</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aef5cbe50c9878737ad102be7ab8e55d5">isBattleOver</a>() {</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a917f4b9d4203ec3f96661478e23a96b9">hasWinnerAndLoser</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>        </div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != EngagementOutcome.BATTLE_PLAYER_OUT_FIRST_WIN &amp;&amp;</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != EngagementOutcome.BATTLE_PLAYER_OUT_FIRST_LOSS &amp;&amp;</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != EngagementOutcome.BATTLE_ENEMY_WIN &amp;&amp;</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != EngagementOutcome.BATTLE_PLAYER_WIN;</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>    }</div>
</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>    </div>
<div class="foldopen" id="foldopen00983" data-start="{" data-end="}">
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a29840ae2276ddd5d108438c68826ab62">  983</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a29840ae2276ddd5d108438c68826ab62">wasLastEngagementEscape</a>() {</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span><span class="comment">//             lastOutcome != EngagementOutcome.ESCAPE_PLAYER_OUT_FIRST_WIN &amp;&amp;</span></div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span><span class="comment">//             lastOutcome != EngagementOutcome.ESCAPE_PLAYER_OUT_FIRST_LOSS &amp;</span></div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != EngagementOutcome.BATTLE_ENEMY_WIN &amp;&amp;</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != EngagementOutcome.BATTLE_PLAYER_WIN;</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>    }</div>
</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>    </div>
<div class="foldopen" id="foldopen00991" data-start="{" data-end="}">
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af2a6228ccf761948efd358d6a0dd0f9a">  991</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af2a6228ccf761948efd358d6a0dd0f9a">didPlayerWinLastEngagement</a>() {</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.BATTLE_PLAYER_WIN ||</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.BATTLE_PLAYER_WIN_TOTAL ||</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.BATTLE_PLAYER_OUT_FIRST_WIN ||</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.PURSUIT_PLAYER_OUT_FIRST_WIN ||</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_PLAYER_OUT_FIRST_WIN ||</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_ENEMY_LOSS_TOTAL ||</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_ENEMY_SUCCESS ||</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_PLAYER_WIN ||</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>               <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_PLAYER_WIN_TOTAL;</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>    }</div>
</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    </div>
<div class="foldopen" id="foldopen01008" data-start="{" data-end="}">
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6babca0a60e9da9153bb4c87d5a4b"> 1008</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6babca0a60e9da9153bb4c87d5a4b">didPlayerWinMostRecentBattleOfEncounter</a>() {</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>()).disengaged()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span> </div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a60bc99bbe5230ff9215e4fb9f420ef79">didPlayerWinEncounterOutright</a>() || <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.BATTLE_PLAYER_WIN;</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>    }</div>
</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>    </div>
<div class="foldopen" id="foldopen01018" data-start="{" data-end="}">
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a60bc99bbe5230ff9215e4fb9f420ef79"> 1018</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a60bc99bbe5230ff9215e4fb9f420ef79">didPlayerWinEncounterOutright</a>() {</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>()).disengaged()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>        </div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>        <span class="comment">// non-fighting &quot;win&quot;, i.e. harrying a weaker enemy</span></div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>        <span class="comment">//if (lastOutcome == null &amp;&amp; getWinner() == Global.getSector().getPlayerFleet()) {</span></div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>        <span class="comment">//if (lastOutcome == null &amp;&amp; battle.isPlayerSide(battle.getSideFor(getWinner()))) { </span></div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == <span class="keyword">null</span> || <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a917f4b9d4203ec3f96661478e23a96b9">hasWinnerAndLoser</a>()) &amp;&amp; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54c1f6b7440de836d86691a023f884ee">getWinner</a>()))) { </div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>        }</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>        </div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.BATTLE_PLAYER_WIN_TOTAL ||</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>                <span class="comment">//lastOutcome == EngagementOutcome.BATTLE_PLAYER_WIN ||</span></div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_ENEMY_LOSS_TOTAL ||</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_ENEMY_SUCCESS ||</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_PLAYER_WIN ||</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_PLAYER_WIN_TOTAL;       </div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>    }</div>
</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>    </div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>    </div>
<div class="foldopen" id="foldopen01037" data-start="{" data-end="}">
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad10ab02ee6fe61dcf544f2a9e6ae9e52"> 1037</a></span>    <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad10ab02ee6fe61dcf544f2a9e6ae9e52">getCreditsLooted</a>() {</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">creditsLooted</a>;</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>    }</div>
</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>    </div>
<div class="foldopen" id="foldopen01041" data-start="{" data-end="}">
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6d487cd720e2081fb64cd6427d231"> 1041</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6d487cd720e2081fb64cd6427d231">getSalvageMult</a>(Status status) {</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>        <span class="keywordtype">float</span> mult = 1f;</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>        <span class="keywordflow">switch</span> (status) {</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>        <span class="keywordflow">case</span> DESTROYED:</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>            <span class="comment">//mult = 0.5f;</span></div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>            mult = 1f;</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>        <span class="keywordflow">case</span> DISABLED:</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>            mult = 1f;</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>        <span class="keywordflow">case</span> REPAIRED:</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>            mult = 1f;</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>        <span class="keywordflow">case</span> CAPTURED:</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>            mult = 0.1f;</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>        }</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>        <span class="keywordflow">return</span> mult;</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>    }</div>
</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>    </div>
<div class="foldopen" id="foldopen01061" data-start="{" data-end="}">
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2afc066cdd9155e4197c0036918d2852"> 1061</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2afc066cdd9155e4197c0036918d2852">getCargoLootMult</a>(Status status) {</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>        <span class="keywordtype">float</span> mult = 1f;</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>        <span class="keywordflow">switch</span> (status) {</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>        <span class="keywordflow">case</span> DESTROYED:</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>            mult = 1f;</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>        <span class="keywordflow">case</span> DISABLED:</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>            mult = 1f;</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>        <span class="keywordflow">case</span> REPAIRED:</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>            mult = 1f;</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>        <span class="keywordflow">case</span> CAPTURED:</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>            mult = 1f;</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>        }</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>        <span class="keywordflow">return</span> mult;</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>    }</div>
</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>    </div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span><span class="comment">//  public List&lt;FleetMemberAPI&gt; repairShips() {</span></div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span><span class="comment">//      DataForEncounterSide winner = getWinnerData();</span></div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span><span class="comment">//      return repairShips(winner);</span></div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span><span class="comment">//      </span></div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span><span class="comment">//  }</span></div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>    </div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">enum</span> EngageBoardableOutcome {</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>        ESCAPED,</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>        DISABLED,</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>        DESTROYED,</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>    }</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>    </div>
<div class="foldopen" id="foldopen01094" data-start="{" data-end="}">
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa54544acd2e820f6413833a0bba313b7"> 1094</a></span>    <span class="keyword">public</span> EngageBoardableOutcome <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa54544acd2e820f6413833a0bba313b7">engageBoardableShip</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> toBoard, </div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>                                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleetItBelongsTo,</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>                                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> attackingFleet) {</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>        <span class="keywordtype">float</span> r = (float) Math.random();</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span><span class="comment">//      if (r &lt; ENGAGE_ESCAPE_CHANCE &amp;&amp; !Misc.isPlayerOrCombinedContainingPlayer(attackingFleet)) {</span></div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span><span class="comment">//          // escaped</span></div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span><span class="comment">//          CampaignFleetAPI fleet = getBattle().getSourceFleet(toBoard);</span></div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span><span class="comment">//          letBoardableGo(toBoard, fleet, attackingFleet);</span></div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span><span class="comment">//          </span></div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span><span class="comment">//          return EngageBoardableOutcome.ESCAPED;</span></div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span><span class="comment">//      } else</span></div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>        <span class="keywordflow">if</span> (r &lt; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73dee6280666365aa3db13f5a41bcdfe">ENGAGE_ESCAPE_CHANCE</a> + <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a230abb96b3b20fb578c144fb6f495532">ENGAGE_DISABLE_CHANCE</a>) {</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>            <span class="comment">// disabled</span></div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>            DataForEncounterSide attackerSide = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(attackingFleet);</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>            attackerSide.changeEnemy(toBoard, Status.DISABLED);</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>            toBoard.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#abb80a64884429b37aa0c3a845c295f56">getStatus</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#a4726b09d82c1f4be5cd320bd28d89359">disable</a>();</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>            <span class="keywordflow">return</span> EngageBoardableOutcome.DISABLED;</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>            DataForEncounterSide attackerSide = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(attackingFleet);</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>            attackerSide.changeEnemy(toBoard, Status.DESTROYED);</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>            toBoard.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#abb80a64884429b37aa0c3a845c295f56">getStatus</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#a4726b09d82c1f4be5cd320bd28d89359">disable</a>();</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>            <span class="keywordflow">return</span> EngageBoardableOutcome.DESTROYED;</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>        }</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>    }</div>
</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>    </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    </div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">enum</span> BoardingAttackType {</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        SHIP_TO_SHIP,</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>        LAUNCH_FROM_DISTANCE,</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>    }</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">enum</span> BoardingOutcome {</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>        SUCCESS,</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>        SELF_DESTRUCT,</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>        SUCCESS_TOO_DAMAGED,</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>        SHIP_ESCAPED,</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>        SHIP_ESCAPED_CLEAN,</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>    }</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>    </div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class </span>BoardingResult {</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>        <span class="keyword">private</span> BoardingOutcome outcome;</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>        <span class="keyword">private</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> attackerLosses = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">getFactory</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a5a8d2bc6f7380d2b61f93f3a23627141">createCrewComposition</a>();</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>        <span class="keyword">private</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> defenderLosses = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">getFactory</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a5a8d2bc6f7380d2b61f93f3a23627141">createCrewComposition</a>();</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>        <span class="keyword">private</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member;</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>        <span class="keyword">private</span> List&lt;FleetMemberAPI&gt; lostInSelfDestruct = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;();</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>        </div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>        <span class="keyword">public</span> BoardingOutcome getOutcome() {</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>            <span class="keywordflow">return</span> outcome;</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>        }</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>        <span class="keyword">public</span> List&lt;FleetMemberAPI&gt; getLostInSelfDestruct() {</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>            <span class="keywordflow">return</span> lostInSelfDestruct;</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>        }</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>        <span class="keyword">public</span> <span class="keywordtype">void</span> setOutcome(BoardingOutcome outcome) {</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>            this.outcome = outcome;</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>        }</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>        <span class="keyword">public</span> CrewCompositionAPI getAttackerLosses() {</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>            <span class="keywordflow">return</span> attackerLosses;</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>        }</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>        <span class="keyword">public</span> <span class="keywordtype">void</span> setAttackerLosses(CrewCompositionAPI attackerLosses) {</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>            this.attackerLosses = attackerLosses;</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>        }</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>        <span class="keyword">public</span> CrewCompositionAPI getDefenderLosses() {</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>            <span class="keywordflow">return</span> defenderLosses;</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>        }</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>        <span class="keyword">public</span> <span class="keywordtype">void</span> setDefenderLosses(CrewCompositionAPI defenderLosses) {</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>            this.defenderLosses = defenderLosses;</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>        }</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>        <span class="keyword">public</span> FleetMemberAPI getMember() {</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>            <span class="keywordflow">return</span> member;</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>        }</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>        <span class="keyword">public</span> <span class="keywordtype">void</span> setMember(FleetMemberAPI member) {</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>            this.member = member;</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>        }</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>        </div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>    }</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>    </div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac70bc2c5d395bae2a66bfd7ae92b9e82"> 1169</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac70bc2c5d395bae2a66bfd7ae92b9e82">SELF_DESTRUCT_CHANCE</a> = 0.25f;</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a7fbb3e0fde5e5324e45ea347ad2c4de7"> 1170</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a7fbb3e0fde5e5324e45ea347ad2c4de7">CIV_SELF_DESTRUCT_CHANCE</a> = 0.05f;</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>    </div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73dee6280666365aa3db13f5a41bcdfe"> 1172</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73dee6280666365aa3db13f5a41bcdfe">ENGAGE_ESCAPE_CHANCE</a> = 0.25f;</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a230abb96b3b20fb578c144fb6f495532"> 1173</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a230abb96b3b20fb578c144fb6f495532">ENGAGE_DISABLE_CHANCE</a> = 0.5f;</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4467f5e99f2dffb06b84249466eeb88e"> 1174</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4467f5e99f2dffb06b84249466eeb88e">ENGAGE_DESTROY_CHANCE</a> = 0.25f;</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>    </div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae0b7182d119267f57ae9408276b88d6d"> 1176</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae0b7182d119267f57ae9408276b88d6d">LAUNCH_CLEAN_ESCAPE_CHANCE</a> = 0.5f;</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c676597d812ac6f2074e6515b8d3a8a"> 1177</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c676597d812ac6f2074e6515b8d3a8a">DOCK_SUCCESS_CHANCE</a> = 0.5f;</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a920151d2f84ddc310d0d84f175bf2017"> 1178</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a920151d2f84ddc310d0d84f175bf2017">LAUNCH_SUCCESS_CHANCE</a> = 0.25f;</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>    </div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>    <span class="comment">//public static final float DEFENDER_BONUS = 4f;</span></div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>    <span class="comment">//public static final float DEFENDER_VS_LAUNCH_BONUS = 3f;</span></div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>    </div>
<div class="foldopen" id="foldopen01183" data-start="{" data-end="}">
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6392fb04ef8030b549150362859efd55"> 1183</a></span>    <span class="keyword">public</span> BoardingResult <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6392fb04ef8030b549150362859efd55">boardShip</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> attacker, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> defender) {</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>        </div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>        </div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>        DataForEncounterSide attackerSide = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(attacker);</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>        DataForEncounterSide defenderSide = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(defender);</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>        </div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>        <span class="keywordtype">float</span> attackerMarineMult = attacker.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#ae3115abfff85b22cc1b3e855c96c6480">getCommanderStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a99062137ccce5dab93a79ff3812a3ecc">getMarineEffectivnessMult</a>().<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableStat.html#a6ae491ba70695a2098f790d7421d9ef2">getModifiedValue</a>();</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>        <span class="keywordtype">float</span> defenderMarineMult = defender.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#ae3115abfff85b22cc1b3e855c96c6480">getCommanderStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a99062137ccce5dab93a79ff3812a3ecc">getMarineEffectivnessMult</a>().<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableStat.html#a6ae491ba70695a2098f790d7421d9ef2">getModifiedValue</a>();</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>        </div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>        <span class="keywordtype">float</span> crewMult = 2f;</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>        <span class="keywordtype">float</span> marineMult = 7f;</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>        </div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>        </div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>        <span class="keywordtype">float</span> attackerStr = attacker.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a1d81b3ea35bf2321799534bdd0136a84">getMarines</a>() * marineMult;</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>        attackerStr *= attackerMarineMult;</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>        </div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> defenderCrew = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aae897f8cf2d57239d6740b128254c5ae">getCrewComposition</a>();</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>        <span class="keywordtype">float</span> defenderStr = defenderCrew.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>() * crewMult + defenderCrew.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5e1ca9f384ef07e3c55d1f84c83c90e1">getMarines</a>() * marineMult;</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>        defenderStr *= defenderMarineMult;</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span> </div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>        <span class="comment">//defenderStr *= Global.getSettings().getFloat(&quot;boardingDifficulty&quot;);</span></div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>        </div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>        Random rand = <span class="keyword">new</span> Random(1300000 * (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a13eb0519006764001bf3514c70f1fb16">getId</a>().hashCode() + defender.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#a8e791da6811cee24af4a1c3c30496ba8">getId</a>().hashCode() + <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a337e494f6f1704a914486866a82b6ba8">getClock</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignClockAPI.html#a69e624fe064ca3e21faeaeafc7302d48">getDay</a>()));</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>        attackerStr *= 0.75f + 0.25f * rand.nextFloat();</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>        defenderStr *= 0.75f + 0.25f * rand.nextFloat();</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>        </div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>        <span class="keywordtype">boolean</span> attackerWin = attackerStr &gt; defenderStr;</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>        <span class="keywordtype">boolean</span> defenderWin = !attackerWin;</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>        </div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>        BoardingResult result = <span class="keyword">new</span> BoardingResult();</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>        result.setMember(member);</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>        </div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>        </div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>        BoardingOutcome outcome = BoardingOutcome.SUCCESS;</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>        <span class="keywordflow">if</span> (defenderWin) {</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>            outcome = BoardingOutcome.SHIP_ESCAPED;</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>        }</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>        </div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> boardingParty = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">getFactory</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a5a8d2bc6f7380d2b61f93f3a23627141">createCrewComposition</a>();</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>        boardingParty.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a86214ffdba5579fbac6ba5c315280531">addMarines</a>(attacker.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a1d81b3ea35bf2321799534bdd0136a84">getMarines</a>());</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>        </div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>        result.setOutcome(outcome);</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>        <span class="keywordflow">switch</span> (outcome) {</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>        <span class="keywordflow">case</span> SHIP_ESCAPED:</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8be6559e8f57371ab859d0eaedd3e2e8">computeCrewLossFromBoarding</a>(result, member, boardingParty, attackerStr, defenderStr);</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>            result.getAttackerLosses().removeFromCargo(attacker.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>());</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>            member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aae897f8cf2d57239d6740b128254c5ae">getCrewComposition</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a0a4d5e9ee9a492baa0cd0838c4e96dbc">removeAll</a>(result.getDefenderLosses());</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>            </div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af6ea1f32307606f32320c8116c39bd7f">letBoardableGo</a>(member, defender, attacker);</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>        <span class="keywordflow">case</span> SUCCESS:</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8be6559e8f57371ab859d0eaedd3e2e8">computeCrewLossFromBoarding</a>(result, member, boardingParty, attackerStr, defenderStr);</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>            result.getAttackerLosses().removeFromCargo(attacker.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>());</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>            member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aae897f8cf2d57239d6740b128254c5ae">getCrewComposition</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a0a4d5e9ee9a492baa0cd0838c4e96dbc">removeAll</a>(result.getDefenderLosses());</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>            </div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>            <span class="comment">//attackerSide.removeEnemyCasualty(member);</span></div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>            attacker.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aae3057dba1c046f7e1bbe35de5f20119">addFleetMember</a>(member);</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a1a91abcbf98c938054b244db0633d426">getCombinedFor</a>(attacker).<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aae3057dba1c046f7e1bbe35de5f20119">addFleetMember</a>(member);</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>            </div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>            member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#ad70eba90ebbd5691b064ae9c2695a966">getRepairTracker</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#a0abf00e55db7bdf47429286a5b4d2aa8">setMothballed</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>            <span class="comment">//defender.getFleetData().removeFleetMember(member);</span></div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>            </div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>            attackerSide.changeEnemy(member, Status.CAPTURED);</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>            defenderSide.changeOwn(member, Status.CAPTURED);</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>            </div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>            attackerSide.getInReserveDuringLastEngagement().add(member);</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>            defenderSide.getDestroyedInLastEngagement().remove(member);</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>            defenderSide.getDisabledInLastEngagement().remove(member);</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>            </div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>            member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afc5494c88f9095e674a60c2bd4fab516">setOwner</a>(0);</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>            member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a746c0756db05b1bdbea1f822601b143f">setCaptain</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">getFactory</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a7a7ee0ac555a566538b56bc4e6462e9a">createPerson</a>());</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>        }</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span> </div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>    }</div>
</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>    </div>
<div class="foldopen" id="foldopen01260" data-start="{" data-end="}">
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a716db89fe71ef13da8f83e564822520d"> 1260</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a716db89fe71ef13da8f83e564822520d">getBoardingSuccessPercent</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> attacker, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> defender) {</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>        DataForEncounterSide attackerSide = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(attacker);</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>        DataForEncounterSide defenderSide = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(defender);</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>        <span class="keywordtype">float</span> attackerMarineMult = attacker.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#ae3115abfff85b22cc1b3e855c96c6480">getCommanderStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a99062137ccce5dab93a79ff3812a3ecc">getMarineEffectivnessMult</a>().<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableStat.html#a6ae491ba70695a2098f790d7421d9ef2">getModifiedValue</a>();</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>        <span class="keywordtype">float</span> defenderMarineMult = defender.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#ae3115abfff85b22cc1b3e855c96c6480">getCommanderStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a99062137ccce5dab93a79ff3812a3ecc">getMarineEffectivnessMult</a>().<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableStat.html#a6ae491ba70695a2098f790d7421d9ef2">getModifiedValue</a>();</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>        </div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>        <span class="keywordtype">float</span> crewMult = 2f;</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>        <span class="keywordtype">float</span> marineMult = 7f;</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>        </div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>        Random rand = <span class="keyword">new</span> Random();</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>        </div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>        <span class="keywordtype">float</span> wins = 0;</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>        <span class="keywordtype">float</span> losses = 0;</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>        </div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 100; i++) {</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>            <span class="keywordtype">float</span> attackerStr = attacker.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a1d81b3ea35bf2321799534bdd0136a84">getMarines</a>() * marineMult;</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>            attackerStr *= attackerMarineMult;</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>            </div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> defenderCrew = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aae897f8cf2d57239d6740b128254c5ae">getCrewComposition</a>();</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>            <span class="keywordtype">float</span> defenderStr = defenderCrew.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>() * crewMult + defenderCrew.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5e1ca9f384ef07e3c55d1f84c83c90e1">getMarines</a>() * marineMult;</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>            defenderStr *= defenderMarineMult;</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>    </div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>            <span class="comment">//defenderStr *= Global.getSettings().getFloat(&quot;boardingDifficulty&quot;);</span></div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>            </div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>            attackerStr *= 0.75f + 0.25f * rand.nextFloat();</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>            defenderStr *= 0.75f + 0.25f * rand.nextFloat();</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>        </div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>            <span class="keywordtype">boolean</span> attackerWin = attackerStr &gt; defenderStr;</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>            <span class="keywordflow">if</span> (attackerWin) wins++;</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>            <span class="keywordflow">else</span> losses++;</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>        }</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>        </div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>        <span class="keywordflow">return</span> wins;</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>    }</div>
</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>    </div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    </div>
<div class="foldopen" id="foldopen01296" data-start="{" data-end="}">
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8435db25101ca050840816ea2da92866"> 1296</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8435db25101ca050840816ea2da92866">computeMissedLaunchLosses</a>(BoardingResult result, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> boardingParty) {</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>        result.getAttackerLosses().addAll(boardingParty);</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>        result.getAttackerLosses().multiplyBy((<span class="keywordtype">float</span>) Math.random() * 0.2f);</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>    }</div>
</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>    </div>
<div class="foldopen" id="foldopen01301" data-start="{" data-end="}">
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8be6559e8f57371ab859d0eaedd3e2e8"> 1301</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8be6559e8f57371ab859d0eaedd3e2e8">computeCrewLossFromBoarding</a>(BoardingResult result,</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>                            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> boardingParty,</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>                            <span class="keywordtype">float</span> attackerStr, <span class="keywordtype">float</span> defenderStr) {</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>        </div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>        <span class="keywordflow">if</span> (attackerStr &lt; 1) attackerStr = 1;</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>        <span class="keywordflow">if</span> (defenderStr &lt; 1) defenderStr = 1;</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>        <span class="keywordtype">float</span> cap = 2f;</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>        <span class="keywordtype">float</span> attackerExtraStr = 0f;</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>        <span class="keywordflow">if</span> (attackerStr &gt; defenderStr * cap) {</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>            attackerExtraStr = attackerStr - defenderStr * cap;  </div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>            attackerStr = defenderStr * cap;</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>        }</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>        <span class="keywordflow">if</span> (defenderStr &gt; attackerStr * cap) {</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>            defenderStr = attackerStr * cap;</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>        }</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>        </div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>        <span class="keywordtype">float</span> attackerLosses = defenderStr / (attackerStr + defenderStr);</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>        <span class="keywordtype">float</span> defenderLosses = attackerStr / (attackerStr + defenderStr);</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>        </div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>        <span class="keywordflow">if</span> (attackerStr &gt; defenderStr) {</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>            result.getAttackerLosses().addAll(boardingParty);</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>            result.getAttackerLosses().multiplyBy(attackerLosses * attackerStr / (attackerExtraStr + attackerStr));</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>            result.getDefenderLosses().addAll(member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aae897f8cf2d57239d6740b128254c5ae">getCrewComposition</a>());</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>            result.getDefenderLosses().multiplyBy(defenderLosses);</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>            result.getAttackerLosses().addAll(boardingParty);</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>            result.getAttackerLosses().multiplyBy(attackerLosses);</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>            result.getDefenderLosses().addAll(member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aae897f8cf2d57239d6740b128254c5ae">getCrewComposition</a>());</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>            result.getDefenderLosses().multiplyBy(defenderLosses);</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>        }</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>        <span class="comment">//member.getCrewComposition().removeAll(result.getDefenderLosses());</span></div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>    }</div>
</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>    </div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>    </div>
<div class="foldopen" id="foldopen01335" data-start="{" data-end="}">
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a93fc31b43c898dd58a3a6c75a3c17caa"> 1335</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a93fc31b43c898dd58a3a6c75a3c17caa">applyBoardingSelfDestruct</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, </div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>             <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> boardingParty, BoardingAttackType attackType,</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>             List&lt;FleetMemberAPI&gt; boardingTaskForce,</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>             <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> attacker, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> defender,</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>             BoardingResult result) {</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>        </div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>        DataForEncounterSide attackerSide = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(attacker);</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>        DataForEncounterSide defenderSide = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(defender);</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>        </div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>        attackerSide.changeEnemy(member, Status.DESTROYED);</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>        defenderSide.changeOwn(member, Status.DESTROYED);</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span> </div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>        </div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> total = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">getFactory</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a5a8d2bc6f7380d2b61f93f3a23627141">createCrewComposition</a>();</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>        </div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>        <span class="keywordflow">if</span> (attackType == BoardingAttackType.SHIP_TO_SHIP) {</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>            <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> fm : boardingTaskForce) {</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>                <span class="keywordtype">float</span> damage = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afd9dd6acbc98d9e404a3254ebeec29d7">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a7e2068d10d01dc5b32f000de62977005">getFluxCapacity</a>().<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableStat.html#a6ae491ba70695a2098f790d7421d9ef2">getModifiedValue</a>() * (1f + (float) Math.random() * 0.5f);</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>                <span class="keywordtype">float</span> hull = fm.getStatus().getHullFraction();</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>                <span class="keywordtype">float</span> hullDamageFactor = 0f;</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>                fm.getStatus().applyDamage(damage);</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>                <span class="keywordflow">if</span> (fm.getStatus().getHullFraction() &lt;= 0) {</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>                    fm.getStatus().disable();</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>                    attacker.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#ac672b758ab99500a6dc92470d1215429">removeFleetMember</a>(fm);</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>                    attackerSide.addOwn(fm, Status.DESTROYED);</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>                    <span class="comment">//total.addAll(fm.getCrewComposition());</span></div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>                    </div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>                    attackerSide.getRetreatedFromLastEngagement().remove(fm);</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>                    attackerSide.getInReserveDuringLastEngagement().remove(fm);</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>                    attackerSide.getDeployedInLastEngagement().remove(fm);</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>                    attackerSide.getDestroyedInLastEngagement().add(fm);</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>                    </div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>                    result.getLostInSelfDestruct().add(fm);</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>                    </div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>                    hullDamageFactor = 1f;</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>                    <span class="keywordtype">float</span> newHull = fm.getStatus().getHullFraction();</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>                    <span class="keywordtype">float</span> diff = hull - newHull;</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>                    <span class="keywordflow">if</span> (diff &lt; 0) diff = 0;</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>                    hullDamageFactor = diff;</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>                }</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> temp = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">getFactory</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a5a8d2bc6f7380d2b61f93f3a23627141">createCrewComposition</a>();</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>                temp.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a4b8caac979f4f37c904e25570ebdb546">addAll</a>(fm.getCrewComposition());</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>                <span class="keywordtype">float</span> lossFraction = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279">computeLossFraction</a>(fm, <span class="keyword">null</span>, fm.getStatus().getHullFraction(), hullDamageFactor);</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>                temp.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a6139cce9489d025c4c624621e06c87b6">multiplyBy</a>(lossFraction);</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>                total.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a4b8caac979f4f37c904e25570ebdb546">addAll</a>(temp);</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>            }</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>            <span class="comment">//total.removeAll(boardingParty);</span></div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>        }</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>        </div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>        <span class="keywordtype">float</span> lossFraction = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279">computeLossFraction</a>(<span class="keyword">null</span>, <span class="keyword">null</span>, 0f, 1f);</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>        total.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a30987803f1e663834e2bdde17e4445de">setMarines</a>(Math.round(Math.max(total.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5e1ca9f384ef07e3c55d1f84c83c90e1">getMarines</a>(), boardingParty.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5e1ca9f384ef07e3c55d1f84c83c90e1">getMarines</a>() * lossFraction)));</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>        total.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#aed36abc6525fae23823558ed15463e6e">setCrew</a>(Math.round(Math.max(total.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>(), boardingParty.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>() * lossFraction)));</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>        </div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>        <span class="comment">//result.getAttackerLosses().addAll(boardingParty);</span></div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span><span class="comment">//      float lossFraction = computeLossFraction(boardingTaskForce.get(0), 0f, 1f);</span></div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span><span class="comment">//      total.multiplyBy(lossFraction);</span></div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>        </div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>        result.getAttackerLosses().addAll(total);</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>        result.getDefenderLosses().addAll(member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aae897f8cf2d57239d6740b128254c5ae">getCrewComposition</a>());</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>    }</div>
</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>    </div>
<div class="foldopen" id="foldopen01397" data-start="{" data-end="}">
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af6ea1f32307606f32320c8116c39bd7f"> 1397</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af6ea1f32307606f32320c8116c39bd7f">letBoardableGo</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> toBoard, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleetItBelongsTo, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> attackingFleet) {</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>        DataForEncounterSide attackerSide = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(attackingFleet);</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>        attackerSide.removeEnemyCasualty(toBoard);</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>        </div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>        DataForEncounterSide defenderSide = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(fleetItBelongsTo);</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>        defenderSide.removeOwnCasualty(toBoard);</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>        </div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>        </div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>        defenderSide.getDestroyedInLastEngagement().remove(toBoard);</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>        defenderSide.getDisabledInLastEngagement().remove(toBoard);</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>        defenderSide.getRetreatedFromLastEngagement().add(toBoard);</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>        </div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>        <span class="keywordflow">if</span> (!fleetItBelongsTo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#ae8b9efa57c717611219aa5b2eec64f31">isValidPlayerFleet</a>()) {</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>            fleetItBelongsTo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#afa92a63e50e7d20d446add1070236422">removeCrew</a>(fleetItBelongsTo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a4ff7dcb3c3b16501a83cdaa73ea903fd">getCrew</a>());</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>            fleetItBelongsTo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a3e75c9e343998a2e05bd3bf38ba388a5">removeMarines</a>(fleetItBelongsTo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a1d81b3ea35bf2321799534bdd0136a84">getMarines</a>());</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>        }</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>        </div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html">FleetDataAPI</a> data = fleetItBelongsTo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>();</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>        data.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aae3057dba1c046f7e1bbe35de5f20119">addFleetMember</a>(toBoard);</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>        </div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a1a91abcbf98c938054b244db0633d426">getCombinedFor</a>(fleetItBelongsTo).<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aae3057dba1c046f7e1bbe35de5f20119">addFleetMember</a>(toBoard);</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>        </div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>        toBoard.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aae897f8cf2d57239d6740b128254c5ae">getCrewComposition</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a31be5bb0ed544f99b901ee8d1cfc35af">addToCargo</a>(fleetItBelongsTo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>());</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>    }</div>
</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>    </div>
<div class="foldopen" id="foldopen01422" data-start="{" data-end="}">
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6c0cd3ca075fff451980242fbaa507d8"> 1422</a></span>    <span class="keyword">public</span> List&lt;FleetMemberAPI&gt; <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6c0cd3ca075fff451980242fbaa507d8">getStoryRecoverableShips</a>() {</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">storyRecoverableShips</a>;</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>    }</div>
</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span> </div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab"> 1426</a></span>    <span class="keyword">protected</span> List&lt;FleetMemberAPI&gt; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab">recoverableShips</a> = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;();</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36"> 1427</a></span>    <span class="keyword">protected</span> List&lt;FleetMemberAPI&gt; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">storyRecoverableShips</a> = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;();</div>
<div class="foldopen" id="foldopen01428" data-start="{" data-end="}">
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a01cea5d0a5dd74d201e0588390054030"> 1428</a></span>    <span class="keyword">public</span> List&lt;FleetMemberAPI&gt; <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a01cea5d0a5dd74d201e0588390054030">getRecoverableShips</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> winningFleet, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> otherFleet) {</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>        </div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">storyRecoverableShips</a>.clear();</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>        </div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>        List&lt;FleetMemberAPI&gt; result = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;();</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span><span class="comment">//      int max = Global.getSettings().getMaxShipsInFleet() - </span></div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span><span class="comment">//                Global.getSector().getPlayerFleet().getFleetData().getMembersListCopy().size();</span></div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span><span class="comment">//      if (Misc.isPlayerOrCombinedContainingPlayer(winningFleet) &amp;&amp; max &lt;= 0) {</span></div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span><span class="comment">//          return result;</span></div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span><span class="comment">//      }</span></div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>        </div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a99c94dcf54650eb730c842fd16951d3a">isPlayerOrCombinedContainingPlayer</a>(otherFleet)) {</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>        }</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>        </div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>        DataForEncounterSide winnerData = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(winningFleet);</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>        DataForEncounterSide loserData = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(otherFleet);</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>        </div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>        <span class="keywordtype">float</span> playerContribMult = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>();</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>        List&lt;FleetMemberData&gt; enemyCasualties = winnerData.getEnemyCasualties();</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>        List&lt;FleetMemberData&gt; ownCasualties = winnerData.getOwnCasualties();</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>        List&lt;FleetMemberData&gt; all = <span class="keyword">new</span> ArrayList&lt;FleetMemberData&gt;();</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>        all.addAll(ownCasualties);</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>        Collections.sort(all, <span class="keyword">new</span> Comparator&lt;FleetMemberData&gt;() {</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>            <span class="keyword">public</span> <span class="keywordtype">int</span> compare(FleetMemberData o1, FleetMemberData o2) {</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>                <span class="keywordtype">int</span> result = o2.getMember().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a1230c04f66b7ca8a4a0d859f6602d7d7">getVariant</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a2e52cbdc849ea3ee1912ff183824752e">getSMods</a>().size() - o1.getMember().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a1230c04f66b7ca8a4a0d859f6602d7d7">getVariant</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a2e52cbdc849ea3ee1912ff183824752e">getSMods</a>().size();</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>                <span class="keywordflow">if</span> (result == 0) {</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>                    result = o2.getMember().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#af485a48c157fbe17d0968e14904341c2">getHullSpec</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI.html#a18240a4a6fbb6bf108f5f04ce1b2ac6d">getHullSize</a>().ordinal() - o1.getMember().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#af485a48c157fbe17d0968e14904341c2">getHullSpec</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI.html#a18240a4a6fbb6bf108f5f04ce1b2ac6d">getHullSize</a>().ordinal();</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>                }</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>                <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>            }</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>        });</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>        </div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>        </div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>        <span class="comment">//Random random = Misc.getRandom(battle.getSeed(), 11);</span></div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>        Random random = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a3feeb2f72d0202d858da380fc1b59d1b">getRandom</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a3ab402c36759be309fd2e5b3bf9c0ca2">getPlayerBattleSeed</a>(), 11);</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>        <span class="comment">//System.out.println(&quot;BATTLE SEED: &quot; + Global.getSector().getPlayerBattleSeed());</span></div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>        </div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>        <span class="comment">// since the number of recoverable ships is limited, prefer &quot;better&quot; ships</span></div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>        <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html">WeightedRandomPicker&lt;FleetMemberData&gt;</a> enemyPicker = <span class="keyword">new</span> <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html">WeightedRandomPicker&lt;FleetMemberData&gt;</a>(random);</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>        </div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>        <span class="comment">// doesn&#39;t matter how it&#39;s sorted, as long as it&#39;s consistent so that</span></div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>        <span class="comment">// the order it&#39;s insertied into the picker in is the same</span></div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>        List&lt;FleetMemberData&gt; enemy = <span class="keyword">new</span> ArrayList&lt;FleetMemberData&gt;(enemyCasualties);</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>        Collections.sort(enemy, <span class="keyword">new</span> Comparator&lt;FleetMemberData&gt;() {</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>            <span class="keyword">public</span> <span class="keywordtype">int</span> compare(FleetMemberData o1, FleetMemberData o2) {</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>                <span class="keywordtype">int</span> result = o2.getMember().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a13eb0519006764001bf3514c70f1fb16">getId</a>().hashCode() - o1.getMember().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a13eb0519006764001bf3514c70f1fb16">getId</a>().hashCode();</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>                <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>            }</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>        });</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>        </div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>        <span class="keywordflow">for</span> (FleetMemberData curr : enemy) {</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>            <span class="keywordtype">float</span> base = 10f;</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>            <span class="keywordflow">switch</span> (curr.getMember().getHullSpec().getHullSize()) {</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>            <span class="keywordflow">case</span> CAPITAL_SHIP: base = 40f; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>            <span class="keywordflow">case</span> CRUISER: base = 20f; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>            <span class="keywordflow">case</span> DESTROYER: base = 10f; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>            <span class="keywordflow">case</span> FRIGATE: base = 5f; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>            }</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>            <span class="keywordtype">float</span> w = curr.getMember().getUnmodifiedDeploymentPointsCost() / base;</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>            </div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>            enemyPicker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a208270a6df0e8d484033d2d4a2bf15fb">add</a>(curr, w);</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>        }</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>        List&lt;FleetMemberData&gt; sortedEnemy = <span class="keyword">new</span> ArrayList&lt;FleetMemberData&gt;();</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>        <span class="keywordflow">while</span> (!enemyPicker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a7930e788b27fc86b44da2a7e00a53c2b">isEmpty</a>()) {</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>            sortedEnemy.add(enemyPicker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#ad9935bcbf0c43b6f22d54cb59697eb1c">pickAndRemove</a>());</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>        }</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>        </div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>        </div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>        all.addAll(sortedEnemy);</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>        </div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span><span class="comment">//      for (FleetMemberData curr : all) {</span></div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span><span class="comment">//          System.out.println(curr.getMember().getHullId());</span></div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span><span class="comment">//      }</span></div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>        </div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> playerFleet = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>();</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>        </div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>        <span class="keywordtype">int</span> maxRecoverablePerType = 24;</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>        </div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>        <span class="keywordtype">float</span> probLessDModsOnNext = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;baseProbLessDModsOnRecoverableEnemyShip&quot;</span>);</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>        <span class="keywordtype">float</span> lessDmodsOnNextMult = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;lessDModsOnRecoverableEnemyShipMultNext&quot;</span>);</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>        </div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>        <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>        <span class="keywordflow">for</span> (FleetMemberData data : all) {</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span><span class="comment">//          if (data.getMember().getHullId().contains(&quot;legion&quot;)) {</span></div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span><span class="comment">//              System.out.println(&quot;wefwefwefe&quot;);</span></div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span><span class="comment">//          }</span></div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>            <span class="comment">//if (data.getMember().getHullSpec().getHints().contains(ShipTypeHints.UNBOARDABLE)) continue;</span></div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#af3d73ce1e389e75975f44afba71442bc">isUnboardable</a>(data.getMember())) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>            <span class="keywordflow">if</span> (data.getStatus() != Status.DISABLED &amp;&amp; data.getStatus() != Status.DESTROYED) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span> </div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>            <span class="keywordtype">boolean</span> own = ownCasualties.contains(data);</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>            <span class="keywordflow">if</span> (own &amp;&amp; data.getMember().isAlly()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span> </div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span><span class="comment">//          if (data.getMember().getHullId().startsWith(&quot;vanguard_pirates&quot;)) {</span></div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span><span class="comment">//              System.out.println(&quot;wefwefwefe12341234&quot;);</span></div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span><span class="comment">//          }</span></div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>            </div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>            <span class="keywordtype">float</span> mult = 1f;</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>            <span class="keywordflow">if</span> (data.getStatus() == Status.DESTROYED) mult = 0.5f;</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>            <span class="keywordflow">if</span> (!own) mult *= playerContribMult;</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>            </div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>            </div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>            <span class="keywordtype">boolean</span> useOfficerRecovery = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>            <span class="keywordflow">if</span> (own) {</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>                useOfficerRecovery = winnerData.getMembersWithOfficerOrPlayerAsOrigCaptain().contains(data.getMember());</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>                <span class="keywordflow">if</span> (useOfficerRecovery) {</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>                    mult = 1f;</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>                }</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>            }</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>            </div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>            <span class="keywordtype">boolean</span> noRecovery = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(data.getMember()) != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(data.getMember());</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>                <span class="keywordflow">if</span> (fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#adcd558c1d95f9755066ddaf9a77311c1">getMemoryWithoutUpdate</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#adb833cc81359cc239a89eae309480fc9">getBoolean</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html">MemFlags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html#a3936e1bced1dd1cdaf44587dabc5178f">MEMORY_KEY_NO_SHIP_RECOVERY</a>)) {</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>                    noRecovery = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>                }</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>            }</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>    </div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span><span class="comment">//          if (data.getMember().getHullId().startsWith(&quot;cerberus&quot;)) {</span></div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span><span class="comment">//              System.out.println(&quot;wefwefew&quot;);</span></div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span><span class="comment">//          }</span></div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>            <span class="keywordtype">boolean</span> normalRecovery = !noRecovery &amp;&amp; </div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>                        <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a621b186977ca743f1e20bba1e6fe60f3">isShipRecoverable</a>(data.getMember(), playerFleet, own, useOfficerRecovery, 1f * mult);</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>            <span class="keywordtype">boolean</span> storyRecovery = !noRecovery &amp;&amp; !normalRecovery;</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>        </div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>            <span class="keywordtype">boolean</span> alwaysRec = data.getMember().getVariant().hasTag(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a750c9a97060d49b1f54f888d0cd69a8f">VARIANT_ALWAYS_RECOVERABLE</a>);</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span> </div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>            <span class="keywordtype">float</span> shipRecProb = data.getMember().getStats().getDynamic().getMod(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a2d12a2b575adcb17bbc10a838e99d191">INDIVIDUAL_SHIP_RECOVERY_MOD</a>).computeEffective(0f);</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>            <span class="keywordflow">if</span> (!own &amp;&amp; !alwaysRec &amp;&amp; (storyRecovery || normalRecovery) &amp;&amp; shipRecProb &lt; 1f) {</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>                <span class="keywordtype">float</span> per = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;probNonOwnNonRecoverablePerDMod&quot;</span>);</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>                <span class="keywordtype">float</span> perAlready = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;probNonOwnNonRecoverablePerAlreadyRecoverable&quot;</span>);</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>                <span class="keywordtype">float</span> max = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;probNonOwnNonRecoverableMax&quot;</span>);</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>                <span class="keywordtype">int</span> dmods = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html">DModManager</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html#acf88477955b9965a39f1d9516e971ac7">getNumDMods</a>(data.getMember().getVariant());</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>                </div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>                <span class="keywordtype">float</span> assumedAddedDmods = 3f;</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>                assumedAddedDmods -= <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#ac056314f39242ad892c79d1372398d20">SHIP_DMOD_REDUCTION</a>, 0) * 0.5f;</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>                assumedAddedDmods = Math.min(assumedAddedDmods, 5 - dmods);</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>                </div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>                <span class="keywordtype">float</span> recoveredSoFar = 0f;</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>                <span class="keywordflow">if</span> (storyRecovery) recoveredSoFar = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">storyRecoverableShips</a>.size();</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>                <span class="keywordflow">else</span> recoveredSoFar = result.size(); </div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>                </div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>                <span class="keywordflow">if</span> (random.nextFloat() &lt; Math.min(max, (dmods + assumedAddedDmods) * per) + recoveredSoFar * perAlready) {</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>                    noRecovery = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>                }</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>            }</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>            </div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>            </div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>            <span class="comment">//if (true || Misc.isShipRecoverable(data.getMember(), playerFleet, own, useOfficerRecovery, battle.getSeed(), 1f * mult)) {</span></div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>            <span class="keywordflow">if</span> (!noRecovery &amp;&amp; (normalRecovery || storyRecovery)) {</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>            <span class="comment">//if (Misc.isShipRecoverable(data.getMember(), playerFleet, battle.getSeed(), 1f * mult)) {</span></div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>                </div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>                <span class="keywordflow">if</span> (!own || !<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ab5f3630b9f4f6121343d2ba019e0f97b">isUnremovable</a>(data.getMember().getCaptain())) {</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>                    String aiCoreId = <span class="keyword">null</span>;</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>                    <span class="keywordflow">if</span> (own &amp;&amp; data.getMember().getCaptain() != <span class="keyword">null</span> &amp;&amp; </div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>                            data.getMember().getCaptain().isAICore()) {</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>                        aiCoreId = data.getMember().getCaptain().getAICoreId();</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>                    }</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>                    </div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>                    <span class="comment">// if it&#39;s an AI core on a player ship, then:</span></div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>                    <span class="comment">// 1. It&#39;s integrated/unremovable, so, don&#39;t remove (we don&#39;t even end up here)</span></div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>                    <span class="comment">// 2. Ship will be recovered and will still have it, or</span></div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>                    <span class="comment">// 3. Ship will not be recovered, and it will get added to loot in lootWeapons()</span></div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>                    <span class="keywordtype">boolean</span> keepCaptain = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>                    <span class="comment">// don&#39;t do this - want to only show the AI core in recovery dialog when </span></div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>                    <span class="comment">// it&#39;s integrated and would be lost if not recovered</span></div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span><span class="comment">//                  if (own &amp;&amp; (data.getMember().getCaptain() == null || </span></div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span><span class="comment">//                          data.getMember().getCaptain().isAICore())) {</span></div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span><span class="comment">//                      keepCaptain = true;</span></div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span><span class="comment">//                  }</span></div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>                    <span class="keywordflow">if</span> (!keepCaptain) {</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>                        <span class="keywordflow">if</span> (aiCoreId != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>                            data.getMember().setCaptain(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">getFactory</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a7a7ee0ac555a566538b56bc4e6462e9a">createPerson</a>());</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>                            data.getMember().getCaptain().getMemoryWithoutUpdate().set(</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>                                        <span class="stringliteral">&quot;$aiCoreIdForRecovery&quot;</span>, aiCoreId);</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!own &amp;&amp; data.getMember().getCaptain() != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>                                data.getMember().getCaptain().isAICore()) {</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>                            aiCoreId = data.getMember().getCaptain().getAICoreId();</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>                            data.getMember().setCaptain(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">getFactory</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a7a7ee0ac555a566538b56bc4e6462e9a">createPerson</a>());</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>                            data.getMember().getCaptain().getMemoryWithoutUpdate().set(</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>                                    <span class="stringliteral">&quot;$aiCoreIdForPossibleRecovery&quot;</span>, aiCoreId);</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>                            </div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>                        }</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>                    }</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>                }</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>                </div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a> variant = data.getMember().getVariant();</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>                variant = variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a40b7919691b6e5cce493fb104916daa6">clone</a>();</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>                variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#aa93cf815bf895b9f465f9fe30fbe692e">setSource</a>(<a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1VariantSource.html">VariantSource</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1VariantSource.html#abda85f9400efd269328ed1eb21eb12e4">REFIT</a>);</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>                </div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>                <span class="comment">// maybe this was necessary? commenting this out to for simulator to be able to unlock recoverable ship variants</span></div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>                <span class="comment">//variant.setOriginalVariant(null);</span></div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>                </div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>                <span class="comment">//DModManager.setDHull(variant);</span></div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>                data.getMember().setVariant(variant, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>                </div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>                <span class="keywordtype">boolean</span> lessDmods = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>                <span class="keywordflow">if</span> (!own &amp;&amp; data.getStatus() != Status.DESTROYED &amp;&amp; random.nextFloat() &lt; probLessDModsOnNext) {</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>                    lessDmods = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>                    probLessDModsOnNext *= lessDmodsOnNextMult;</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>                }</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>                </div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>                <span class="comment">//Random dModRandom = new Random(1000000 * (data.getMember().getId().hashCode() + Global.getSector().getClock().getDay()));</span></div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>                Random dModRandom = <span class="keyword">new</span> Random(1000000 * data.getMember().getId().hashCode() + <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a3ab402c36759be309fd2e5b3bf9c0ca2">getPlayerBattleSeed</a>());</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>                dModRandom = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a3feeb2f72d0202d858da380fc1b59d1b">getRandom</a>(dModRandom.nextLong(), 5);</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>                <span class="keywordflow">if</span> (lessDmods) {</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>                    DModManager.reduceNextDmodsBy = 3;  </div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>                }</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>                </div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>                <span class="keywordtype">float</span> probAvoidDmods = </div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>                        data.getMember().getStats().getDynamic().getMod(</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>                                <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a7489a364a5a148b856a6bb459a2ad9bb">DMOD_AVOID_PROB_MOD</a>).computeEffective(0f);</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>                </div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>                <span class="keywordtype">float</span> probAcquireDmods = </div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>                        data.getMember().getStats().getDynamic().getMod(</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>                                <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#ad7dc05d1ca44b06d05751ab482965e08">DMOD_ACQUIRE_PROB_MOD</a>).computeEffective(1f);</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>                </div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>                <span class="keywordflow">if</span> (dModRandom.nextFloat() &gt;= probAvoidDmods &amp;&amp; dModRandom.nextFloat() &lt; probAcquireDmods) {</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>                    <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html">DModManager</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html#a3b69ea49f4b58f91c4db01c261ffcce1">addDMods</a>(data, own, <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>(), dModRandom);</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>                    <span class="keywordflow">if</span> (<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html">DModManager</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html#acf88477955b9965a39f1d9516e971ac7">getNumDMods</a>(variant) &gt; 0) {</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>                        <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html">DModManager</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html#a76922488328336d5d55254db10f762a5">setDHull</a>(variant);</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>                    }</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>                }</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>                </div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>                <span class="keywordtype">float</span> weaponProb = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageWeaponProb&quot;</span>);</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>                <span class="keywordtype">float</span> wingProb = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageWingProb&quot;</span>);</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>                <span class="keywordflow">if</span> (own) {</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>                    weaponProb = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageOwnWeaponProb&quot;</span>);</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>                    wingProb = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageOwnWingProb&quot;</span>);</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>                    weaponProb = playerFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#ab4d2aaeac112f1c0fea82345b6e78907">OWN_WEAPON_RECOVERY_MOD</a>, weaponProb);</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>                    wingProb = playerFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a62b15a551c7ad72cf2340d708cb61b3d">OWN_WING_RECOVERY_MOD</a>, wingProb);</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>                }</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>                </div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>                <span class="keywordtype">boolean</span> retain = data.getMember().getHullSpec().hasTag(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#ab74b493129222e31ede37d901a0c9270">TAG_RETAIN_SMODS_ON_RECOVERY</a>) ||</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>                        data.getMember().getVariant().hasTag(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#ab74b493129222e31ede37d901a0c9270">TAG_RETAIN_SMODS_ON_RECOVERY</a>);</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>                <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a7578c47873e1e682571cd4bea8c6ca03">prepareShipForRecovery</a>(data.getMember(), own, <span class="keyword">true</span>, !own &amp;&amp; !retain, weaponProb, wingProb, salvageRandom);</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>                </div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>                <span class="keywordflow">if</span> (normalRecovery) {</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>                    <span class="keywordflow">if</span> (result.size() &lt; maxRecoverablePerType) {</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>                        result.add(data.getMember());</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>                    }</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (storyRecovery) {</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">storyRecoverableShips</a>.size() &lt; maxRecoverablePerType) {</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>                        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">storyRecoverableShips</a>.add(data.getMember());</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>                    }</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>                }</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>                </div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span><span class="comment">//              count++;</span></div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span><span class="comment">//              if (count &gt;= max) break;</span></div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>            }</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>            </div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>            </div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span><span class="comment">//          else {</span></div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span><span class="comment">//              data.getMember().getVariant().removeTag(Tags.SHIP_RECOVERABLE);</span></div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span><span class="comment">//          }</span></div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>        }</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>        </div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>        <span class="comment">//System.out.println(&quot;Recoverable: &quot; + result.size() + &quot;, story: &quot; + storyRecoverableShips.size());</span></div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>        </div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>        </div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab">recoverableShips</a>.clear();</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab">recoverableShips</a>.addAll(result);</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>    }</div>
</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>    </div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span> </div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>    </div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>    </div>
<div class="foldopen" id="foldopen01698" data-start="{" data-end="}">
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a820b898359071f1a178859a6a6582782"> 1698</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a820b898359071f1a178859a6a6582782">recoverShips</a>(List&lt;FleetMemberAPI&gt; ships, <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html">FleetEncounterContext</a> context, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> winningFleet, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> otherFleet) {</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>        </div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>        <span class="keywordflow">if</span> (!<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a99c94dcf54650eb730c842fd16951d3a">isPlayerOrCombinedContainingPlayer</a>(winningFleet)) {</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>        }</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>        </div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>        DataForEncounterSide winnerData = <span class="keyword">null</span>;</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>        DataForEncounterSide loserData = <span class="keyword">null</span>;</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>        </div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>        <span class="keywordflow">if</span> (context != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>            winnerData = context.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(winningFleet);</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>            loserData = context.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(otherFleet);</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>        }</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>        </div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> playerFleet = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>();</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>        </div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : ships) {</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>            <span class="comment">//CampaignFleetAPI sourceFleet = context.getBattle().getSourceFleet(member);</span></div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>            <span class="comment">//repairFleetMember(member, sourceFleet == playerFleet);</span></div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>            </div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>            <span class="keywordflow">if</span> (member.getStatus().getNumStatuses() &lt;= 1) {</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>                member.getStatus().repairDisabledABit();</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>            }</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span><span class="comment">//          for (int i = 1; i &lt; member.getStatus().getNumStatuses(); i++) {</span></div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span><span class="comment">//              if ((float) Math.random() &gt; 0.33f) {</span></div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span><span class="comment">//                  member.getStatus().setDetached(i, true);</span></div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span><span class="comment">//                  member.getStatus().setHullFraction(i, 0f);</span></div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span><span class="comment">//              }</span></div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span><span class="comment">//          }</span></div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>            </div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>            <span class="keywordtype">float</span> minHull = playerFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a2ea0a8ab61e76299239ebb5f04c74e04">RECOVERED_HULL_MIN</a>, 0f);</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>            <span class="keywordtype">float</span> maxHull = playerFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a5b0b51302f55dbc8770b1c7d45b36db9">RECOVERED_HULL_MAX</a>, 0f);</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>            <span class="keywordtype">float</span> minCR = playerFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#afaeac482da149d6d3eb81466f8903ed8">RECOVERED_CR_MIN</a>, 0f);</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>            <span class="keywordtype">float</span> maxCR = playerFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a5dd420d04a63696bbc19cb91b858f8b3">RECOVERED_CR_MAX</a>, 0f);</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>            </div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>            minHull += member.getStats().getDynamic().getValue(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a2ea0a8ab61e76299239ebb5f04c74e04">RECOVERED_HULL_MIN</a>, 0f);</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>            maxHull += member.getStats().getDynamic().getValue(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a5b0b51302f55dbc8770b1c7d45b36db9">RECOVERED_HULL_MAX</a>, 0f);</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>            minCR += member.getStats().getDynamic().getValue(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#afaeac482da149d6d3eb81466f8903ed8">RECOVERED_CR_MIN</a>, 0f);</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>            maxCR += member.getStats().getDynamic().getValue(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a5dd420d04a63696bbc19cb91b858f8b3">RECOVERED_CR_MAX</a>, 0f);</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>            </div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>            <span class="keywordtype">float</span> hull = (float) Math.random() * (maxHull - minHull) + minHull;</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>            <span class="keywordflow">if</span> (hull &lt; 0.01f) hull = 0.01f;</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>            <span class="keywordflow">if</span> (hull &gt; 1f) hull = 1f;</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>            member.getStatus().setHullFraction(hull);</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>            </div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>            <span class="keywordtype">float</span> cr = (float) Math.random() * (maxCR - minCR) + minCR;</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>            <span class="keywordflow">if</span> (cr &lt; 0 || member.isMothballed()) cr = 0;</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>            <span class="keywordtype">float</span> max = member.getRepairTracker() == <span class="keyword">null</span> ? 1f : member.getRepairTracker().getMaxCR();</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>            <span class="keywordflow">if</span> (cr &gt; max) cr = max;</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>            member.getRepairTracker().setCR(cr);</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>            </div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>            <span class="keywordflow">if</span> (winnerData != <span class="keyword">null</span>) winnerData.getInReserveDuringLastEngagement().add(member);</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>            playerFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aae3057dba1c046f7e1bbe35de5f20119">addFleetMember</a>(member);</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>            <span class="keywordflow">if</span> (context != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>                context.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a1a91abcbf98c938054b244db0633d426">getCombinedFor</a>(playerFleet).<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aae3057dba1c046f7e1bbe35de5f20119">addFleetMember</a>(member);</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>                context.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a349be3fe402337467f44a20e1b2bfe9b">origSourceForRecoveredShips</a>.put(member, context.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member));</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>                context.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ae6dabc3158fab2ef810e0c7e90403acf">getMemberSourceMap</a>().put(member, playerFleet);</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>            }</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>            </div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>            member.setFleetCommanderForStats(<span class="keyword">null</span>, <span class="keyword">null</span>);</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>            </div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span> </div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>            member.setOwner(0);</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>            </div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>            <span class="keywordflow">if</span> (!<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ab5f3630b9f4f6121343d2ba019e0f97b">isUnremovable</a>(member.getCaptain())) {</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>                member.setCaptain(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">getFactory</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a7a7ee0ac555a566538b56bc4e6462e9a">createPerson</a>());</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>                member.getCaptain().setFaction(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Factions.html">Factions</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Factions.html#ae32638e592be6fb4d40169a91f5178d8">PLAYER</a>);</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>            }</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>            </div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>            <span class="comment">//member.getRepairTracker().setMothballed(true);</span></div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>            </div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>            <span class="keywordflow">if</span> (winnerData != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>                winnerData.changeEnemy(member, Status.REPAIRED);</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>                winnerData.changeOwn(member, Status.REPAIRED);</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>                </div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>                winnerData.getDestroyedInLastEngagement().remove(member);</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>                winnerData.getDisabledInLastEngagement().remove(member);</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>            }</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>            </div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>            <span class="keywordflow">if</span> (loserData != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>                loserData.changeEnemy(member, Status.REPAIRED);</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>                loserData.changeOwn(member, Status.REPAIRED);</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>                </div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>                loserData.getDestroyedInLastEngagement().remove(member);</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>                loserData.getDisabledInLastEngagement().remove(member);</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>            }</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>        }</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span> </div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>    }</div>
</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>    </div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>    </div>
<div class="foldopen" id="foldopen01790" data-start="{" data-end="}">
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a7578c47873e1e682571cd4bea8c6ca03"> 1790</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a7578c47873e1e682571cd4bea8c6ca03">prepareShipForRecovery</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member,</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>                    <span class="keywordtype">boolean</span> retainAllHullmods, <span class="keywordtype">boolean</span> retainKnownHullmods, <span class="keywordtype">boolean</span> clearSMods,</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>                    <span class="keywordtype">float</span> weaponRetainProb, <span class="keywordtype">float</span> wingRetainProb, Random salvageRandom) {</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a> variant = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a1230c04f66b7ca8a4a0d859f6602d7d7">getVariant</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a40b7919691b6e5cce493fb104916daa6">clone</a>();</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>        <span class="comment">//variant.setOriginalVariant(null);</span></div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>        <span class="keywordflow">if</span> (retainAllHullmods) {</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>            <span class="comment">// do nothing</span></div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (retainKnownHullmods) {</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>            <span class="keywordflow">for</span> (String modId : <span class="keyword">new</span> ArrayList&lt;String&gt;(variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a03b8944bd46d33a247008dade28c7503">getHullMods</a>())) {</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>                <span class="keywordflow">if</span> (!<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a763cef46b40424475949be7d8b85d802">getPlayerFaction</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FactionAPI.html#aa060ecf6eb94fc8749481b3646b3a17f">knowsHullMod</a>(modId)) {</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>                    variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#ac8f1a832a1b92692d16b5036c948d34a">removeMod</a>(modId);</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>                }</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>            }</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>            variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#ac9f8c4babdee19e16ee984b1c7235a92">clearHullMods</a>();</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>            variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#abb9e436adb3c410db19a5a8acdffc3c9">setNumFluxCapacitors</a>(0);</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>            variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a8e96f2b7dbb8d6025624e4291c9ffdfd">setNumFluxVents</a>(0);</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>        }</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>        </div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>        <span class="keywordflow">if</span> (clearSMods &amp;&amp; !variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a0577d97264a45029982e5825bf652989">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a5de5b2c7d249eb0b1789556a1bf07f0e">VARIANT_ALWAYS_RETAIN_SMODS_ON_SALVAGE</a>)) {</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>            <span class="keywordflow">for</span> (String <span class="keywordtype">id</span> : <span class="keyword">new</span> ArrayList&lt;String&gt;(variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a2e52cbdc849ea3ee1912ff183824752e">getSMods</a>())) {</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>                variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a431ec849ab1e4015cd3cfb00a6f58af5">removePermaMod</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>            }</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>        }</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>        </div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>        variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#aa93cf815bf895b9f465f9fe30fbe692e">setSource</a>(<a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1VariantSource.html">VariantSource</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1VariantSource.html#abda85f9400efd269328ed1eb21eb12e4">REFIT</a>);</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>        member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#af5f062a0ac9b9ace548f342fe808ac51">setVariant</a>(variant, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>        List&lt;String&gt; <span class="keyword">remove</span> = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>        </div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span><span class="comment">//      if (!retainHullmods) {</span></div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span><span class="comment">//          variant.clearHullMods();</span></div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span><span class="comment">//          variant.setNumFluxCapacitors(0);</span></div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span><span class="comment">//          variant.setNumFluxVents(0);</span></div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span><span class="comment">//      }</span></div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>        </div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>        Random random = <span class="keyword">new</span> Random();</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) random = salvageRandom;</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>        </div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>        <span class="keywordflow">if</span> (!member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a04d298fe8266beb8440baa6f700b1812">isFighterWing</a>()) {</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>            <span class="keywordflow">for</span> (String slotId : variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#aa61e424eb732a8428727fe0b9678cb1c">getNonBuiltInWeaponSlots</a>()) {</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>                <span class="keywordflow">if</span> (random.nextFloat() &gt; weaponRetainProb) {</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>                    <span class="keyword">remove</span>.add(slotId);</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>                }</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>            }</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>            <span class="keywordflow">for</span> (String slotId : <span class="keyword">remove</span>) {</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>                variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a5fb159c301deb6e8bb278165c761e027">clearSlot</a>(slotId);</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>            }</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>            </div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>            <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>            <span class="keywordflow">for</span> (String <span class="keywordtype">id</span> : variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a254d590296a7d84aaaef8d3ac339335d">getFittedWings</a>()) {</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>                <span class="keywordflow">if</span> (random.nextFloat() &gt; wingRetainProb) {</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>                    variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a6da38c12f692081e9843981fe9625c89">setWingId</a>(index, <span class="keyword">null</span>); <span class="comment">// won&#39;t clear out built-in wings</span></div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>                }</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>                index++;</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>            }</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>        }</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>        </div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>        <span class="keywordflow">for</span> (String slotId : variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a460e20a0343c11f877e89c9c5d3e4c8a">getStationModules</a>().keySet()) {</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a65d24aed1b8bb535302e5a095a041fff">prepareModuleForRecovery</a>(member, slotId, </div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>                    retainAllHullmods, retainKnownHullmods, clearSMods, weaponRetainProb, wingRetainProb, salvageRandom);</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>        }</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>        </div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>        </div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#abb80a64884429b37aa0c3a845c295f56">getStatus</a>().getNumStatuses(); i++) {</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>            <span class="keywordflow">if</span> (random.nextFloat() &gt; 0.5f) {</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>                member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#abb80a64884429b37aa0c3a845c295f56">getStatus</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#a0a03d5a5c5230ace2a9b2cf58f13c13d">setDetached</a>(i, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>                member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#abb80a64884429b37aa0c3a845c295f56">getStatus</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#ac333b13a2dc70c4c13c218acd2d3caba">setHullFraction</a>(i, 0.1f + 0.1f * random.nextFloat());</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>            }</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>        }</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>    </div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>        <span class="comment">// get rid of any short-term modifiers, such as &quot;0 repair rate during emergency burn&quot;</span></div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) {</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>            member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a02c1f3832b64a501d673590d57ddfa68">getBuffManager</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BuffManagerAPI.html#a4b0bae9dcc18cf3410568067c95de05a">advance</a>(1f);</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>        }</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span><span class="comment">//      for (Buff buff : new ArrayList&lt;Buff&gt;(member.getBuffManager().getBuffs())) {</span></div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span><span class="comment">//          member.getBuffManager().removeBuff(buff.getId());</span></div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span><span class="comment">//      }</span></div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>        </div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>        variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#afcc32ff3e9684b1dffd1aa90c692af58">addTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a8ee46b255a6a1b2017c06ec900eecdd0">SHIP_RECOVERABLE</a>);</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>    }</div>
</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>    </div>
<div class="foldopen" id="foldopen01871" data-start="{" data-end="}">
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a65d24aed1b8bb535302e5a095a041fff"> 1871</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a65d24aed1b8bb535302e5a095a041fff">prepareModuleForRecovery</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, String moduleSlotId,</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>            <span class="keywordtype">boolean</span> retainAllHullmods, <span class="keywordtype">boolean</span> retainKnownHullmods, <span class="keywordtype">boolean</span> clearSMods,</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>            <span class="keywordtype">float</span> weaponRetainProb, <span class="keywordtype">float</span> wingRetainProb, Random salvageRandom) {</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>        </div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a> moduleCurrent = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a1230c04f66b7ca8a4a0d859f6602d7d7">getVariant</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a6e848c1b09a06753d4073c13740fc8bb">getModuleVariant</a>(moduleSlotId);</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>        <span class="keywordflow">if</span> (moduleCurrent == <span class="keyword">null</span>) <span class="keywordflow">return</span>;  </div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>        </div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>        moduleCurrent = moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a40b7919691b6e5cce493fb104916daa6">clone</a>();</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>        moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a7e52bf51523e9cc8d016f3c7ef49d346">setOriginalVariant</a>(<span class="keyword">null</span>);</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>        <span class="keywordflow">if</span> (retainAllHullmods) {</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>            <span class="comment">// do nothing</span></div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (retainKnownHullmods) {</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>            <span class="keywordflow">for</span> (String modId : <span class="keyword">new</span> ArrayList&lt;String&gt;(moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a03b8944bd46d33a247008dade28c7503">getHullMods</a>())) {</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>                <span class="keywordflow">if</span> (!<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a763cef46b40424475949be7d8b85d802">getPlayerFaction</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FactionAPI.html#aa060ecf6eb94fc8749481b3646b3a17f">knowsHullMod</a>(modId)) {</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>                    moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#ac8f1a832a1b92692d16b5036c948d34a">removeMod</a>(modId);</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>                }</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>            }</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>            moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#ac9f8c4babdee19e16ee984b1c7235a92">clearHullMods</a>();</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>            moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#abb9e436adb3c410db19a5a8acdffc3c9">setNumFluxCapacitors</a>(0);</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>            moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a8e96f2b7dbb8d6025624e4291c9ffdfd">setNumFluxVents</a>(0);</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>        }</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>        </div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>        <span class="keywordflow">if</span> (clearSMods &amp;&amp; !moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a0577d97264a45029982e5825bf652989">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a5de5b2c7d249eb0b1789556a1bf07f0e">VARIANT_ALWAYS_RETAIN_SMODS_ON_SALVAGE</a>)) {</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>            <span class="keywordflow">for</span> (String <span class="keywordtype">id</span> : <span class="keyword">new</span> ArrayList&lt;String&gt;(moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a2e52cbdc849ea3ee1912ff183824752e">getSMods</a>())) {</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>                moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a431ec849ab1e4015cd3cfb00a6f58af5">removePermaMod</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>            }</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>        }</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>        </div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>        moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#aa93cf815bf895b9f465f9fe30fbe692e">setSource</a>(<a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1VariantSource.html">VariantSource</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1VariantSource.html#abda85f9400efd269328ed1eb21eb12e4">REFIT</a>);</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>        member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a1230c04f66b7ca8a4a0d859f6602d7d7">getVariant</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a98e82a07eeee2063307b62db27f73fe9">setModuleVariant</a>(moduleSlotId, moduleCurrent);</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>        </div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>        List&lt;String&gt; <span class="keyword">remove</span> = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span> </div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>        Random random = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ae27a76e34c5013b1a4128b3b9fc51e60">random</a>;</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) random = salvageRandom;</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span> </div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>        <span class="keywordflow">for</span> (String slotId : moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#aa61e424eb732a8428727fe0b9678cb1c">getNonBuiltInWeaponSlots</a>()) {</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>            <span class="keywordflow">if</span> (random.nextFloat() &gt; weaponRetainProb) {</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>                <span class="keyword">remove</span>.add(slotId);</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>            }</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>        }</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>        <span class="keywordflow">for</span> (String slotId : <span class="keyword">remove</span>) {</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>            moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a5fb159c301deb6e8bb278165c761e027">clearSlot</a>(slotId);</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>        }</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span> </div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>        <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>        <span class="keywordflow">for</span> (String <span class="keywordtype">id</span> : moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a254d590296a7d84aaaef8d3ac339335d">getFittedWings</a>()) {</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>            <span class="keywordflow">if</span> (random.nextFloat() &gt; wingRetainProb) {</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>                moduleCurrent.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a6da38c12f692081e9843981fe9625c89">setWingId</a>(index, <span class="keyword">null</span>); <span class="comment">// won&#39;t clear out built-in wings</span></div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>            }</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>            index++;</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>        }</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>    }</div>
</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span> </div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>    </div>
<div class="foldopen" id="foldopen01927" data-start="{" data-end="}">
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c4aa47c971be667a4a1c4bded5410e2"> 1927</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c4aa47c971be667a4a1c4bded5410e2">gainXP</a>() {</div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.size() != 2) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span> </div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>        DataForEncounterSide sideOne = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.get(0);</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>        DataForEncounterSide sideTwo = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.get(1);</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(sideOne.getFleet()))) {</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c4aa47c971be667a4a1c4bded5410e2">gainXP</a>(sideOne, sideTwo);</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(sideTwo.getFleet()))) {</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c4aa47c971be667a4a1c4bded5410e2">gainXP</a>(sideTwo, sideOne);</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>        }</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>    }</div>
</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>    </div>
<div class="foldopen" id="foldopen01940" data-start="{" data-end="}">
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2161b54b093294c2e5695a2e0fb1abc7"> 1940</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2161b54b093294c2e5695a2e0fb1abc7">gainOfficerXP</a>(DataForEncounterSide data, <span class="keywordtype">float</span> xp) {</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>        <span class="keywordtype">float</span> max = data.getMaxTimeDeployed();</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>        <span class="keywordflow">if</span> (max &lt; 1) max = 1;</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>        <span class="keywordtype">float</span> num = data.getOfficerData().size();</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>        <span class="keywordflow">if</span> (num &lt; 1) num = 1;</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html">PersonAPI</a> person : data.getOfficerData().keySet()) {</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>            OfficerEngagementData oed = data.getOfficerData().get(person);</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>            <span class="keywordflow">if</span> (oed.sourceFleet == <span class="keyword">null</span> || !oed.sourceFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aca63b88ff3c36215530149f16259d5c1">isPlayerFleet</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>            </div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1OfficerDataAPI.html">OfficerDataAPI</a> od = oed.sourceFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#a7d50d41cec4bf05a87b1a80dd6730126">getOfficerData</a>(person);</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>            <span class="keywordflow">if</span> (od == <span class="keyword">null</span>) <span class="keywordflow">continue</span>; <span class="comment">// shouldn&#39;t happen, as this is checked earlier before it goes into the map</span></div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>            </div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>            <span class="keywordtype">float</span> f = oed.timeDeployed / max;</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>            <span class="keywordflow">if</span> (f &lt; 0) f = 0;</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>            <span class="keywordflow">if</span> (f &gt; 1) f = 1;</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>            </div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>            od.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1OfficerDataAPI.html#a66ce72ca011ffbea8cb34947cce245f8">addXP</a>((<span class="keywordtype">long</span>)(f * xp / num), <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>);</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>        }</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>    }</div>
</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>    </div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>    </div>
<div class="foldopen" id="foldopen01961" data-start="{" data-end="}">
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad25003f8f4281087a614f7ad1bacbca5"> 1961</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad25003f8f4281087a614f7ad1bacbca5">getPlayerFPHullDamageToEnemies</a>() {</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a>;</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>    }</div>
</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span> </div>
<div class="foldopen" id="foldopen01965" data-start="{" data-end="}">
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab071fcf5aac2c3a7d5a031a2f91b289d"> 1965</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab071fcf5aac2c3a7d5a031a2f91b289d">setPlayerFPHullDamageToEnemies</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a>) {</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>        this.playerFPHullDamageToEnemies = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a>;</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>    }</div>
</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span> </div>
<div class="foldopen" id="foldopen01969" data-start="{" data-end="}">
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a49896c340e7e7ca2925f8a355c66080c"> 1969</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a49896c340e7e7ca2925f8a355c66080c">getAllyFPHullDamageToEnemies</a>() {</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a>;</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>    }</div>
</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span> </div>
<div class="foldopen" id="foldopen01973" data-start="{" data-end="}">
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2164dbd9910b266e1a79b91d4fe92d03"> 1973</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2164dbd9910b266e1a79b91d4fe92d03">setAllyFPHullDamageToEnemies</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a>) {</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>        this.allyFPHullDamageToEnemies = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a>;</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>    }</div>
</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span> </div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5"> 1977</a></span>    <span class="keyword">protected</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a> = 0f;</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846"> 1978</a></span>    <span class="keyword">protected</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a> = 0f;</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab120d5e23f478d181afc180072afab8a"> 1979</a></span>    <span class="keyword">protected</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab120d5e23f478d181afc180072afab8a">playerFPHullDamageToAllies</a> = 0f;</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0"> 1980</a></span>    <span class="keyword">protected</span> Map&lt;FactionAPI, Float&gt; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">playerFPHullDamageToAlliesByFaction</a> = <span class="keyword">new</span> HashMap&lt;FactionAPI, Float&gt;();</div>
<div class="foldopen" id="foldopen01981" data-start="{" data-end="}">
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aae04a1b1e1f39e90a9c61b3ad688a447"> 1981</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aae04a1b1e1f39e90a9c61b3ad688a447">computeFPHullDamage</a>() {</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a> == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>        </div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span><span class="comment">//      playerFPHullDamageToEnemies = 0f;</span></div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span><span class="comment">//      allyFPHullDamageToEnemies = 0f;</span></div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span><span class="comment">//      playerFPHullDamageToAllies = 0f;</span></div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>        </div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html#a6b0f50babb539beff80373ffa653edd0">getDealt</a>().keySet()) {</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>            <span class="keywordflow">if</span> (member.getOwner() != 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>            </div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>            </div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>            DealtByFleetMember dealt = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html#a6b0f50babb539beff80373ffa653edd0">getDealt</a>().get(member);</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>            <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> target : dealt.getDamage().keySet()) {</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(target) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>                </div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>                DamageToFleetMember damage = dealt.getDamageTo(target);</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span>                <span class="keywordtype">float</span> maxHull = target.getStats().getHullBonus().computeEffective(target.getHullSpec().getHitpoints());</div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>                <span class="keywordflow">if</span> (maxHull &lt;= 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>                <span class="keywordflow">if</span> (target.isFighterWing()) {</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>                    maxHull *= target.getNumFightersInWing();</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>                }</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>                </div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>                <span class="keywordtype">float</span> currDam = Math.min(damage.hullDamage, maxHull) / maxHull * (float) target.getFleetPointCost();</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>                <span class="keywordflow">if</span> (target.getOwner() == 1) {</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>                    <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span> ? <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) : <span class="keyword">null</span>;</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>                    <span class="keywordtype">boolean</span> ally = member.isAlly();</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>                    <span class="keywordflow">if</span> (ally &amp;&amp; fleet != <span class="keyword">null</span> &amp;&amp; </div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>                            fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#afb72bc74f75ccbbf240564b26b94e17b">getFaction</a>() != <span class="keyword">null</span> &amp;&amp; fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#afb72bc74f75ccbbf240564b26b94e17b">getFaction</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FactionAPI.html#af016cc513682eb015b85966bd6af4162">isPlayerFaction</a>()) {</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>                        ally = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>                    }</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>                    <span class="keywordflow">if</span> (ally) {</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>                        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a> += currDam;</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>                        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a> += currDam;</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>                    }</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!member.isAlly() &amp;&amp; target.isAlly() &amp;&amp; !target.isFighterWing()) {</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>                    <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab120d5e23f478d181afc180072afab8a">playerFPHullDamageToAllies</a> += currDam;</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>                    <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span> ? <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(target) : <span class="keyword">null</span>;</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>                    <span class="keywordflow">if</span> (fleet != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>                        <span class="keywordtype">float</span> curr = currDam;</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">playerFPHullDamageToAlliesByFaction</a>.containsKey(fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#afb72bc74f75ccbbf240564b26b94e17b">getFaction</a>())) {</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>                            curr += <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">playerFPHullDamageToAlliesByFaction</a>.get(fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#afb72bc74f75ccbbf240564b26b94e17b">getFaction</a>());</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>                        }</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>                        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">playerFPHullDamageToAlliesByFaction</a>.put(fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#afb72bc74f75ccbbf240564b26b94e17b">getFaction</a>(), curr);</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>                    }</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>                }</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>            }</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>        }</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>        </div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span><span class="comment">//      if (playerFPHullDamageToEnemies &lt;= 0) {</span></div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span><span class="comment">//          System.out.println(&quot;HERE 12523423&quot;);</span></div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span><span class="comment">//      }</span></div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span><span class="comment">//      allyFPHullDamageToEnemies += playerFPHullDamageToEnemies;</span></div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span><span class="comment">//      playerFPHullDamageToEnemies = 0f;</span></div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a> = <span class="keyword">null</span>;</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>    }</div>
</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>    </div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>    </div>
<div class="foldopen" id="foldopen02039" data-start="{" data-end="}">
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9"> 2039</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>() {</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>        <span class="keywordtype">float</span> total = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a> + <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a>;</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>        <span class="keywordflow">if</span> (total &lt;= 0) {</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> == <span class="keyword">null</span>) <span class="keywordflow">return</span> 1f;</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>() &amp;&amp; (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a052dfd43d6c6ca484bbe328f69387c36">getPlayerSideSnapshot</a>().size() &lt;= 1 || <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af89feeda43f98a05fcefc5d8ea340d3e">getPlayerSide</a>().size() &lt;= 1)) <span class="keywordflow">return</span> 1f;</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>            <span class="keywordflow">return</span> 0f;</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>        }</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>        </div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>        <span class="keywordtype">boolean</span> hasAllies = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>        <span class="keywordtype">boolean</span> startedWithAllies = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>            hasAllies = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af89feeda43f98a05fcefc5d8ea340d3e">getPlayerSide</a>().size() &lt;= 1;</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>            startedWithAllies = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a052dfd43d6c6ca484bbe328f69387c36">getPlayerSideSnapshot</a>().size() &gt; 1;</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>        }</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>        <span class="keywordflow">if</span> (startedWithAllies) { <span class="comment">// &amp;&amp; hasAllies) {</span></div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>            <span class="comment">//return Math.min(0.9f, playerFPHullDamageToEnemies / total);</span></div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>            <span class="keywordflow">return</span> Math.min(1f, <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a> / total);</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>            <span class="keywordflow">return</span> 1f;</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>        }</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>    }</div>
</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>    </div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2fcfb978de8b0185648d5ab94365b12e"> 2061</a></span>    <span class="keyword">protected</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2fcfb978de8b0185648d5ab94365b12e">xpGained</a> = 0;</div>
<div class="foldopen" id="foldopen02062" data-start="{" data-end="}">
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5b7d89ed9a1c0620bc8989bee9f23a58"> 2062</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5b7d89ed9a1c0620bc8989bee9f23a58">gainXP</a>(DataForEncounterSide side, DataForEncounterSide otherSide) {</div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span>        <span class="keywordtype">float</span> bonusXP = 0f;</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>        <span class="keywordtype">float</span> points = 0f;</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>        <span class="keywordflow">for</span> (FleetMemberData data : side.getOwnCasualties()) {</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>            <span class="keywordflow">if</span> (data.getStatus() == Status.DISABLED || </div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>                    data.getStatus() == Status.DESTROYED) {</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>                <span class="keywordtype">float</span> [] bonus = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a4a3778fc323d3d80a2ab1046644b6035">getBonusXPForScuttling</a>(data.getMember());</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>                points += bonus[0];</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>                bonusXP += bonus[1] * bonus[0];</div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>            }</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>        }</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>        <span class="keywordflow">if</span> (bonusXP &gt; 0 &amp;&amp; points &gt; 0) {</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>            points = 1;</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#ab5c4b15c0fec901a49bd95b6983649e9">getPlayerStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a847115793695c3fdf2516d4568d48ef4">setOnlyAddBonusXPDoNotSpendStoryPoints</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#ab5c4b15c0fec901a49bd95b6983649e9">getPlayerStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a4abbf01e8a84ced9a2e8e615effd0391">setBonusXPGainReason</a>(<span class="stringliteral">&quot;from losing s-modded ships&quot;</span>);</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#ab5c4b15c0fec901a49bd95b6983649e9">getPlayerStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a8fb2a58d2330352b4e902597112c9446">spendStoryPoints</a>((<span class="keywordtype">int</span>)Math.round(points), <span class="keyword">true</span>, <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>, <span class="keyword">false</span>, bonusXP, <span class="keyword">null</span>);</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#ab5c4b15c0fec901a49bd95b6983649e9">getPlayerStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a847115793695c3fdf2516d4568d48ef4">setOnlyAddBonusXPDoNotSpendStoryPoints</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#ab5c4b15c0fec901a49bd95b6983649e9">getPlayerStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a4abbf01e8a84ced9a2e8e615effd0391">setBonusXPGainReason</a>(<span class="keyword">null</span>);</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>        }</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>        </div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>        <span class="comment">//CampaignFleetAPI fleet = side.getFleet();</span></div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>();</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>        <span class="keywordtype">float</span> fpTotal = 0;</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>        <span class="keywordflow">for</span> (FleetMemberData data : otherSide.getOwnCasualties()) {</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>            <span class="keywordtype">float</span> fp = data.getMember().getFleetPointCost();</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>            </div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span><span class="comment">//          String prefix = &quot;xp_mult_&quot;;</span></div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span><span class="comment">//          for (String tag : data.getMember().getHullSpec().getTags()) {</span></div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span><span class="comment">//              if (tag.startsWith(prefix)) {</span></div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span><span class="comment">//                  tag = tag.replaceFirst(prefix, &quot;&quot;);</span></div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span><span class="comment">//                  fp *= Float.parseFloat(tag);</span></div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span><span class="comment">//                  break;</span></div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span><span class="comment">//              }</span></div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span><span class="comment">//          }</span></div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>            </div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>            fp *= 1f + data.getMember().getCaptain().getStats().getLevel() / 5f;</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>            fpTotal += fp;</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>        }</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>        </div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>        <span class="keywordtype">float</span> xp = (float) fpTotal * 250;</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>        xp *= 2f;</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span>        </div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>        <span class="keywordtype">float</span> difficultyMult = Math.max(1f, <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>);</div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>        xp *= difficultyMult;</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>        </div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>        xp *= <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>();</div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>        </div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>        xp *= <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;xpGainMult&quot;</span>);</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>        </div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>        </div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>        <span class="keywordflow">if</span> (xp &gt; 0) {</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span>            <span class="comment">//fleet.getCargo().gainCrewXP(xp);</span></div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>            </div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>            <span class="comment">//if (side.getFleet().isPlayerFleet()) {</span></div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>            <span class="comment">//}</span></div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>            <span class="comment">// only gain XP if it&#39;s the player fleet anyway, no need to check this here</span></div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2161b54b093294c2e5695a2e0fb1abc7">gainOfficerXP</a>(side, xp);</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>            </div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>            fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a1318e0f79d971c24bdafbb03a8fe211f">getCommander</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#ab1dc0541432c8885b0e27cca0be945e8">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a728c877597c07f22513cc51e3e5b0286">addXP</a>((<span class="keywordtype">long</span>) xp, <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>);</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>            fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a1318e0f79d971c24bdafbb03a8fe211f">getCommander</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#ab1dc0541432c8885b0e27cca0be945e8">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#adaf3ed178a5f665f8da4dd5641ac5855">levelUpIfNeeded</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>);</div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>            </div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2fcfb978de8b0185648d5ab94365b12e">xpGained</a> = xp;</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>        }</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>    }</div>
</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>    </div>
<div class="foldopen" id="foldopen02127" data-start="{" data-end="}">
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a13e5b583e4e093a16c7cff304dda995c"> 2127</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a13e5b583e4e093a16c7cff304dda995c">addPotentialOfficer</a>() {</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa433b4940ea0c102bea1980edce68b61">isEngagedInHostilities</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2fcfb978de8b0185648d5ab94365b12e">xpGained</a> &lt;= 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.size() != 2) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span> </div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>        DataForEncounterSide sideOne = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.get(0);</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>        DataForEncounterSide sideTwo = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.get(1);</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>        </div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>        DataForEncounterSide player = sideOne;</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>        DataForEncounterSide enemy = sideTwo;</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(sideTwo.getFleet()))) {</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>            player = sideTwo;</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>            enemy = sideOne;</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>        }</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>        </div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>        <span class="keywordtype">float</span> fpDestroyed = 0;</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>        <span class="keywordflow">for</span> (FleetMemberData data : enemy.getOwnCasualties()) {</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>            <span class="keywordtype">float</span> fp = data.getMember().getFleetPointCost();</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>            fp *= 1f + data.getMember().getCaptain().getStats().getLevel() / 5f;</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>            fpDestroyed += fp;</div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>        }</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>        fpDestroyed *= <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>();</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>        <span class="keywordflow">for</span> (FleetMemberData data : player.getOwnCasualties()) {</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>            <span class="keywordflow">if</span> (data.getMember().isAlly()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>            <span class="keywordtype">float</span> fp = data.getMember().getFleetPointCost();</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>            fp *= 1f + data.getMember().getCaptain().getStats().getLevel() / 5f;</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>            fpDestroyed += fp;</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>        }</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span>        </div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>        <span class="keywordtype">float</span> fpInFleet = 0f;</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>()) {</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>            <span class="keywordtype">float</span> fp = member.getFleetPointCost();</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>            fp *= 1f + member.getCaptain().getStats().getLevel() / 5f;</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>            fpInFleet += fp;</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>        }</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>        </div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>        </div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>        <span class="keywordtype">float</span> maxProb = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;maxOfficerPromoteProb&quot;</span>);</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>        <span class="keywordtype">float</span> probMult = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;officerPromoteProbMult&quot;</span>);</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>        <span class="keywordtype">int</span> max = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a095c3ea13832a7bbdaf42152316ff150">getMaxOfficers</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>());</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>        <span class="keywordtype">int</span> curr = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ac3cf16b95551d37f492a34828acf2a5f">getNumNonMercOfficers</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>());</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span> </div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>        <span class="keywordtype">float</span> prob = fpDestroyed / (Math.max(1f, fpInFleet));</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>        <span class="comment">//prob /= 5f;</span></div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>        prob *= probMult;</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>        </div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>        <span class="keywordflow">if</span> (curr &gt;= max) prob *= 0.5f;</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>        <span class="keywordflow">if</span> (prob &gt; maxProb) prob = maxProb;</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>        </div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>        Random random = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ae27a76e34c5013b1a4128b3b9fc51e60">random</a>;</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>            random = salvageRandom;</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>        }</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>        </div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1tutorial_1_1TutorialMissionIntel.html">TutorialMissionIntel</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1tutorial_1_1TutorialMissionIntel.html#a181a77bcaeba7ac9cd6c7793526bf0cd">isTutorialInProgress</a>()) {</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>            prob = 0f;</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>        }</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>        </div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>        <span class="keywordflow">if</span> (random.nextFloat() &lt; prob) {</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1intel_1_1PromoteOfficerIntel.html">PromoteOfficerIntel</a> intel = <span class="keyword">new</span> <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1intel_1_1PromoteOfficerIntel.html">PromoteOfficerIntel</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>);</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a9977c6edf345ec5df10d0fe352d49184">getIntelManager</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1comm_1_1IntelManagerAPI.html#a37225680af10f2293bd171edc417ffb6">addIntel</a>(intel, <span class="keyword">false</span>, <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>);</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>        }</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>    }</div>
</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>    </div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span> </div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66"> 2193</a></span>    <span class="keyword">protected</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a> = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">getFactory</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a00b3901783aae6ae74ed0ae21ca05053">createCargo</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8"> 2194</a></span>    <span class="keyword">protected</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">creditsLooted</a> = 0;</div>
<div class="foldopen" id="foldopen02195" data-start="{" data-end="}">
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a124d38d8bb1d4310d2202a3a8dbc3ef5"> 2195</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a124d38d8bb1d4310d2202a3a8dbc3ef5">generateLoot</a>(List&lt;FleetMemberAPI&gt; recoveredShips, <span class="keywordtype">boolean</span> withCredits) {</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">creditsLooted</a> = 0;</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a61edb30742c45d85507b457bd73206a7">clear</a>();</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>        <span class="comment">//if (getWinner() == Global.getSector().getPlayerFleet()) {</span></div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54c1f6b7440de836d86691a023f884ee">getWinner</a>()))) {</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad44183b2b1301b24a9554579ec2a5675">generatePlayerLoot</a>(recoveredShips, withCredits);</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>        } <span class="keywordflow">else</span> { <span class="comment">//if (getLoser() == Global.getSector().getPlayerFleet()) {</span></div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8f4a87c4cfe1918267f81969e494fc2c">handleCargoLooting</a>(recoveredShips, <span class="keyword">true</span>);</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>        }</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a794c304a1bd710f6fd3ee16e39aecd6b">sort</a>();</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>    }</div>
</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>    </div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>    <span class="keyword">private</span> Random salvageRandom = <span class="keyword">null</span>;</div>
<div class="foldopen" id="foldopen02208" data-start="{" data-end="}">
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a824383f5415c79d2148be39d6e4a1982"> 2208</a></span>    <span class="keyword">public</span> Random <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a824383f5415c79d2148be39d6e4a1982">getSalvageRandom</a>() {</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>        <span class="keywordflow">return</span> salvageRandom;</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>    }</div>
</div>
<div class="foldopen" id="foldopen02211" data-start="{" data-end="}">
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a220809257f18720b79de09323306999e"> 2211</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a220809257f18720b79de09323306999e">setSalvageRandom</a>(Random salvageRandom) {</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>        this.salvageRandom = salvageRandom;</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>    }</div>
</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span> </div>
<div class="foldopen" id="foldopen02215" data-start="{" data-end="}">
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad44183b2b1301b24a9554579ec2a5675"> 2215</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad44183b2b1301b24a9554579ec2a5675">generatePlayerLoot</a>(List&lt;FleetMemberAPI&gt; recoveredShips, <span class="keywordtype">boolean</span> withCredits) {</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>        <span class="comment">//computeFPHullDamage();</span></div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>        </div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>        </div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>        DataForEncounterSide winner = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>();</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>        DataForEncounterSide loser = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>();</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span> </div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>        <span class="keywordflow">if</span> (winner == <span class="keyword">null</span> || loser == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>    </div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>        <span class="keywordtype">float</span> adjustedFPSalvage = 0;</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>        <span class="keywordtype">float</span> playerContribMult = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>();</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>        </div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>        Random origSalvageRandom = salvageRandom;</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>        <span class="keywordtype">long</span> extraSeed = 1340234324325L;</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>        <span class="keywordflow">if</span> (origSalvageRandom != <span class="keyword">null</span>) extraSeed = origSalvageRandom.nextLong();</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>        </div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>        <span class="keywordflow">for</span> (FleetMemberData data : winner.getEnemyCasualties()) {</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>            <span class="keywordflow">if</span> (data.getStatus() == Status.REPAIRED) {</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>            }</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>            </div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>            <span class="keywordflow">if</span> (data.getMember() != <span class="keyword">null</span> &amp;&amp; data.getMember().getHullSpec().hasTag(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#ae0f6873c00c16988b4634f574f5a194e">NO_BATTLE_SALVAGE</a>)) {</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>            }</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>            </div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>            <span class="keywordflow">if</span> (origSalvageRandom != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>                String sig = data.getMember().getHullId();</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>                <span class="keywordflow">if</span> (data.getMember().getVariant() != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>                    <span class="keywordflow">for</span> (<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponGroupSpec.html">WeaponGroupSpec</a> spec : data.getMember().getVariant().getWeaponGroups()) {</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>                        <span class="keywordflow">for</span> (String slotId : spec.getSlots()) {</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>                            String w = data.getMember().getVariant().getWeaponId(slotId);</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>                            <span class="keywordflow">if</span> (w != <span class="keyword">null</span>) sig += w;</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>                        }</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>                    }</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>                }</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>                <span class="keywordflow">if</span> (loser != <span class="keyword">null</span> &amp;&amp; loser.getFleet() != <span class="keyword">null</span> &amp;&amp; loser.getFleet().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>() != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>                    List&lt;FleetMemberAPI&gt; members = loser.getFleet().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>();</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>                    <span class="keywordflow">if</span> (members != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>                        <span class="keywordtype">int</span> index = members.indexOf(data.getMember());</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>                        <span class="keywordflow">if</span> (index &gt;= 0) {</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>                            sig += <span class="stringliteral">&quot;&quot;</span> + index;</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>                        }</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>                    }</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>                }</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>                <span class="keywordtype">long</span> seed = sig.hashCode() * 143234234234L * extraSeed;</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>                salvageRandom = <span class="keyword">new</span> Random(seed);</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>                <span class="comment">//System.out.println(&quot;Seed for &quot; + data.getMember() + &quot;: &quot; + seed);</span></div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>            }</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>            </div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>            <span class="keywordtype">float</span> mult = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6d487cd720e2081fb64cd6427d231">getSalvageMult</a>(data.getStatus()) * playerContribMult;</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae54c050fde572233113faa6de5833307">lootWeapons</a>(data.getMember(), data.getMember().getVariant(), <span class="keyword">false</span>, mult, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a274c24ec32886d4926bafb01906150e9">lootHullMods</a>(data.getMember(), data.getMember().getVariant(), mult);</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b3bf7dfe563c9dc263819f15e92a4d5">lootWings</a>(data.getMember(), data.getMember().getVariant(), <span class="keyword">false</span>, mult);</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>            adjustedFPSalvage += (float) data.getMember().getFleetPointCost() * mult;</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>        }</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>        </div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>        <span class="keywordflow">for</span> (FleetMemberData data : winner.getOwnCasualties()) {</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>            <span class="keywordflow">if</span> (data.getMember().isAlly()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>            </div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>            <span class="keywordflow">if</span> (data.getStatus() == Status.CAPTURED || data.getStatus() == Status.REPAIRED) {</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>            }</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>            </div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>            <span class="keywordflow">if</span> (data.getMember() != <span class="keyword">null</span> &amp;&amp; data.getMember().getHullSpec().hasTag(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#ae0f6873c00c16988b4634f574f5a194e">NO_BATTLE_SALVAGE</a>)) {</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>            }</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>            </div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>            <span class="comment">// only care about salvageRandom for enemy casualties, not player</span></div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span><span class="comment">//          if (origSalvageRandom != null) {</span></div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span><span class="comment">//              salvageRandom = new Random(data.getMember().getId().hashCode() * 143234234234L * extraSeed);</span></div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span><span class="comment">//          }</span></div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>            </div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>            <span class="keywordtype">float</span> mult = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6d487cd720e2081fb64cd6427d231">getSalvageMult</a>(data.getStatus());</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae54c050fde572233113faa6de5833307">lootWeapons</a>(data.getMember(), data.getMember().getVariant(), <span class="keyword">true</span>, mult, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b3bf7dfe563c9dc263819f15e92a4d5">lootWings</a>(data.getMember(), data.getMember().getVariant(), <span class="keyword">true</span>, mult);</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>            </div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>            adjustedFPSalvage += (float) data.getMember().getFleetPointCost() * mult;</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span>        }</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>        </div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>        <span class="keywordflow">if</span> (recoveredShips != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>            <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : recoveredShips) {</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>                <span class="keywordtype">float</span> mult = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6d487cd720e2081fb64cd6427d231">getSalvageMult</a>(Status.CAPTURED);</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>                adjustedFPSalvage += (float) member.getFleetPointCost() * mult;</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>            }</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>        }</div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>        </div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>        salvageRandom = origSalvageRandom;</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>        </div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>        <span class="comment">// don&#39;t want salvageRandom to be influenced by the number of losses on either side</span></div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>        Random resetSalvageRandomTo = <span class="keyword">null</span>;</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>        Random forRandomDrops = <span class="keyword">null</span>;</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>        Random forCargoDrops = <span class="keyword">null</span>;</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span> </div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>        Random random = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ae27a76e34c5013b1a4128b3b9fc51e60">random</a>;</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>            random = salvageRandom;</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>            resetSalvageRandomTo = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a3feeb2f72d0202d858da380fc1b59d1b">getRandom</a>(random.nextLong(), 11);</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>            forRandomDrops = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a3feeb2f72d0202d858da380fc1b59d1b">getRandom</a>(random.nextLong(), 17);</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>            forCargoDrops = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a3feeb2f72d0202d858da380fc1b59d1b">getRandom</a>(random.nextLong(), 31);</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>() != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html">MemoryAPI</a> memory = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3779a692b186e2a6a0c8a7f1f7e9c7db">getNonPlayerCombined</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#adcd558c1d95f9755066ddaf9a77311c1">getMemoryWithoutUpdate</a>();</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>                <span class="keywordflow">if</span> (memory.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#a60c59adbba73fd159e49e3563116e6f1">contains</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html">MemFlags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html#a9e32d81e5f4587d2dcdc0339868e3022">SALVAGE_SEED</a>)) {</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>                    random = <span class="keyword">new</span> Random(memory.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#ab94576a339d4134d0f8be012f4381a8d">getLong</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html">MemFlags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html#a9e32d81e5f4587d2dcdc0339868e3022">SALVAGE_SEED</a>));</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>                }</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>            }</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>        }</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>        </div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>        <span class="keywordtype">float</span> minCreditsFraction = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageFractionCreditsMin&quot;</span>);</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>        <span class="keywordtype">float</span> maxCreditsFraction = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageFractionCreditsMax&quot;</span>);</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>        </div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>        <span class="keywordtype">float</span> creditsFraction = minCreditsFraction + (maxCreditsFraction - minCreditsFraction) * random.nextFloat();</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>        creditsFraction *= playerContribMult;</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>        </div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>        <span class="keywordtype">float</span> maxSalvageValue = adjustedFPSalvage * <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageValuePerFP&quot;</span>);</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#afcff1e26d676201526786988eb00ad16">isEasy</a>()) {</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>             maxSalvageValue *= <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;easySalvageMult&quot;</span>);</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>        }</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>        </div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> playerFleet = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>();</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>        <span class="keywordtype">float</span> valueMultFleet = playerFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#af1489ac6632b55d6909039ee8205fb5f">BATTLE_SALVAGE_MULT_FLEET</a>);</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>        <span class="keywordtype">float</span> valueModShips = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88438e3d6dfc59eea1b2b8dc7ead2ecb">getSalvageValueModPlayerShips</a>();</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>        </div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>        </div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>        maxSalvageValue *= valueMultFleet + valueModShips;</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>        </div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">creditsLooted</a> = Math.round(maxSalvageValue * creditsFraction);</div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>        <span class="keywordflow">if</span> (!withCredits) <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">creditsLooted</a> = 0;</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>        maxSalvageValue -= <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">creditsLooted</a>;</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>        </div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>        <span class="keywordtype">float</span> salvageValue = 0f;</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>        <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html">WeightedRandomPicker&lt;String&gt;</a> lootPicker = <span class="keyword">new</span> <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html">WeightedRandomPicker&lt;String&gt;</a>(random);</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>        lootPicker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a208270a6df0e8d484033d2d4a2bf15fb">add</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html">Commodities</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#aa5300fa0ae84bb26ef8aaa1987c23568">METALS</a>, 20);</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>        lootPicker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a208270a6df0e8d484033d2d4a2bf15fb">add</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html">Commodities</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#a2706cb7db1abc45d06653e97f12b6aa1">SUPPLIES</a>, 10);</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>        lootPicker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a208270a6df0e8d484033d2d4a2bf15fb">add</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html">Commodities</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#a1d325ada01d1326202a34ae385600501">FUEL</a>, 10);</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>        lootPicker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a208270a6df0e8d484033d2d4a2bf15fb">add</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html">Commodities</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#a0a0ff66d08a18aa93b9b7b08c90c79a0">HEAVY_MACHINERY</a>, 1);</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>        </div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>        <span class="keywordflow">while</span> (salvageValue &lt; maxSalvageValue) {</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>            String commodityId = lootPicker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a272ec6eb3c16a66abbf5203dfd34f7d6">pick</a>();</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>            <span class="keywordflow">if</span> (commodityId == <span class="keyword">null</span>) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>            </div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI.html">CommoditySpecAPI</a> spec = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a062ca6b5bda91016a1af54bc51452ffc">getEconomy</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1EconomyAPI.html#a0de8e86fe5378832931a8576cee5445c">getCommoditySpec</a>(commodityId);</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span>            <span class="keywordtype">float</span> qty = 1f;</div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span>            salvageValue += spec.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI.html#a667cad9d981a043d6a4870a5313f4028">getBasePrice</a>() * qty;</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ae1dcc76b32d5391954b0e214fb19dfc8">addCommodity</a>(commodityId, qty);</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>        }</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span> </div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>        </div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>        <span class="keywordtype">float</span> fuelMult = playerFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a3cd5b12ea39009eb0ea547beb8bd9fe4">FUEL_SALVAGE_VALUE_MULT_FLEET</a>);</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>        <span class="keywordtype">float</span> fuel = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a97474623007a342af2bedf0d00d2ccfb">getFuel</a>();</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>        <span class="keywordflow">if</span> (fuelMult &gt; 1f) {</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ac6d6cd791a77dc5869e55d67584f3004">addFuel</a>((<span class="keywordtype">int</span>) Math.round(fuel * (fuelMult - 1f)));</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>        }</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>        </div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().getSnapshotSideFor(loser.getFleet()) == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span>        </div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>        List&lt;DropData&gt; dropRandom = <span class="keyword">new</span> ArrayList&lt;DropData&gt;();</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>        List&lt;DropData&gt; dropValue = <span class="keyword">new</span> ArrayList&lt;DropData&gt;();</div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>        <span class="comment">//for (CampaignFleetAPI other : getBattle().getSideFor(loser.getFleet())) {</span></div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> other : <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().getSnapshotSideFor(loser.getFleet())) {</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>            dropRandom.addAll(other.getDropRandom());</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>            dropValue.addAll(other.getDropValue());</div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>            other.getDropRandom().clear();</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>            other.getDropValue().clear();</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>            </div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> extra = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1special_1_1BaseSalvageSpecial.html">BaseSalvageSpecial</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1special_1_1BaseSalvageSpecial.html#a827d2ace3dab1c0a400515cfe0bfab29">getCombinedExtraSalvage</a>(other);</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a91e8ad74bfaa4756a700fcaf9d4bbfcc">addAll</a>(extra);</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>            </div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1special_1_1BaseSalvageSpecial.html">BaseSalvageSpecial</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1special_1_1BaseSalvageSpecial.html#ae345ee21d6ee29e07e153bdebabeccbc">clearExtraSalvage</a>(other);</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>            <span class="keywordflow">if</span> (!extra.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a8e90450940b0ae7c46450a04219d0959">isEmpty</a>()) {</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>                <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1listeners_1_1ListenerUtil.html">ListenerUtil</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1listeners_1_1ListenerUtil.html#aa894fc4c69e1e183307c08c03b696428">reportExtraSalvageShown</a>(other);</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>            }</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>        }</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>        </div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>        <span class="keywordflow">if</span> (forRandomDrops != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>            random = forRandomDrops;</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>        }</div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> extra = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1SalvageEntity.html">SalvageEntity</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1SalvageEntity.html#a02ea433a87df4b4f025423bcea69f2db">generateSalvage</a>(random, valueMultFleet + valueModShips, 1f, fuelMult, dropValue, dropRandom);</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html">CargoStackAPI</a> stack : extra.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#abdf57e23461ce51fedf1e45bf211975e">getStacksCopy</a>()) {</div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a3b35d9aa67fb2d5e67d21ccf196596b1">addFromStack</a>(stack);</div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>        }</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span>        </div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span>        <span class="keywordflow">if</span> (forCargoDrops != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span>            salvageRandom = forCargoDrops;</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>        }</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8f4a87c4cfe1918267f81969e494fc2c">handleCargoLooting</a>(recoveredShips, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span>        </div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>        <span class="keywordflow">if</span> (resetSalvageRandomTo != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>            salvageRandom = resetSalvageRandomTo;</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>        }</div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span>    }</div>
</div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>    </div>
<div class="foldopen" id="foldopen02407" data-start="{" data-end="}">
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88438e3d6dfc59eea1b2b8dc7ead2ecb"> 2407</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88438e3d6dfc59eea1b2b8dc7ead2ecb">getSalvageValueModPlayerShips</a>() {</div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1RepairGantry.html">RepairGantry</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1RepairGantry.html#ad3afb31816f6bc2b15c7eafd75837f59">getAdjustedGantryModifierForPostCombatSalvage</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>());</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span><span class="comment">//      float valueModShips = 0;</span></div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span><span class="comment">//      for (FleetMemberAPI member : Global.getSector().getPlayerFleet().getFleetData().getMembersListCopy()) {</span></div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span><span class="comment">//          if (member.isMothballed()) continue;</span></div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span><span class="comment">//          float maxCurr = member.getStats().getDynamic().getValue(Stats.BATTLE_SALVAGE_VALUE_MULT_MOD, 0f);</span></div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span><span class="comment">//          OfficerEngagementData data = getWinnerData().getFleetMemberDeploymentData().get(member);</span></div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span><span class="comment">//          if (data == null) continue;</span></div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span><span class="comment">//          float memberDeployed = data.timeDeployed;</span></div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span><span class="comment">//          float maxDeployed = getWinnerData().getMaxTimeDeployed();</span></div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span><span class="comment">//          if (maxDeployed &lt;= 0) continue;</span></div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span><span class="comment">//          maxCurr *= Math.min(1f, memberDeployed / maxDeployed);</span></div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span><span class="comment">//          </span></div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span><span class="comment">//          valueModShips += maxCurr;</span></div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span><span class="comment">//      }</span></div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span><span class="comment">//      return valueModShips;</span></div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>    }</div>
</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span>    </div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>    <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">class </span>LootableCargoStack {</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>        <span class="keyword">public</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> source;</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>        <span class="keyword">public</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html">CargoStackAPI</a> stack;</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>        <span class="keyword">public</span> LootableCargoStack(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> source, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html">CargoStackAPI</a> stack) {</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>            this.source = source;</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span>            this.stack = stack;</div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>        }</div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span>    }</div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"> 2433</span>    </div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span>    <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">class </span>LossFraction {</div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span>        <span class="keyword">public</span> <span class="keywordtype">float</span> maxCargo;</div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span>        <span class="keyword">public</span> <span class="keywordtype">float</span> maxFuel;</div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>        <span class="keyword">public</span> <span class="keywordtype">float</span> lostCargo;</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>        <span class="keyword">public</span> <span class="keywordtype">float</span> lostFuel;</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span>    }</div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span>    </div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>    </div>
<div class="foldopen" id="foldopen02442" data-start="{" data-end="}">
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8f4a87c4cfe1918267f81969e494fc2c"> 2442</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8f4a87c4cfe1918267f81969e494fc2c">handleCargoLooting</a>(List&lt;FleetMemberAPI&gt; recoveredShips, <span class="keywordtype">boolean</span> takingFromPlayer) {</div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>        DataForEncounterSide winner = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>();</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>        DataForEncounterSide loser = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>();</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span> </div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>        <span class="keywordflow">if</span> (winner == <span class="keyword">null</span> || loser == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span>        </div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>        loser.getFleet().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#ad3307d3970ed5df23e197b45c19f3c21">updateCargoCapacities</a>();</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> loserCargo = (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a>) loser.getFleet().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>();</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span>        <span class="keywordtype">float</span> maxCargo = loserCargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#aad7edd183b2f5602116ee89f4eebd8b7">getMaxCapacity</a>();</div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>        <span class="keywordtype">float</span> maxFuel = loserCargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a60edc1d1b4a25ee0c2094b8d58cef65e">getMaxFuel</a>();</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span>        </div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span>        Random random = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ae27a76e34c5013b1a4128b3b9fc51e60">random</a>;</div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) random = salvageRandom;</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>        </div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span><span class="comment">//      boolean playerLost = battle.isPlayerSide(battle.getSideFor(loser.getFleet()));</span></div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>        </div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span>        Map&lt;CargoAPI, LossFraction&gt; fractions = <span class="keyword">new</span> HashMap&lt;CargoAPI, LossFraction&gt;();</div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span>        </div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>        <span class="keywordtype">float</span> lostCargo = 0f;</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>        <span class="keywordtype">float</span> lostFuel = 0f;</div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span> </div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>        <span class="keywordtype">float</span> totalLoss = 0f;</div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span>        <span class="keywordflow">for</span> (FleetMemberData data : winner.getEnemyCasualties()) {</div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span><span class="comment">//          if (data.getStatus() == Status.REPAIRED) {</span></div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span><span class="comment">//              continue;</span></div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span><span class="comment">//          }</span></div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span><span class="comment">//          if (playerLost &amp;&amp; data.getMember().isAlly()) {</span></div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span><span class="comment">//              continue;</span></div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span><span class="comment">//          }</span></div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>            </div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> source = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(data.getMember());</div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> orig = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a349be3fe402337467f44a20e1b2bfe9b">origSourceForRecoveredShips</a>.get(data.getMember());</div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>            <span class="keywordflow">if</span> (orig != <span class="keyword">null</span>) source = orig;</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span>            </div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span>            <span class="keywordflow">if</span> (source != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> c = source.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>();</div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span>                LossFraction loss = fractions.get(c);</div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"> 2479</span>                <span class="keywordflow">if</span> (loss == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>                    loss = <span class="keyword">new</span> LossFraction();</div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>                    loss.maxCargo = c.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#aad7edd183b2f5602116ee89f4eebd8b7">getMaxCapacity</a>();</div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span>                    loss.maxFuel = c.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a60edc1d1b4a25ee0c2094b8d58cef65e">getMaxFuel</a>();</div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span>                    fractions.put(c, loss);</div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span>                }</div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span>                </div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>                loss.lostCargo += data.getMember().getCargoCapacity();</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span>                loss.lostFuel += data.getMember().getFuelCapacity();</div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span>                </div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span>                loss.maxCargo += data.getMember().getCargoCapacity();</div>
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"> 2490</span>                loss.maxFuel += data.getMember().getFuelCapacity();</div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span>                </div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>                totalLoss += loss.maxCargo + loss.maxFuel;</div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span>                lostCargo += data.getMember().getCargoCapacity();</div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span>                lostFuel += data.getMember().getFuelCapacity();</div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span>                </div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span>                maxCargo += data.getMember().getCargoCapacity();</div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span>                maxFuel += data.getMember().getFuelCapacity();</div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span>                </div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span>                totalLoss += maxCargo + maxFuel;</div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span>            }</div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span>            </div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span>        }</div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span>        </div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span>        <span class="comment">//if (lostCargo &lt;= 0 &amp;&amp; lostFuel &lt;= 0) {</span></div>
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"> 2506</span>        <span class="keywordflow">if</span> (totalLoss &lt;= 0) {</div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span>        }</div>
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"> 2509</span>        </div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span>        <span class="keywordflow">if</span> (maxCargo &lt; 1) maxCargo = 1;</div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span>        <span class="keywordflow">if</span> (maxFuel &lt; 1) maxFuel = 1;</div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span>        </div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span>        <span class="keywordtype">float</span> recoveryFraction = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageCargoFraction&quot;</span>);</div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span>        </div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(winner.getFleet()))) {</div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span>            <span class="keywordtype">float</span> playerContribMult = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>();</div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span>            recoveryFraction *= playerContribMult;</div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span>        }</div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span>        </div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span>        <span class="keywordtype">float</span> cargoFractionLost = lostCargo / maxCargo;</div>
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"> 2521</span>        <span class="keywordtype">float</span> fuelFractionLost = lostFuel / maxFuel;</div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"> 2522</span>        <span class="keywordflow">if</span> (lostCargo &gt; maxCargo) cargoFractionLost = 1f;</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span>        <span class="keywordflow">if</span> (lostFuel &gt; maxFuel) fuelFractionLost = 1f;</div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span>        </div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>        </div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span>        List&lt;CampaignFleetAPI&gt; losers = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a079e00738984aef9c8b22a779951c44b">getSnapshotSideFor</a>(loser.getFleet());</div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span>        <span class="keywordflow">if</span> (losers == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"> 2528</span>        </div>
<div class="line"><a id="l02529" name="l02529"></a><span class="lineno"> 2529</span>        List&lt;LootableCargoStack&gt; stacks = <span class="keyword">new</span> ArrayList&lt;LootableCargoStack&gt;();</div>
<div class="line"><a id="l02530" name="l02530"></a><span class="lineno"> 2530</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> curr : losers) {</div>
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span>            <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html">CargoStackAPI</a> stack : curr.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#addad5a46b3c5cfcea6deefe7117cee07">getCargo</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#abdf57e23461ce51fedf1e45bf211975e">getStacksCopy</a>()) {</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>                stacks.add(<span class="keyword">new</span> LootableCargoStack(curr.getCargo(), stack));</div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>            }</div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span>        }</div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span>        </div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span>        <span class="keywordflow">for</span> (LootableCargoStack stack : stacks) {</div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>            <span class="keywordflow">if</span> (stack.stack.isNull()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span>            <span class="keywordflow">if</span> (stack.stack.isPersonnelStack()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span>            <span class="keywordflow">if</span> (stack.stack.getSize() &lt; 1) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span>            </div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span>            <span class="keywordtype">float</span> actualCargoFractionLost = cargoFractionLost;</div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"> 2542</span>            <span class="keywordtype">float</span> actualFuelFractionLost = fuelFractionLost;</div>
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span>            LossFraction loss = fractions.get(stack.source);</div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span>            <span class="keywordflow">if</span> (loss != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span>                actualCargoFractionLost = loss.lostCargo / loss.maxCargo;</div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>                actualFuelFractionLost = loss.lostFuel / loss.maxFuel;</div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span>                <span class="keywordflow">if</span> (loss.lostCargo &gt; loss.maxCargo) actualCargoFractionLost = 1f;</div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span>                <span class="keywordflow">if</span> (loss.lostFuel &gt; loss.maxFuel) actualFuelFractionLost = 1f;</div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span>            }</div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span>            </div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span>            </div>
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"> 2552</span>            <span class="keywordflow">if</span> (takingFromPlayer) {</div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"> 2553</span>                <span class="keywordflow">if</span> (stack.stack.isSpecialStack()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"> 2554</span>                <span class="keywordflow">if</span> (stack.stack.isCommodityStack()) {</div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span>                    <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI.html">CommoditySpecAPI</a> spec = stack.stack.getResourceIfResource();</div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span>                    <span class="keywordflow">if</span> (spec != <span class="keyword">null</span> &amp;&amp; spec.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI.html#a32669b3bd929df706958e478755defa5">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html">Commodities</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#a03be61921f42d865858e3cc31429cc84">TAG_NO_LOSS_FROM_COMBAT</a>)){</div>
<div class="line"><a id="l02557" name="l02557"></a><span class="lineno"> 2557</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02558" name="l02558"></a><span class="lineno"> 2558</span>                    }</div>
<div class="line"><a id="l02559" name="l02559"></a><span class="lineno"> 2559</span>                }</div>
<div class="line"><a id="l02560" name="l02560"></a><span class="lineno"> 2560</span>            }</div>
<div class="line"><a id="l02561" name="l02561"></a><span class="lineno"> 2561</span>            </div>
<div class="line"><a id="l02562" name="l02562"></a><span class="lineno"> 2562</span>            <span class="keywordtype">float</span> numLost = 0;</div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"> 2563</span>            <span class="keywordtype">float</span> numTaken = 0;</div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span>            <span class="keywordflow">if</span> (stack.stack.isFuelStack()) {</div>
<div class="line"><a id="l02565" name="l02565"></a><span class="lineno"> 2565</span>                numLost = actualFuelFractionLost * stack.stack.getSize();</div>
<div class="line"><a id="l02566" name="l02566"></a><span class="lineno"> 2566</span>                numTaken = Math.round(numLost * (0.5f + random.nextFloat() * 0.5f));</div>
<div class="line"><a id="l02567" name="l02567"></a><span class="lineno"> 2567</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02568" name="l02568"></a><span class="lineno"> 2568</span>                numLost = actualCargoFractionLost * stack.stack.getSize();</div>
<div class="line"><a id="l02569" name="l02569"></a><span class="lineno"> 2569</span>                numTaken = Math.round(numLost * (0.5f + random.nextFloat() * 0.5f));</div>
<div class="line"><a id="l02570" name="l02570"></a><span class="lineno"> 2570</span>            }</div>
<div class="line"><a id="l02571" name="l02571"></a><span class="lineno"> 2571</span>            </div>
<div class="line"><a id="l02572" name="l02572"></a><span class="lineno"> 2572</span>            <span class="keywordflow">if</span> (numLost &lt; 1) {</div>
<div class="line"><a id="l02573" name="l02573"></a><span class="lineno"> 2573</span>                <span class="keywordflow">if</span> (random.nextFloat() &lt; numLost) {</div>
<div class="line"><a id="l02574" name="l02574"></a><span class="lineno"> 2574</span>                    numLost = 1;</div>
<div class="line"><a id="l02575" name="l02575"></a><span class="lineno"> 2575</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02576" name="l02576"></a><span class="lineno"> 2576</span>                    numLost = 0;</div>
<div class="line"><a id="l02577" name="l02577"></a><span class="lineno"> 2577</span>                    numTaken = 0;</div>
<div class="line"><a id="l02578" name="l02578"></a><span class="lineno"> 2578</span>                }</div>
<div class="line"><a id="l02579" name="l02579"></a><span class="lineno"> 2579</span>            }</div>
<div class="line"><a id="l02580" name="l02580"></a><span class="lineno"> 2580</span>            </div>
<div class="line"><a id="l02581" name="l02581"></a><span class="lineno"> 2581</span>            <span class="keywordflow">if</span> (numLost &lt;= 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02582" name="l02582"></a><span class="lineno"> 2582</span>            </div>
<div class="line"><a id="l02583" name="l02583"></a><span class="lineno"> 2583</span>            stack.stack.add(-numLost);</div>
<div class="line"><a id="l02584" name="l02584"></a><span class="lineno"> 2584</span>            <span class="keywordflow">if</span> (numTaken * recoveryFraction &gt;= 1) {</div>
<div class="line"><a id="l02585" name="l02585"></a><span class="lineno"> 2585</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(stack.stack.getType(), stack.stack.getData(), numTaken * recoveryFraction);</div>
<div class="line"><a id="l02586" name="l02586"></a><span class="lineno"> 2586</span>            }</div>
<div class="line"><a id="l02587" name="l02587"></a><span class="lineno"> 2587</span>        }</div>
<div class="line"><a id="l02588" name="l02588"></a><span class="lineno"> 2588</span>        </div>
<div class="line"><a id="l02589" name="l02589"></a><span class="lineno"> 2589</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(loser.getFleet())) {</div>
<div class="line"><a id="l02590" name="l02590"></a><span class="lineno"> 2590</span>            <span class="keywordflow">if</span> (fleet.isPlayerFleet()) {</div>
<div class="line"><a id="l02591" name="l02591"></a><span class="lineno"> 2591</span>                fleet.getCargo().sort();</div>
<div class="line"><a id="l02592" name="l02592"></a><span class="lineno"> 2592</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02593" name="l02593"></a><span class="lineno"> 2593</span>            }</div>
<div class="line"><a id="l02594" name="l02594"></a><span class="lineno"> 2594</span>        }</div>
<div class="line"><a id="l02595" name="l02595"></a><span class="lineno"> 2595</span>    }</div>
</div>
<div class="line"><a id="l02596" name="l02596"></a><span class="lineno"> 2596</span>    </div>
<div class="line"><a id="l02597" name="l02597"></a><span class="lineno"> 2597</span> </div>
<div class="foldopen" id="foldopen02598" data-start="{" data-end="}">
<div class="line"><a id="l02598" name="l02598"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a042e693cf1b8e7484da958c994716f1f"> 2598</a></span>    <span class="keyword">public</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a042e693cf1b8e7484da958c994716f1f">getLoot</a>() {</div>
<div class="line"><a id="l02599" name="l02599"></a><span class="lineno"> 2599</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>;</div>
<div class="line"><a id="l02600" name="l02600"></a><span class="lineno"> 2600</span>    }</div>
</div>
<div class="line"><a id="l02601" name="l02601"></a><span class="lineno"> 2601</span> </div>
<div class="foldopen" id="foldopen02602" data-start="{" data-end="}">
<div class="line"><a id="l02602" name="l02602"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a274c24ec32886d4926bafb01906150e9"> 2602</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a274c24ec32886d4926bafb01906150e9">lootHullMods</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a> variant, <span class="keywordtype">float</span> mult) {</div>
<div class="line"><a id="l02603" name="l02603"></a><span class="lineno"> 2603</span>        <span class="keywordflow">if</span> (variant == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02604" name="l02604"></a><span class="lineno"> 2604</span>        <span class="keywordflow">if</span> (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a04d298fe8266beb8440baa6f700b1812">isFighterWing</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02605" name="l02605"></a><span class="lineno"> 2605</span>        Random random = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ae27a76e34c5013b1a4128b3b9fc51e60">random</a>;</div>
<div class="line"><a id="l02606" name="l02606"></a><span class="lineno"> 2606</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) random = salvageRandom;</div>
<div class="line"><a id="l02607" name="l02607"></a><span class="lineno"> 2607</span>        </div>
<div class="line"><a id="l02608" name="l02608"></a><span class="lineno"> 2608</span>        <span class="keywordtype">float</span> p = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageHullmodProb&quot;</span>);</div>
<div class="line"><a id="l02609" name="l02609"></a><span class="lineno"> 2609</span>        <span class="keywordtype">float</span> pItem = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageHullmodRequiredItemProb&quot;</span>);</div>
<div class="line"><a id="l02610" name="l02610"></a><span class="lineno"> 2610</span>        </div>
<div class="line"><a id="l02611" name="l02611"></a><span class="lineno"> 2611</span>        <span class="keywordflow">for</span> (String <span class="keywordtype">id</span> : variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a03b8944bd46d33a247008dade28c7503">getHullMods</a>()) {</div>
<div class="line"><a id="l02612" name="l02612"></a><span class="lineno"> 2612</span>            <span class="keywordflow">if</span> (!variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a88fb55e65c74f293fc9098b2553bbe1c">getHullSpec</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI.html#a7a5e4be13321e01e8d2aaa289beef3a4">isBuiltInMod</a>(<span class="keywordtype">id</span>)) {</div>
<div class="line"><a id="l02613" name="l02613"></a><span class="lineno"> 2613</span>                <span class="keywordflow">if</span> (random.nextFloat() &lt; pItem &amp;&amp; random.nextFloat() &lt; mult) {</div>
<div class="line"><a id="l02614" name="l02614"></a><span class="lineno"> 2614</span>                    <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI.html">HullModSpecAPI</a> spec = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#a85cd934ed046c024997d7ff2ebfe587f">getHullModSpec</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l02615" name="l02615"></a><span class="lineno"> 2615</span>                    <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html">CargoStackAPI</a> item = spec.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI.html#af3d374dd0ea115dc31e4adcfba0c8b79">getEffect</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1HullModEffect.html#a5669810bb9a7e336db57dffc2f809e68">getRequiredItem</a>();</div>
<div class="line"><a id="l02616" name="l02616"></a><span class="lineno"> 2616</span>                    <span class="keywordflow">if</span> (item != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"> 2617</span>                        <span class="keywordtype">boolean</span> addToLoot = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02618" name="l02618"></a><span class="lineno"> 2618</span>                        <span class="keywordflow">if</span> (item.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#a00a6964e5ae45d004da6f13d5985a17e">getSpecialItemSpecIfSpecial</a>() != <span class="keyword">null</span> &amp;&amp; item.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#a00a6964e5ae45d004da6f13d5985a17e">getSpecialItemSpecIfSpecial</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SpecialItemSpecAPI.html#a0e066702f6c84ff651ea8b3725320b84">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a7e5628655339e1c6f39780e8aaf3d374">NO_DROP</a>)) {</div>
<div class="line"><a id="l02619" name="l02619"></a><span class="lineno"> 2619</span>                            addToLoot = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02620" name="l02620"></a><span class="lineno"> 2620</span>                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (item.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#af59298590d57813bc1ac96d28c1d1cc1">getResourceIfResource</a>() != <span class="keyword">null</span> &amp;&amp; item.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#af59298590d57813bc1ac96d28c1d1cc1">getResourceIfResource</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI.html#a32669b3bd929df706958e478755defa5">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a7e5628655339e1c6f39780e8aaf3d374">NO_DROP</a>)) {</div>
<div class="line"><a id="l02621" name="l02621"></a><span class="lineno"> 2621</span>                            addToLoot = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02622" name="l02622"></a><span class="lineno"> 2622</span>                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (item.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#a3668af1871ad48d94c01baa4924bc028">getFighterWingSpecIfWing</a>() != <span class="keyword">null</span> &amp;&amp; item.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#a3668af1871ad48d94c01baa4924bc028">getFighterWingSpecIfWing</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1FighterWingSpecAPI.html#a5a9f5ab43f83ef1d5d7f5ae8901cd810">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a7e5628655339e1c6f39780e8aaf3d374">NO_DROP</a>)) {</div>
<div class="line"><a id="l02623" name="l02623"></a><span class="lineno"> 2623</span>                            addToLoot = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02624" name="l02624"></a><span class="lineno"> 2624</span>                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (item.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#af94da8f87974bcee5ac637c5382203be">getWeaponSpecIfWeapon</a>() != <span class="keyword">null</span> &amp;&amp; item.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#af94da8f87974bcee5ac637c5382203be">getWeaponSpecIfWeapon</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSpecAPI.html#a002c8c4e42e973c53d1a90fd5af50e07">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a7e5628655339e1c6f39780e8aaf3d374">NO_DROP</a>)) {</div>
<div class="line"><a id="l02625" name="l02625"></a><span class="lineno"> 2625</span>                            addToLoot = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"> 2626</span>                        }</div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span>                        <span class="keywordflow">if</span> (addToLoot) {</div>
<div class="line"><a id="l02628" name="l02628"></a><span class="lineno"> 2628</span>                            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(item.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#ac9af2c034b1f6abf8dc215ffa1d046cf">getType</a>(), item.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#a3c1027b21f2ab64119279f8328355660">getData</a>(), 1);</div>
<div class="line"><a id="l02629" name="l02629"></a><span class="lineno"> 2629</span>                        }</div>
<div class="line"><a id="l02630" name="l02630"></a><span class="lineno"> 2630</span>                    }</div>
<div class="line"><a id="l02631" name="l02631"></a><span class="lineno"> 2631</span>                }</div>
<div class="line"><a id="l02632" name="l02632"></a><span class="lineno"> 2632</span>            }</div>
<div class="line"><a id="l02633" name="l02633"></a><span class="lineno"> 2633</span>            </div>
<div class="line"><a id="l02634" name="l02634"></a><span class="lineno"> 2634</span>            <span class="comment">//if (random.nextFloat() &gt; mult) continue;</span></div>
<div class="line"><a id="l02635" name="l02635"></a><span class="lineno"> 2635</span>            <span class="keywordflow">if</span> (random.nextFloat() &lt; p &amp;&amp; random.nextFloat() &lt; mult) {</div>
<div class="line"><a id="l02636" name="l02636"></a><span class="lineno"> 2636</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI.html">HullModSpecAPI</a> spec = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#a85cd934ed046c024997d7ff2ebfe587f">getHullModSpec</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l02637" name="l02637"></a><span class="lineno"> 2637</span>                <span class="keywordtype">boolean</span> known = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a763cef46b40424475949be7d8b85d802">getPlayerFaction</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FactionAPI.html#aa060ecf6eb94fc8749481b3646b3a17f">knowsHullMod</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"> 2638</span>                <span class="keywordflow">if</span> (<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DebugFlags.html">DebugFlags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DebugFlags.html#adcff2031d51caccb9c4f6d712da5b313">ALLOW_KNOWN_HULLMOD_DROPS</a>) known = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span>                <span class="keywordflow">if</span> (known || spec.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI.html#a82c01fb1fb2e689b19ff4ef031e47ef9">isHidden</a>() || spec.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI.html#a6d7669cf88a4eac363e50df38b134c49">isHiddenEverywhere</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span>                <span class="comment">//if (spec.isAlwaysUnlocked()) continue;</span></div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span>                <span class="keywordflow">if</span> (spec.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI.html#a2b6b3f5df990a814e8551fa743a5bd7a">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a5406fcca9ba587e812d5d133fb3cae85">HULLMOD_NO_DROP</a>)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span>                </div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a374a195e17708daf73f13d2bca470847">addHullmods</a>(<span class="keywordtype">id</span>, 1);</div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"> 2644</span>            }</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span>        }</div>
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"> 2646</span>        </div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span>        <span class="keywordflow">for</span> (String slotId : variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a1f3d1f0c3278c3a820c9851592a1efcc">getModuleSlots</a>()) {</div>
<div class="line"><a id="l02648" name="l02648"></a><span class="lineno"> 2648</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSlotAPI.html">WeaponSlotAPI</a> slot = variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#ae355e6dbee8ecb6431086eab7f2c72a0">getSlot</a>(slotId);</div>
<div class="line"><a id="l02649" name="l02649"></a><span class="lineno"> 2649</span>            <span class="keywordflow">if</span> (slot.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSlotAPI.html#a92d4287d558a37c3ae7d07428f21d38e">isStationModule</a>()) {</div>
<div class="line"><a id="l02650" name="l02650"></a><span class="lineno"> 2650</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a> module = variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a6e848c1b09a06753d4073c13740fc8bb">getModuleVariant</a>(slotId);</div>
<div class="line"><a id="l02651" name="l02651"></a><span class="lineno"> 2651</span>                <span class="keywordflow">if</span> (module == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02652" name="l02652"></a><span class="lineno"> 2652</span>                <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a274c24ec32886d4926bafb01906150e9">lootHullMods</a>(member, module, mult);</div>
<div class="line"><a id="l02653" name="l02653"></a><span class="lineno"> 2653</span>            }</div>
<div class="line"><a id="l02654" name="l02654"></a><span class="lineno"> 2654</span>        }</div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span>    }</div>
</div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span>    </div>
<div class="foldopen" id="foldopen02657" data-start="{" data-end="}">
<div class="line"><a id="l02657" name="l02657"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b3bf7dfe563c9dc263819f15e92a4d5"> 2657</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b3bf7dfe563c9dc263819f15e92a4d5">lootWings</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a> variant, <span class="keywordtype">boolean</span> own, <span class="keywordtype">float</span> mult) {</div>
<div class="line"><a id="l02658" name="l02658"></a><span class="lineno"> 2658</span>        <span class="keywordflow">if</span> (variant == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02659" name="l02659"></a><span class="lineno"> 2659</span>        <span class="keywordflow">if</span> (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a04d298fe8266beb8440baa6f700b1812">isFighterWing</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span>        Random random = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ae27a76e34c5013b1a4128b3b9fc51e60">random</a>;</div>
<div class="line"><a id="l02661" name="l02661"></a><span class="lineno"> 2661</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) random = salvageRandom;</div>
<div class="line"><a id="l02662" name="l02662"></a><span class="lineno"> 2662</span>        </div>
<div class="line"><a id="l02663" name="l02663"></a><span class="lineno"> 2663</span>        <span class="keywordtype">float</span> p = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageWingProb&quot;</span>);</div>
<div class="line"><a id="l02664" name="l02664"></a><span class="lineno"> 2664</span>        <span class="keywordflow">if</span> (own) {</div>
<div class="line"><a id="l02665" name="l02665"></a><span class="lineno"> 2665</span>            p = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageOwnWingProb&quot;</span>);</div>
<div class="line"><a id="l02666" name="l02666"></a><span class="lineno"> 2666</span>            p = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a62b15a551c7ad72cf2340d708cb61b3d">OWN_WING_RECOVERY_MOD</a>, p);</div>
<div class="line"><a id="l02667" name="l02667"></a><span class="lineno"> 2667</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02668" name="l02668"></a><span class="lineno"> 2668</span>            p = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a23c4514fa522a3df6ae7de9debc8e7ed">ENEMY_WING_RECOVERY_MOD</a>, p);</div>
<div class="line"><a id="l02669" name="l02669"></a><span class="lineno"> 2669</span>        }</div>
<div class="line"><a id="l02670" name="l02670"></a><span class="lineno"> 2670</span>        </div>
<div class="line"><a id="l02671" name="l02671"></a><span class="lineno"> 2671</span>        <span class="keywordtype">boolean</span> alreadyStripped = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab">recoverableShips</a>.contains(member);</div>
<div class="line"><a id="l02672" name="l02672"></a><span class="lineno"> 2672</span>        </div>
<div class="line"><a id="l02673" name="l02673"></a><span class="lineno"> 2673</span>        <span class="keywordflow">for</span> (String <span class="keywordtype">id</span> : variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a80f97d773b7bb00c2a9e175bc4cf11ea">getNonBuiltInWings</a>()) {</div>
<div class="line"><a id="l02674" name="l02674"></a><span class="lineno"> 2674</span>            <span class="keywordflow">if</span> (!alreadyStripped) {</div>
<div class="line"><a id="l02675" name="l02675"></a><span class="lineno"> 2675</span>                <span class="keywordflow">if</span> (random.nextFloat() &gt; mult) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02676" name="l02676"></a><span class="lineno"> 2676</span>                <span class="keywordflow">if</span> (random.nextFloat() &gt; p) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02677" name="l02677"></a><span class="lineno"> 2677</span>            }</div>
<div class="line"><a id="l02678" name="l02678"></a><span class="lineno"> 2678</span>                </div>
<div class="line"><a id="l02679" name="l02679"></a><span class="lineno"> 2679</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1FighterWingSpecAPI.html">FighterWingSpecAPI</a> spec = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc52b5ae3dfe57e81216d90383b1c733">getFighterWingSpec</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l02680" name="l02680"></a><span class="lineno"> 2680</span>            <span class="keywordflow">if</span> (spec.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1FighterWingSpecAPI.html#a5a9f5ab43f83ef1d5d7f5ae8901cd810">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a3eca68e7193c35443ed753ef92c83015">WING_NO_DROP</a>)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02681" name="l02681"></a><span class="lineno"> 2681</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(CargoItemType.FIGHTER_CHIP, <span class="keywordtype">id</span>, 1);</div>
<div class="line"><a id="l02682" name="l02682"></a><span class="lineno"> 2682</span>        }</div>
<div class="line"><a id="l02683" name="l02683"></a><span class="lineno"> 2683</span>        </div>
<div class="line"><a id="l02684" name="l02684"></a><span class="lineno"> 2684</span>        <span class="keywordflow">for</span> (String slotId : variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a1f3d1f0c3278c3a820c9851592a1efcc">getModuleSlots</a>()) {</div>
<div class="line"><a id="l02685" name="l02685"></a><span class="lineno"> 2685</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSlotAPI.html">WeaponSlotAPI</a> slot = variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#ae355e6dbee8ecb6431086eab7f2c72a0">getSlot</a>(slotId);</div>
<div class="line"><a id="l02686" name="l02686"></a><span class="lineno"> 2686</span>            <span class="keywordflow">if</span> (slot.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSlotAPI.html#a92d4287d558a37c3ae7d07428f21d38e">isStationModule</a>()) {</div>
<div class="line"><a id="l02687" name="l02687"></a><span class="lineno"> 2687</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a> module = variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a6e848c1b09a06753d4073c13740fc8bb">getModuleVariant</a>(slotId);</div>
<div class="line"><a id="l02688" name="l02688"></a><span class="lineno"> 2688</span>                <span class="keywordflow">if</span> (module == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02689" name="l02689"></a><span class="lineno"> 2689</span>                <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b3bf7dfe563c9dc263819f15e92a4d5">lootWings</a>(member, module, own, mult);</div>
<div class="line"><a id="l02690" name="l02690"></a><span class="lineno"> 2690</span>            }</div>
<div class="line"><a id="l02691" name="l02691"></a><span class="lineno"> 2691</span>        }</div>
<div class="line"><a id="l02692" name="l02692"></a><span class="lineno"> 2692</span>    }</div>
</div>
<div class="line"><a id="l02693" name="l02693"></a><span class="lineno"> 2693</span>    </div>
<div class="foldopen" id="foldopen02694" data-start="{" data-end="}">
<div class="line"><a id="l02694" name="l02694"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae54c050fde572233113faa6de5833307"> 2694</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae54c050fde572233113faa6de5833307">lootWeapons</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a> variant, <span class="keywordtype">boolean</span> own, <span class="keywordtype">float</span> mult, <span class="keywordtype">boolean</span> lootingModule) {</div>
<div class="line"><a id="l02695" name="l02695"></a><span class="lineno"> 2695</span>        <span class="keywordflow">if</span> (variant == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02696" name="l02696"></a><span class="lineno"> 2696</span>        <span class="keywordflow">if</span> (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a04d298fe8266beb8440baa6f700b1812">isFighterWing</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02697" name="l02697"></a><span class="lineno"> 2697</span>        </div>
<div class="line"><a id="l02698" name="l02698"></a><span class="lineno"> 2698</span><span class="comment">//      if (own) {</span></div>
<div class="line"><a id="l02699" name="l02699"></a><span class="lineno"> 2699</span><span class="comment">//          System.out.println(&quot;238034wefwef&quot;);</span></div>
<div class="line"><a id="l02700" name="l02700"></a><span class="lineno"> 2700</span><span class="comment">//      }</span></div>
<div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span>        <span class="comment">//isUnremovable(</span></div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span>        <span class="keywordflow">if</span> (own &amp;&amp; !lootingModule &amp;&amp; member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a306fe7ab88ee3eaa89423f8213b83663">getCaptain</a>() != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span>                member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a306fe7ab88ee3eaa89423f8213b83663">getCaptain</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#abccf50492b3fcc15fe7be6afdff04eea">getMemoryWithoutUpdate</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#a60c59adbba73fd159e49e3563116e6f1">contains</a>(<span class="stringliteral">&quot;$aiCoreIdForRecovery&quot;</span>) &amp;&amp;</div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span>                <span class="comment">//member.getCaptain().isAICore() &amp;&amp; </span></div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span>                !<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ab5f3630b9f4f6121343d2ba019e0f97b">isUnremovable</a>(member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a306fe7ab88ee3eaa89423f8213b83663">getCaptain</a>())) {</div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span>            <span class="comment">//loot.addItems(CargoItemType.RESOURCES, member.getCaptain().getAICoreId(), 1);</span></div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(CargoItemType.RESOURCES,</div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span>                          member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a306fe7ab88ee3eaa89423f8213b83663">getCaptain</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#abccf50492b3fcc15fe7be6afdff04eea">getMemoryWithoutUpdate</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#a28696c62412615a71c82cb78b143b0a4">getString</a>(<span class="stringliteral">&quot;$aiCoreIdForRecovery&quot;</span>), 1);</div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>        }</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span>        </div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>        <span class="keywordflow">if</span> (own) {</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span>            <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1HullModItemManager.html">HullModItemManager</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1HullModItemManager.html#ab38f334b85849632503ad5050e6ea386">getInstance</a>().<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1HullModItemManager.html#ad9cb8570695aef61d50063c6977296a8">giveBackAllItems</a>(member, <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>);</div>
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"> 2713</span>        }</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>        </div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span>        </div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span>        Random random = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">Misc</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ae27a76e34c5013b1a4128b3b9fc51e60">random</a>;</div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) random = salvageRandom;</div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>        </div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span>        String coreIdOverride = <span class="keyword">null</span>;</div>
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"> 2720</span>        <span class="keywordflow">if</span> (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a306fe7ab88ee3eaa89423f8213b83663">getCaptain</a>() != <span class="keyword">null</span> &amp;&amp; </div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span>                member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a306fe7ab88ee3eaa89423f8213b83663">getCaptain</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#abccf50492b3fcc15fe7be6afdff04eea">getMemoryWithoutUpdate</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#a60c59adbba73fd159e49e3563116e6f1">contains</a>(<span class="stringliteral">&quot;$aiCoreIdForPossibleRecovery&quot;</span>)) {</div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"> 2722</span>            coreIdOverride = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a306fe7ab88ee3eaa89423f8213b83663">getCaptain</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#abccf50492b3fcc15fe7be6afdff04eea">getMemoryWithoutUpdate</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#a28696c62412615a71c82cb78b143b0a4">getString</a>(<span class="stringliteral">&quot;$aiCoreIdForPossibleRecovery&quot;</span>);</div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span>        }</div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span>        <span class="keywordflow">if</span> (!own &amp;&amp; !lootingModule &amp;&amp; </div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span>                (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a306fe7ab88ee3eaa89423f8213b83663">getCaptain</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#ace61d4ffe51dae330290b64b56ec3524">isAICore</a>() || coreIdOverride != <span class="keyword">null</span>) &amp;&amp;</div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span>                !variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a0577d97264a45029982e5825bf652989">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a3a9530bf693ba5cc54ef9875a979bd77">VARIANT_DO_NOT_DROP_AI_CORE_FROM_CAPTAIN</a>)) {</div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span>            String cid = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a306fe7ab88ee3eaa89423f8213b83663">getCaptain</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#a1cfdd64aa9c10e01055badd3c799fff3">getAICoreId</a>();</div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span>            <span class="keywordflow">if</span> (coreIdOverride != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span>                cid = coreIdOverride;</div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span>            }</div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span>            <span class="keywordflow">if</span> (cid != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI.html">CommoditySpecAPI</a> spec = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#aa3ae3cf97fd6566a2207e4aa0c843adb">getCommoditySpec</a>(cid);</div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span>                <span class="keywordflow">if</span> (!spec.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI.html#a32669b3bd929df706958e478755defa5">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a7e5628655339e1c6f39780e8aaf3d374">NO_DROP</a>)) {</div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span>                    <span class="keywordtype">float</span> prob = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;drop_prob_officer_&quot;</span> + cid);</div>
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"> 2735</span>                    <span class="keywordflow">if</span> (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a8e9ac6cd346011a8c831ac31d9349874">isStation</a>()) {</div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span>                        prob *= <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;drop_prob_mult_ai_core_station&quot;</span>);</div>
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"> 2737</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a3c3481b84456cfcdc0c1079c62a30a99">isFrigate</a>()) {</div>
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"> 2738</span>                        prob *= <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;drop_prob_mult_ai_core_frigate&quot;</span>);</div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a9dc49129979cb5b595a5b5601aafdaff">isDestroyer</a>()) {</div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span>                        prob *= <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;drop_prob_mult_ai_core_destroyer&quot;</span>);</div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"> 2741</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afa0c82b3d232012077bb68ee1cd95a9e">isCruiser</a>()) {</div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span>                        prob *= <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;drop_prob_mult_ai_core_cruiser&quot;</span>);</div>
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"> 2743</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aa29509d96fe7ecf25e470bc6b4799f40">isCapital</a>()) {</div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span>                        prob *= <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;drop_prob_mult_ai_core_capital&quot;</span>);</div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>                    }</div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span>                    <span class="keywordflow">if</span> (prob &gt; 0 &amp;&amp; random.nextFloat() &lt; prob) {</div>
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"> 2747</span>                        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(CargoItemType.RESOURCES, cid, 1);</div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span>                    }</div>
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"> 2749</span>                }</div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>            }</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>            </div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span>        }</div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span>        </div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span>        <span class="keywordtype">float</span> p = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageWeaponProb&quot;</span>);</div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>        <span class="keywordflow">if</span> (own) {</div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span>            p = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;salvageOwnWeaponProb&quot;</span>);</div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"> 2757</span>            p = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#ab4d2aaeac112f1c0fea82345b6e78907">OWN_WEAPON_RECOVERY_MOD</a>, p);</div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"> 2759</span>            p = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#afe8fb6a307d826e5c1050ca507a96ad5">ENEMY_WEAPON_RECOVERY_MOD</a>, p);</div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span>        }</div>
<div class="line"><a id="l02761" name="l02761"></a><span class="lineno"> 2761</span>        <span class="keywordtype">boolean</span> alreadyStripped = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab">recoverableShips</a>.contains(member);</div>
<div class="line"><a id="l02762" name="l02762"></a><span class="lineno"> 2762</span>        </div>
<div class="line"><a id="l02763" name="l02763"></a><span class="lineno"> 2763</span> </div>
<div class="line"><a id="l02764" name="l02764"></a><span class="lineno"> 2764</span>        Set&lt;String&gt; <span class="keyword">remove</span> = <span class="keyword">new</span> HashSet&lt;String&gt;();</div>
<div class="line"><a id="l02765" name="l02765"></a><span class="lineno"> 2765</span>        </div>
<div class="line"><a id="l02766" name="l02766"></a><span class="lineno"> 2766</span>        <span class="comment">// there&#39;s another failsafe for OMEGA specifically, see SalvageDefenderInteraction.postPlayerSalvageGeneration()</span></div>
<div class="line"><a id="l02767" name="l02767"></a><span class="lineno"> 2767</span>        <span class="keywordflow">if</span> (variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a0577d97264a45029982e5825bf652989">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#ae371b37adf3d0dd7d6bdef1ced290541">VARIANT_CONSISTENT_WEAPON_DROPS</a>)) {</div>
<div class="line"><a id="l02768" name="l02768"></a><span class="lineno"> 2768</span>            <span class="keywordflow">for</span> (String slotId : variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#aa61e424eb732a8428727fe0b9678cb1c">getNonBuiltInWeaponSlots</a>()) {</div>
<div class="line"><a id="l02769" name="l02769"></a><span class="lineno"> 2769</span>                String weaponId = variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a0e0dd1512188a554b481b5c8b700a8d1">getWeaponId</a>(slotId);</div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span>                <span class="keywordflow">if</span> (weaponId == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a6bd410e9dd402027cc79cad38ecc20f7">getNumWeapons</a>(weaponId) &lt;= 0) {</div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"> 2772</span>                    <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSpecAPI.html">WeaponSpecAPI</a> spec = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#ac4e70c0a0b7be1fa221504f71969b24d">getWeaponSpec</a>(weaponId);</div>
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"> 2773</span>                    <span class="keywordflow">if</span> (spec.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSpecAPI.html#a002c8c4e42e973c53d1a90fd5af50e07">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a7e5628655339e1c6f39780e8aaf3d374">NO_DROP</a>)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span>                    </div>
<div class="line"><a id="l02775" name="l02775"></a><span class="lineno"> 2775</span>                    <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a5319db26355ad2a4a9b85faad9439106">addWeapons</a>(weaponId, 1);</div>
<div class="line"><a id="l02776" name="l02776"></a><span class="lineno"> 2776</span>                    <span class="keyword">remove</span>.add(slotId);</div>
<div class="line"><a id="l02777" name="l02777"></a><span class="lineno"> 2777</span>                }</div>
<div class="line"><a id="l02778" name="l02778"></a><span class="lineno"> 2778</span>            }</div>
<div class="line"><a id="l02779" name="l02779"></a><span class="lineno"> 2779</span>        }</div>
<div class="line"><a id="l02780" name="l02780"></a><span class="lineno"> 2780</span>        </div>
<div class="line"><a id="l02781" name="l02781"></a><span class="lineno"> 2781</span>        <span class="keywordflow">for</span> (String slotId : variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#aa61e424eb732a8428727fe0b9678cb1c">getNonBuiltInWeaponSlots</a>()) {</div>
<div class="line"><a id="l02782" name="l02782"></a><span class="lineno"> 2782</span>            <span class="keywordflow">if</span> (<span class="keyword">remove</span>.contains(slotId)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02783" name="l02783"></a><span class="lineno"> 2783</span>            <span class="comment">//if ((float) Math.random() * mult &gt; 0.75f) {</span></div>
<div class="line"><a id="l02784" name="l02784"></a><span class="lineno"> 2784</span>            <span class="keywordflow">if</span> (!alreadyStripped) {</div>
<div class="line"><a id="l02785" name="l02785"></a><span class="lineno"> 2785</span>                <span class="keywordflow">if</span> (random.nextFloat() &gt; mult) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02786" name="l02786"></a><span class="lineno"> 2786</span>                <span class="keywordflow">if</span> (random.nextFloat() &gt; p) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02787" name="l02787"></a><span class="lineno"> 2787</span>            }</div>
<div class="line"><a id="l02788" name="l02788"></a><span class="lineno"> 2788</span>            </div>
<div class="line"><a id="l02789" name="l02789"></a><span class="lineno"> 2789</span>            String weaponId = variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a0e0dd1512188a554b481b5c8b700a8d1">getWeaponId</a>(slotId);</div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSpecAPI.html">WeaponSpecAPI</a> spec = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#ac4e70c0a0b7be1fa221504f71969b24d">getWeaponSpec</a>(weaponId);</div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span>            <span class="keywordflow">if</span> (spec.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSpecAPI.html#a002c8c4e42e973c53d1a90fd5af50e07">hasTag</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">Tags</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a7e5628655339e1c6f39780e8aaf3d374">NO_DROP</a>)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"> 2792</span>            </div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a>.<a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_1_1CargoItemType.html">CargoItemType</a>.WEAPONS, weaponId, 1);</div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span>            <span class="keyword">remove</span>.add(slotId);</div>
<div class="line"><a id="l02795" name="l02795"></a><span class="lineno"> 2795</span>        }</div>
<div class="line"><a id="l02796" name="l02796"></a><span class="lineno"> 2796</span>        </div>
<div class="line"><a id="l02797" name="l02797"></a><span class="lineno"> 2797</span>        </div>
<div class="line"><a id="l02798" name="l02798"></a><span class="lineno"> 2798</span>        <span class="keywordflow">for</span> (String slotId : variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a1f3d1f0c3278c3a820c9851592a1efcc">getModuleSlots</a>()) {</div>
<div class="line"><a id="l02799" name="l02799"></a><span class="lineno"> 2799</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSlotAPI.html">WeaponSlotAPI</a> slot = variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#ae355e6dbee8ecb6431086eab7f2c72a0">getSlot</a>(slotId);</div>
<div class="line"><a id="l02800" name="l02800"></a><span class="lineno"> 2800</span>            <span class="keywordflow">if</span> (slot.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSlotAPI.html#a92d4287d558a37c3ae7d07428f21d38e">isStationModule</a>()) {</div>
<div class="line"><a id="l02801" name="l02801"></a><span class="lineno"> 2801</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a> module = variant.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a6e848c1b09a06753d4073c13740fc8bb">getModuleVariant</a>(slotId);</div>
<div class="line"><a id="l02802" name="l02802"></a><span class="lineno"> 2802</span>                <span class="keywordflow">if</span> (module == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02803" name="l02803"></a><span class="lineno"> 2803</span>                <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae54c050fde572233113faa6de5833307">lootWeapons</a>(member, module, own, mult, <span class="keyword">true</span>);</div>
<div class="line"><a id="l02804" name="l02804"></a><span class="lineno"> 2804</span>            }</div>
<div class="line"><a id="l02805" name="l02805"></a><span class="lineno"> 2805</span>        }       </div>
<div class="line"><a id="l02806" name="l02806"></a><span class="lineno"> 2806</span>        <span class="comment">// DO NOT DO THIS - no point in removing them here since the ship is scrapped</span></div>
<div class="line"><a id="l02807" name="l02807"></a><span class="lineno"> 2807</span>        <span class="comment">// and would need to clone the variant to do this right</span></div>
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"> 2808</span><span class="comment">//      for (String slotId : remove) {</span></div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span><span class="comment">//          variant.clearSlot(slotId);</span></div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span><span class="comment">//      }</span></div>
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"> 2811</span>        <span class="comment">//System.out.println(&quot;Cleared variant: &quot; + variant.getHullVariantId());</span></div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span>    }</div>
</div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"> 2813</span>    </div>
<div class="foldopen" id="foldopen02814" data-start="{" data-end="}">
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5eeaf622ef8c1125ddb7df2641823c3d"> 2814</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5eeaf622ef8c1125ddb7df2641823c3d">autoLoot</a>() {</div>
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"> 2815</span>        DataForEncounterSide winner = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>();</div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"> 2816</span>        DataForEncounterSide loser = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>();</div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"> 2817</span>        <span class="keywordflow">if</span> (winner == <span class="keyword">null</span> || loser == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span>        </div>
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"> 2819</span>        List&lt;CampaignFleetAPI&gt; winners = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(winner.getFleet());</div>
<div class="line"><a id="l02820" name="l02820"></a><span class="lineno"> 2820</span>        <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html">WeightedRandomPicker&lt;CampaignFleetAPI&gt;</a> picker = <span class="keyword">new</span> <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html">WeightedRandomPicker&lt;CampaignFleetAPI&gt;</a>();</div>
<div class="line"><a id="l02821" name="l02821"></a><span class="lineno"> 2821</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> curr : winners) {</div>
<div class="line"><a id="l02822" name="l02822"></a><span class="lineno"> 2822</span>            picker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a208270a6df0e8d484033d2d4a2bf15fb">add</a>(curr, curr.getFleetPoints());</div>
<div class="line"><a id="l02823" name="l02823"></a><span class="lineno"> 2823</span>        }</div>
<div class="line"><a id="l02824" name="l02824"></a><span class="lineno"> 2824</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html">CargoStackAPI</a> stack : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#abdf57e23461ce51fedf1e45bf211975e">getStacksCopy</a>()) {</div>
<div class="line"><a id="l02825" name="l02825"></a><span class="lineno"> 2825</span>            <span class="keywordflow">if</span> (stack.isNull() || stack.isFuelStack()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02826" name="l02826"></a><span class="lineno"> 2826</span>            </div>
<div class="line"><a id="l02827" name="l02827"></a><span class="lineno"> 2827</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> pick = picker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a272ec6eb3c16a66abbf5203dfd34f7d6">pick</a>();</div>
<div class="line"><a id="l02828" name="l02828"></a><span class="lineno"> 2828</span>            <span class="keywordflow">if</span> (pick == <span class="keyword">null</span>) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span>            </div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> winnerCargo = pick.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>();</div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"> 2831</span>            <span class="keywordtype">float</span> spaceLeft = winnerCargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a2283e039b213a6a780f7fbe9c643f4fc">getSpaceLeft</a>();</div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span>            <span class="keywordflow">if</span> (spaceLeft &lt;= 0) {</div>
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"> 2833</span>                picker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#ac7249a7ca153428c2628a07e75676985">remove</a>(pick);</div>
<div class="line"><a id="l02834" name="l02834"></a><span class="lineno"> 2834</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02835" name="l02835"></a><span class="lineno"> 2835</span>            }</div>
<div class="line"><a id="l02836" name="l02836"></a><span class="lineno"> 2836</span>            </div>
<div class="line"><a id="l02837" name="l02837"></a><span class="lineno"> 2837</span>            <span class="keywordtype">float</span> spacePerUnit = stack.getCargoSpacePerUnit();</div>
<div class="line"><a id="l02838" name="l02838"></a><span class="lineno"> 2838</span>            <span class="keywordtype">float</span> maxUnits = (int) (spaceLeft / spacePerUnit);</div>
<div class="line"><a id="l02839" name="l02839"></a><span class="lineno"> 2839</span>            <span class="keywordflow">if</span> (maxUnits &gt; stack.getSize()) maxUnits = stack.getSize();</div>
<div class="line"><a id="l02840" name="l02840"></a><span class="lineno"> 2840</span>            maxUnits = Math.round(maxUnits * (Math.random() * 0.5f + 0.5f));</div>
<div class="line"><a id="l02841" name="l02841"></a><span class="lineno"> 2841</span>            winnerCargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(stack.getType(), stack.getData(), maxUnits);</div>
<div class="line"><a id="l02842" name="l02842"></a><span class="lineno"> 2842</span>        }</div>
<div class="line"><a id="l02843" name="l02843"></a><span class="lineno"> 2843</span>        </div>
<div class="line"><a id="l02844" name="l02844"></a><span class="lineno"> 2844</span>        picker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a5c46abc5a17513cfc2ba11abb6bdde4c">clear</a>();</div>
<div class="line"><a id="l02845" name="l02845"></a><span class="lineno"> 2845</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> curr : winners) {</div>
<div class="line"><a id="l02846" name="l02846"></a><span class="lineno"> 2846</span>            picker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a208270a6df0e8d484033d2d4a2bf15fb">add</a>(curr, curr.getFleetPoints());</div>
<div class="line"><a id="l02847" name="l02847"></a><span class="lineno"> 2847</span>        }</div>
<div class="line"><a id="l02848" name="l02848"></a><span class="lineno"> 2848</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html">CargoStackAPI</a> stack : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#abdf57e23461ce51fedf1e45bf211975e">getStacksCopy</a>()) {</div>
<div class="line"><a id="l02849" name="l02849"></a><span class="lineno"> 2849</span>            <span class="keywordflow">if</span> (stack.isNull() || !stack.isFuelStack()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02850" name="l02850"></a><span class="lineno"> 2850</span>            </div>
<div class="line"><a id="l02851" name="l02851"></a><span class="lineno"> 2851</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> pick = picker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a272ec6eb3c16a66abbf5203dfd34f7d6">pick</a>();</div>
<div class="line"><a id="l02852" name="l02852"></a><span class="lineno"> 2852</span>            <span class="keywordflow">if</span> (pick == <span class="keyword">null</span>) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02853" name="l02853"></a><span class="lineno"> 2853</span>            </div>
<div class="line"><a id="l02854" name="l02854"></a><span class="lineno"> 2854</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> winnerCargo = pick.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>();</div>
<div class="line"><a id="l02855" name="l02855"></a><span class="lineno"> 2855</span>            <span class="keywordtype">float</span> spaceLeft = winnerCargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#aad7edd183b2f5602116ee89f4eebd8b7">getMaxCapacity</a>() - winnerCargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a97474623007a342af2bedf0d00d2ccfb">getFuel</a>();</div>
<div class="line"><a id="l02856" name="l02856"></a><span class="lineno"> 2856</span>            <span class="keywordflow">if</span> (spaceLeft &lt;= 0) {</div>
<div class="line"><a id="l02857" name="l02857"></a><span class="lineno"> 2857</span>                picker.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#ac7249a7ca153428c2628a07e75676985">remove</a>(pick);</div>
<div class="line"><a id="l02858" name="l02858"></a><span class="lineno"> 2858</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02859" name="l02859"></a><span class="lineno"> 2859</span>            }</div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span>            </div>
<div class="line"><a id="l02861" name="l02861"></a><span class="lineno"> 2861</span>            <span class="keywordtype">float</span> spacePerUnit = stack.getCargoSpacePerUnit();</div>
<div class="line"><a id="l02862" name="l02862"></a><span class="lineno"> 2862</span>            <span class="keywordtype">float</span> maxUnits = (int) (spaceLeft / spacePerUnit);</div>
<div class="line"><a id="l02863" name="l02863"></a><span class="lineno"> 2863</span>            <span class="keywordflow">if</span> (maxUnits &gt; stack.getSize()) maxUnits = stack.getSize();</div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span>            maxUnits = Math.round(maxUnits * (Math.random() * 0.5f + 0.5f));</div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span>            winnerCargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(stack.getType(), stack.getData(), maxUnits);</div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span>        }</div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span>    }</div>
</div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span> </div>
<div class="foldopen" id="foldopen02869" data-start="{" data-end="}">
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a917f4b9d4203ec3f96661478e23a96b9"> 2869</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a917f4b9d4203ec3f96661478e23a96b9">hasWinnerAndLoser</a>() {</div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54c1f6b7440de836d86691a023f884ee">getWinner</a>() != <span class="keyword">null</span> &amp;&amp; <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac27a8d55eb981edf43aff8769bfd4907">getLoser</a>() != <span class="keyword">null</span>;</div>
<div class="line"><a id="l02871" name="l02871"></a><span class="lineno"> 2871</span>    }</div>
</div>
<div class="line"><a id="l02872" name="l02872"></a><span class="lineno"> 2872</span>    </div>
<div class="foldopen" id="foldopen02873" data-start="{" data-end="}">
<div class="line"><a id="l02873" name="l02873"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54c1f6b7440de836d86691a023f884ee"> 2873</a></span>    <span class="keyword">public</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54c1f6b7440de836d86691a023f884ee">getWinner</a>() {</div>
<div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>() != <span class="keyword">null</span> ? <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>().getFleet() : <span class="keyword">null</span>;</div>
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"> 2875</span>    }</div>
</div>
<div class="foldopen" id="foldopen02876" data-start="{" data-end="}">
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac27a8d55eb981edf43aff8769bfd4907"> 2876</a></span>    <span class="keyword">public</span> <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac27a8d55eb981edf43aff8769bfd4907">getLoser</a>() {</div>
<div class="line"><a id="l02877" name="l02877"></a><span class="lineno"> 2877</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>() != <span class="keyword">null</span> ? <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>().getFleet() : <span class="keyword">null</span>;</div>
<div class="line"><a id="l02878" name="l02878"></a><span class="lineno"> 2878</span>    }</div>
</div>
<div class="line"><a id="l02879" name="l02879"></a><span class="lineno"> 2879</span>    </div>
<div class="foldopen" id="foldopen02880" data-start="{" data-end="}">
<div class="line"><a id="l02880" name="l02880"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9246960440885932918f318ccedc93c2"> 2880</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9246960440885932918f318ccedc93c2">canOutrunOtherFleet</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> other) {</div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>        <span class="keywordflow">return</span> fleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aadb5afa47963d2ce331fa7f203f695e1">getMinBurnLevel</a>() &gt;= other.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#ac51be798a36b457ecf634051de22ee1a">getMaxBurnLevel</a>() + 1f;</div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span>    }</div>
</div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span>    </div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span> </div>
<div class="foldopen" id="foldopen02885" data-start="{" data-end="}">
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab60e1b424706649832f9fd9fa80197e3"> 2885</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab60e1b424706649832f9fd9fa80197e3">applyResultToFleets</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result) {</div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span><span class="comment">//      applyCrewAndShipLosses(result);</span></div>
<div class="line"><a id="l02887" name="l02887"></a><span class="lineno"> 2887</span><span class="comment">//      fixFighters(result.getWinnerResult());</span></div>
<div class="line"><a id="l02888" name="l02888"></a><span class="lineno"> 2888</span><span class="comment">//      fixFighters(result.getLoserResult());</span></div>
<div class="line"><a id="l02889" name="l02889"></a><span class="lineno"> 2889</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a17ec4b8987783f4720cc420b490d519e">applyShipLosses</a>(result);    </div>
<div class="line"><a id="l02890" name="l02890"></a><span class="lineno"> 2890</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa0114107a345ab53e29d2fc2185510dc">applyCrewLosses</a>(result);</div>
<div class="line"><a id="l02891" name="l02891"></a><span class="lineno"> 2891</span>    }</div>
</div>
<div class="line"><a id="l02892" name="l02892"></a><span class="lineno"> 2892</span> </div>
<div class="line"><a id="l02893" name="l02893"></a><span class="lineno"> 2893</span>    </div>
<div class="foldopen" id="foldopen02894" data-start="{" data-end="}">
<div class="line"><a id="l02894" name="l02894"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad26b65ade1dd723b3b64cc72d9a6e75b"> 2894</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad26b65ade1dd723b3b64cc72d9a6e75b">fixFighters</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result) {</div>
<div class="line"><a id="l02895" name="l02895"></a><span class="lineno"> 2895</span>        Set&lt;CampaignFleetAPI&gt; fleetsWithDecks = <span class="keyword">new</span> HashSet&lt;CampaignFleetAPI&gt;();</div>
<div class="line"><a id="l02896" name="l02896"></a><span class="lineno"> 2896</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> curr : result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aafa14ba86d4abbfc85d4ed5d5146bc24">getReserves</a>()) {</div>
<div class="line"><a id="l02897" name="l02897"></a><span class="lineno"> 2897</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02898" name="l02898"></a><span class="lineno"> 2898</span>            <span class="keywordflow">if</span> (curr.isMothballed()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02899" name="l02899"></a><span class="lineno"> 2899</span>            <span class="keywordflow">if</span> (curr.getNumFlightDecks() &gt; 0) {</div>
<div class="line"><a id="l02900" name="l02900"></a><span class="lineno"> 2900</span>                fleetsWithDecks.add(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr));</div>
<div class="line"><a id="l02901" name="l02901"></a><span class="lineno"> 2901</span>            }</div>
<div class="line"><a id="l02902" name="l02902"></a><span class="lineno"> 2902</span>        }</div>
<div class="line"><a id="l02903" name="l02903"></a><span class="lineno"> 2903</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> curr : result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a5263ff9ae3cd5d881d3746b3c5be8882">getDeployed</a>()) {</div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span>            <span class="keywordflow">if</span> (curr.isMothballed()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"> 2906</span>            <span class="keywordflow">if</span> (curr.getNumFlightDecks() &gt; 0) {</div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span>                fleetsWithDecks.add(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr));</div>
<div class="line"><a id="l02908" name="l02908"></a><span class="lineno"> 2908</span>            }</div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span>        }</div>
<div class="line"><a id="l02910" name="l02910"></a><span class="lineno"> 2910</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> curr : result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ac6fb2c14681e1edbf0aebd340bd87a86">getRetreated</a>()) {</div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"> 2911</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span>            <span class="keywordflow">if</span> (curr.isMothballed()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02913" name="l02913"></a><span class="lineno"> 2913</span>            <span class="keywordflow">if</span> (curr.getNumFlightDecks() &gt; 0) {</div>
<div class="line"><a id="l02914" name="l02914"></a><span class="lineno"> 2914</span>                fleetsWithDecks.add(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr));</div>
<div class="line"><a id="l02915" name="l02915"></a><span class="lineno"> 2915</span>            }</div>
<div class="line"><a id="l02916" name="l02916"></a><span class="lineno"> 2916</span>        }</div>
<div class="line"><a id="l02917" name="l02917"></a><span class="lineno"> 2917</span>        </div>
<div class="line"><a id="l02918" name="l02918"></a><span class="lineno"> 2918</span>        List&lt;FleetMemberAPI&gt; saved = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;();</div>
<div class="line"><a id="l02919" name="l02919"></a><span class="lineno"> 2919</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> curr : result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>()) {</div>
<div class="line"><a id="l02920" name="l02920"></a><span class="lineno"> 2920</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02921" name="l02921"></a><span class="lineno"> 2921</span>            <span class="keywordflow">if</span> (!fleetsWithDecks.contains(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr))) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02922" name="l02922"></a><span class="lineno"> 2922</span>            <span class="keywordflow">if</span> (curr.isFighterWing()) {</div>
<div class="line"><a id="l02923" name="l02923"></a><span class="lineno"> 2923</span>                saved.add(curr);</div>
<div class="line"><a id="l02924" name="l02924"></a><span class="lineno"> 2924</span>            }</div>
<div class="line"><a id="l02925" name="l02925"></a><span class="lineno"> 2925</span>        }</div>
<div class="line"><a id="l02926" name="l02926"></a><span class="lineno"> 2926</span>        </div>
<div class="line"><a id="l02927" name="l02927"></a><span class="lineno"> 2927</span>        result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>().removeAll(saved);</div>
<div class="line"><a id="l02928" name="l02928"></a><span class="lineno"> 2928</span>        result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ac6fb2c14681e1edbf0aebd340bd87a86">getRetreated</a>().addAll(saved);</div>
<div class="line"><a id="l02929" name="l02929"></a><span class="lineno"> 2929</span>        </div>
<div class="line"><a id="l02930" name="l02930"></a><span class="lineno"> 2930</span>        </div>
<div class="line"><a id="l02931" name="l02931"></a><span class="lineno"> 2931</span>        List&lt;FleetMemberAPI&gt; toRepair = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;();</div>
<div class="line"><a id="l02932" name="l02932"></a><span class="lineno"> 2932</span>        toRepair.addAll(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a5263ff9ae3cd5d881d3746b3c5be8882">getDeployed</a>());</div>
<div class="line"><a id="l02933" name="l02933"></a><span class="lineno"> 2933</span>        toRepair.addAll(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ac6fb2c14681e1edbf0aebd340bd87a86">getRetreated</a>());</div>
<div class="line"><a id="l02934" name="l02934"></a><span class="lineno"> 2934</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> curr : toRepair) {</div>
<div class="line"><a id="l02935" name="l02935"></a><span class="lineno"> 2935</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02936" name="l02936"></a><span class="lineno"> 2936</span>            <span class="keywordflow">if</span> (curr.isFighterWing()) {</div>
<div class="line"><a id="l02937" name="l02937"></a><span class="lineno"> 2937</span>                <span class="keywordflow">if</span> (fleetsWithDecks.contains(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr))) {</div>
<div class="line"><a id="l02938" name="l02938"></a><span class="lineno"> 2938</span>                    curr.getStatus().repairFully();</div>
<div class="line"><a id="l02939" name="l02939"></a><span class="lineno"> 2939</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02940" name="l02940"></a><span class="lineno"> 2940</span>                    curr.getStatus().repairFullyNoNewFighters();</div>
<div class="line"><a id="l02941" name="l02941"></a><span class="lineno"> 2941</span>                }</div>
<div class="line"><a id="l02942" name="l02942"></a><span class="lineno"> 2942</span>            }</div>
<div class="line"><a id="l02943" name="l02943"></a><span class="lineno"> 2943</span>        }</div>
<div class="line"><a id="l02944" name="l02944"></a><span class="lineno"> 2944</span>        </div>
<div class="line"><a id="l02945" name="l02945"></a><span class="lineno"> 2945</span>    }</div>
</div>
<div class="line"><a id="l02946" name="l02946"></a><span class="lineno"> 2946</span>    </div>
<div class="foldopen" id="foldopen02947" data-start="{" data-end="}">
<div class="line"><a id="l02947" name="l02947"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa0114107a345ab53e29d2fc2185510dc"> 2947</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa0114107a345ab53e29d2fc2185510dc">applyCrewLosses</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result) {</div>
<div class="line"><a id="l02948" name="l02948"></a><span class="lineno"> 2948</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> winner = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a38be74b85e76f164312345a458cd156f">getWinnerResult</a>();</div>
<div class="line"><a id="l02949" name="l02949"></a><span class="lineno"> 2949</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> loser = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a346b9485bc2e469e99b053a3427e329e">getLoserResult</a>();</div>
<div class="line"><a id="l02950" name="l02950"></a><span class="lineno"> 2950</span>        </div>
<div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span>        <span class="comment">//boolean playerInvolved = winner.getFleet().isPlayerFleet() || loser.getFleet().isPlayerFleet();</span></div>
<div class="line"><a id="l02952" name="l02952"></a><span class="lineno"> 2952</span>        <span class="keywordtype">boolean</span> playerInvolved = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>();</div>
<div class="line"><a id="l02953" name="l02953"></a><span class="lineno"> 2953</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aded179a09a0c0709bd866bc3044a94e2">calculateAndApplyCrewLosses</a>(winner, playerInvolved);</div>
<div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aded179a09a0c0709bd866bc3044a94e2">calculateAndApplyCrewLosses</a>(loser, playerInvolved);</div>
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"> 2955</span>        </div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span><span class="comment">//      applyCrewLosses(winner);</span></div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span><span class="comment">//      applyCrewLosses(loser);</span></div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span>    }</div>
</div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>    </div>
<div class="foldopen" id="foldopen02960" data-start="{" data-end="}">
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a17ec4b8987783f4720cc420b490d519e"> 2960</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a17ec4b8987783f4720cc420b490d519e">applyShipLosses</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result) {</div>
<div class="line"><a id="l02961" name="l02961"></a><span class="lineno"> 2961</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> winner = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a38be74b85e76f164312345a458cd156f">getWinnerResult</a>();</div>
<div class="line"><a id="l02962" name="l02962"></a><span class="lineno"> 2962</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> loser = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a346b9485bc2e469e99b053a3427e329e">getLoserResult</a>();</div>
<div class="line"><a id="l02963" name="l02963"></a><span class="lineno"> 2963</span>        </div>
<div class="line"><a id="l02964" name="l02964"></a><span class="lineno"> 2964</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a17ec4b8987783f4720cc420b490d519e">applyShipLosses</a>(winner);</div>
<div class="line"><a id="l02965" name="l02965"></a><span class="lineno"> 2965</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a17ec4b8987783f4720cc420b490d519e">applyShipLosses</a>(loser);</div>
<div class="line"><a id="l02966" name="l02966"></a><span class="lineno"> 2966</span>        </div>
<div class="line"><a id="l02967" name="l02967"></a><span class="lineno"> 2967</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a1b16b7b09022902e5d8904edf7e9079b">applyCREffect</a>(winner);</div>
<div class="line"><a id="l02968" name="l02968"></a><span class="lineno"> 2968</span>        <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a1b16b7b09022902e5d8904edf7e9079b">applyCREffect</a>(loser);</div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span>    }</div>
</div>
<div class="line"><a id="l02970" name="l02970"></a><span class="lineno"> 2970</span>    </div>
<div class="line"><a id="l02971" name="l02971"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa"> 2971</a></span>    <span class="keyword">protected</span> Map&lt;FleetMemberAPI, Float&gt; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa">preEngagementCRForWinner</a> = <span class="keyword">new</span> HashMap&lt;FleetMemberAPI, Float&gt;();</div>
<div class="foldopen" id="foldopen02972" data-start="{" data-end="}">
<div class="line"><a id="l02972" name="l02972"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a1b16b7b09022902e5d8904edf7e9079b"> 2972</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a1b16b7b09022902e5d8904edf7e9079b">applyCREffect</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result) {</div>
<div class="line"><a id="l02973" name="l02973"></a><span class="lineno"> 2973</span>        <span class="keywordtype">boolean</span> wonBattle = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ae387f6d2e4198371b57bedbca118174a">isWinner</a>();</div>
<div class="line"><a id="l02974" name="l02974"></a><span class="lineno"> 2974</span>        <span class="keywordflow">if</span> (wonBattle) {</div>
<div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa">preEngagementCRForWinner</a>.clear();</div>
<div class="line"><a id="l02976" name="l02976"></a><span class="lineno"> 2976</span>            <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>()) {</div>
<div class="line"><a id="l02977" name="l02977"></a><span class="lineno"> 2977</span>                <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa">preEngagementCRForWinner</a>.put(member, member.getRepairTracker().getCR());</div>
<div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span>            }</div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span>        }</div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span>        </div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span>        List&lt;FleetMemberAPI&gt; applyDeployCostTo = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a5263ff9ae3cd5d881d3746b3c5be8882">getDeployed</a>());</div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span>        </div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"> 2983</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">getDisabled</a>()) {</div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span>            <span class="comment">// does not work, needs more things changed to work</span></div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span>            <span class="comment">//float mult = member.getStats().getDynamic().getValue(Stats.CR_LOSS_WHEN_DISABLED_MULT);</span></div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span>            <span class="keywordtype">float</span> mult = 1f;</div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span>            <span class="keywordflow">if</span> (mult &gt; 0) {</div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span>                member.getRepairTracker().applyCREvent(-1f * mult, <span class="stringliteral">&quot;disabled in combat&quot;</span>);</div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span>            }</div>
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"> 2990</span>            <span class="keywordflow">if</span> (mult &lt; 1) {</div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span>                applyDeployCostTo.add(member);</div>
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"> 2992</span>            }</div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span>        }</div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>()) {</div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span><span class="comment">//          if (member.getHullId().equals(&quot;vanguard_pirates&quot;)) {</span></div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span><span class="comment">//              System.out.println(&quot;efwefwef&quot;);</span></div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span><span class="comment">//          }</span></div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span>            <span class="comment">//float mult = member.getStats().getDynamic().getValue(Stats.CR_LOSS_WHEN_DISABLED_MULT);</span></div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span>            <span class="keywordtype">float</span> mult = 1f;</div>
<div class="line"><a id="l03000" name="l03000"></a><span class="lineno"> 3000</span>            <span class="keywordflow">if</span> (mult &gt; 0) {</div>
<div class="line"><a id="l03001" name="l03001"></a><span class="lineno"> 3001</span>                member.getRepairTracker().applyCREvent(-1f * mult, <span class="stringliteral">&quot;disabled in combat&quot;</span>);</div>
<div class="line"><a id="l03002" name="l03002"></a><span class="lineno"> 3002</span>            }</div>
<div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span>            <span class="keywordflow">if</span> (mult &lt; 1) {</div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>                applyDeployCostTo.add(member);</div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span>            }</div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span>        }</div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span>        </div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : applyDeployCostTo) {</div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span>            <span class="keywordtype">float</span> deployCost = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">getDeployCost</a>(member);</div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span>            <span class="keywordflow">if</span> (member.isFighterWing()) {</div>
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"> 3011</span>                member.getRepairTracker().applyCREvent(-deployCost, <span class="stringliteral">&quot;wing deployed in combat&quot;</span>);</div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span>                member.getRepairTracker().applyCREvent(-deployCost, <span class="stringliteral">&quot;deployed in combat&quot;</span>);</div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span>            }</div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span>            </div>
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"> 3016</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9b4530b6a62be2bd068593469d6cd3ff">applyExtendedCRLossIfNeeded</a>(result, member);</div>
<div class="line"><a id="l03017" name="l03017"></a><span class="lineno"> 3017</span>        }</div>
<div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span>        </div>
<div class="line"><a id="l03019" name="l03019"></a><span class="lineno"> 3019</span>        <span class="comment">//float retreatLossMult = StarfarerSettings.getCRLossMultForRetreatInLoss();</span></div>
<div class="line"><a id="l03020" name="l03020"></a><span class="lineno"> 3020</span>        <span class="keywordtype">float</span> retreatLossMult = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;crLossMultForRetreatInLoss&quot;</span>);</div>
<div class="line"><a id="l03021" name="l03021"></a><span class="lineno"> 3021</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ac6fb2c14681e1edbf0aebd340bd87a86">getRetreated</a>()) {</div>
<div class="line"><a id="l03022" name="l03022"></a><span class="lineno"> 3022</span>            <span class="keywordtype">float</span> deployCost = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">getDeployCost</a>(member);</div>
<div class="line"><a id="l03023" name="l03023"></a><span class="lineno"> 3023</span>            <span class="keywordflow">if</span> (member.isFighterWing()) {</div>
<div class="line"><a id="l03024" name="l03024"></a><span class="lineno"> 3024</span>                member.getRepairTracker().applyCREvent(-deployCost, <span class="stringliteral">&quot;wing deployed in combat&quot;</span>);</div>
<div class="line"><a id="l03025" name="l03025"></a><span class="lineno"> 3025</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03026" name="l03026"></a><span class="lineno"> 3026</span>                member.getRepairTracker().applyCREvent(-deployCost, <span class="stringliteral">&quot;deployed in combat&quot;</span>);</div>
<div class="line"><a id="l03027" name="l03027"></a><span class="lineno"> 3027</span>            }</div>
<div class="line"><a id="l03028" name="l03028"></a><span class="lineno"> 3028</span>            </div>
<div class="line"><a id="l03029" name="l03029"></a><span class="lineno"> 3029</span>            <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9b4530b6a62be2bd068593469d6cd3ff">applyExtendedCRLossIfNeeded</a>(result, member);</div>
<div class="line"><a id="l03030" name="l03030"></a><span class="lineno"> 3030</span>            </div>
<div class="line"><a id="l03031" name="l03031"></a><span class="lineno"> 3031</span>            <span class="keywordflow">if</span> (!wonBattle &amp;&amp; result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a18a6efdd60e4042764ec61cb19e00a36">getGoal</a>() != <a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">FleetGoal</a>.<a class="code hl_variable" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#ad31dc449468911381be9a88cd6adcf41">ESCAPE</a>) {</div>
<div class="line"><a id="l03032" name="l03032"></a><span class="lineno"> 3032</span>                <span class="keywordtype">float</span> retreatCost = deployCost * retreatLossMult;</div>
<div class="line"><a id="l03033" name="l03033"></a><span class="lineno"> 3033</span>                <span class="keywordflow">if</span> (retreatCost &gt; 0) {</div>
<div class="line"><a id="l03034" name="l03034"></a><span class="lineno"> 3034</span>                    member.getRepairTracker().applyCREvent(-retreatCost, <span class="stringliteral">&quot;retreated from lost engagement&quot;</span>);</div>
<div class="line"><a id="l03035" name="l03035"></a><span class="lineno"> 3035</span>                }</div>
<div class="line"><a id="l03036" name="l03036"></a><span class="lineno"> 3036</span>            }</div>
<div class="line"><a id="l03037" name="l03037"></a><span class="lineno"> 3037</span>        }</div>
<div class="line"><a id="l03038" name="l03038"></a><span class="lineno"> 3038</span>        </div>
<div class="line"><a id="l03039" name="l03039"></a><span class="lineno"> 3039</span><span class="comment">//      // important, so that in-combat Ship objects can be garbage collected.</span></div>
<div class="line"><a id="l03040" name="l03040"></a><span class="lineno"> 3040</span><span class="comment">//      // Probably some combat engine references in there, too. </span></div>
<div class="line"><a id="l03041" name="l03041"></a><span class="lineno"> 3041</span><span class="comment">//      // NOTE: moved this elsewhere in this class</span></div>
<div class="line"><a id="l03042" name="l03042"></a><span class="lineno"> 3042</span><span class="comment">//      result.resetAllEverDeployed();</span></div>
<div class="line"><a id="l03043" name="l03043"></a><span class="lineno"> 3043</span><span class="comment">//      getDataFor(result.getFleet()).getMemberToDeployedMap().clear();</span></div>
<div class="line"><a id="l03044" name="l03044"></a><span class="lineno"> 3044</span>    }</div>
</div>
<div class="line"><a id="l03045" name="l03045"></a><span class="lineno"> 3045</span>    </div>
<div class="line"><a id="l03046" name="l03046"></a><span class="lineno"> 3046</span>    </div>
<div class="line"><a id="l03047" name="l03047"></a><span class="lineno"> 3047</span><span class="comment">//  protected void saveAmmoState(FleetMemberAPI member, ShipAPI ship) {</span></div>
<div class="line"><a id="l03048" name="l03048"></a><span class="lineno"> 3048</span><span class="comment">//      if (ship == null) return;</span></div>
<div class="line"><a id="l03049" name="l03049"></a><span class="lineno"> 3049</span><span class="comment">//      </span></div>
<div class="line"><a id="l03050" name="l03050"></a><span class="lineno"> 3050</span><span class="comment">//      Map&lt;String, Integer&gt; ammo = member.getAmmoStateAtEndOfLastEngagement();</span></div>
<div class="line"><a id="l03051" name="l03051"></a><span class="lineno"> 3051</span><span class="comment">//      for (WeaponAPI w : ship.getAllWeapons()) {</span></div>
<div class="line"><a id="l03052" name="l03052"></a><span class="lineno"> 3052</span><span class="comment">//          if (w.usesAmmo() &amp;&amp; w.getAmmoPerSecond() &lt;= 0) {</span></div>
<div class="line"><a id="l03053" name="l03053"></a><span class="lineno"> 3053</span><span class="comment">//              ammo.put(w.getSlot().getId(), w.getAmmo());</span></div>
<div class="line"><a id="l03054" name="l03054"></a><span class="lineno"> 3054</span><span class="comment">//          }</span></div>
<div class="line"><a id="l03055" name="l03055"></a><span class="lineno"> 3055</span><span class="comment">//      }</span></div>
<div class="line"><a id="l03056" name="l03056"></a><span class="lineno"> 3056</span><span class="comment">//  }</span></div>
<div class="line"><a id="l03057" name="l03057"></a><span class="lineno"> 3057</span>    </div>
<div class="foldopen" id="foldopen03062" data-start="{" data-end="}">
<div class="line"><a id="l03062" name="l03062"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9b4530b6a62be2bd068593469d6cd3ff"> 3062</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9b4530b6a62be2bd068593469d6cd3ff">applyExtendedCRLossIfNeeded</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member) {</div>
<div class="line"><a id="l03063" name="l03063"></a><span class="lineno"> 3063</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html">DeployedFleetMemberAPI</a> dfm = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>()).getMemberToDeployedMap().get(member);</div>
<div class="line"><a id="l03064" name="l03064"></a><span class="lineno"> 3064</span>        <span class="keywordflow">if</span> (dfm == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03065" name="l03065"></a><span class="lineno"> 3065</span>        </div>
<div class="line"><a id="l03066" name="l03066"></a><span class="lineno"> 3066</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span> &amp;&amp; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l03067" name="l03067"></a><span class="lineno"> 3067</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03068" name="l03068"></a><span class="lineno"> 3068</span>        }</div>
<div class="line"><a id="l03069" name="l03069"></a><span class="lineno"> 3069</span>        <span class="keywordflow">if</span> (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a05a912fabc276d29f6d548fb6e8a93ad">getFleetCommander</a>() == <span class="keyword">null</span>) {</div>
<div class="line"><a id="l03070" name="l03070"></a><span class="lineno"> 3070</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03071" name="l03071"></a><span class="lineno"> 3071</span>        }</div>
<div class="line"><a id="l03072" name="l03072"></a><span class="lineno"> 3072</span>        </div>
<div class="line"><a id="l03073" name="l03073"></a><span class="lineno"> 3073</span>        <span class="keywordflow">if</span> (dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#a14477d02aa14cf6d33e002d9ab46861f">getMember</a>() == member &amp;&amp; dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#abe0f6efd38657d8153cca15e97a08b9c">isFighterWing</a>()) {</div>
<div class="line"><a id="l03074" name="l03074"></a><span class="lineno"> 3074</span>            <span class="comment">//float finalCR = dfm.getShip().getRemainingWingCR();</span></div>
<div class="line"><a id="l03075" name="l03075"></a><span class="lineno"> 3075</span>            <span class="keywordtype">float</span> cr = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#ad70eba90ebbd5691b064ae9c2695a966">getRepairTracker</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#aec5f1812706ae1c5638541f4ff0045a2">getBaseCR</a>();</div>
<div class="line"><a id="l03076" name="l03076"></a><span class="lineno"> 3076</span>            <span class="keywordtype">float</span> finalCR = cr;</div>
<div class="line"><a id="l03077" name="l03077"></a><span class="lineno"> 3077</span>            <span class="keywordflow">if</span> (cr &gt; finalCR) {</div>
<div class="line"><a id="l03078" name="l03078"></a><span class="lineno"> 3078</span>                member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#ad70eba90ebbd5691b064ae9c2695a966">getRepairTracker</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#a2e5fc52f1201722b757a0301f8bd0a76">applyCREvent</a>(-(cr - finalCR), <span class="stringliteral">&quot;deployed replacement chassis in combat&quot;</span>);</div>
<div class="line"><a id="l03079" name="l03079"></a><span class="lineno"> 3079</span>            }</div>
<div class="line"><a id="l03080" name="l03080"></a><span class="lineno"> 3080</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03081" name="l03081"></a><span class="lineno"> 3081</span>        }</div>
<div class="line"><a id="l03082" name="l03082"></a><span class="lineno"> 3082</span>        <span class="keywordflow">if</span> (dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#a14477d02aa14cf6d33e002d9ab46861f">getMember</a>() == member &amp;&amp; !dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#abe0f6efd38657d8153cca15e97a08b9c">isFighterWing</a>()) {</div>
<div class="line"><a id="l03083" name="l03083"></a><span class="lineno"> 3083</span>            <span class="keywordtype">float</span> deployCost = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">getDeployCost</a>(member);</div>
<div class="line"><a id="l03084" name="l03084"></a><span class="lineno"> 3084</span>            <span class="keywordtype">float</span> endOfCombatCR = dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#ab8bd06f904375d60d9d945d4796fcfc0">getShip</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a4826189fb817424cdafcd16dfbd24e7b">getCurrentCR</a>() - deployCost;</div>
<div class="line"><a id="l03085" name="l03085"></a><span class="lineno"> 3085</span>            <span class="keywordtype">float</span> cr = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#ad70eba90ebbd5691b064ae9c2695a966">getRepairTracker</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#a1238ad515072fb792ed380005630d01c">getCR</a>();</div>
<div class="line"><a id="l03086" name="l03086"></a><span class="lineno"> 3086</span>            <span class="keywordflow">if</span> (cr &gt; endOfCombatCR) {</div>
<div class="line"><a id="l03087" name="l03087"></a><span class="lineno"> 3087</span>                member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#ad70eba90ebbd5691b064ae9c2695a966">getRepairTracker</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#a2e5fc52f1201722b757a0301f8bd0a76">applyCREvent</a>(-(cr - endOfCombatCR), <span class="stringliteral">&quot;extended deployment&quot;</span>);</div>
<div class="line"><a id="l03088" name="l03088"></a><span class="lineno"> 3088</span>            }</div>
<div class="line"><a id="l03089" name="l03089"></a><span class="lineno"> 3089</span>            </div>
<div class="line"><a id="l03090" name="l03090"></a><span class="lineno"> 3090</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html">ShipAPI</a> ship = dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#ab8bd06f904375d60d9d945d4796fcfc0">getShip</a>();</div>
<div class="line"><a id="l03091" name="l03091"></a><span class="lineno"> 3091</span>            <span class="keywordflow">if</span> (dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#ab8bd06f904375d60d9d945d4796fcfc0">getShip</a>() != <span class="keyword">null</span> &amp;&amp; !dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#abe0f6efd38657d8153cca15e97a08b9c">isFighterWing</a>()) {</div>
<div class="line"><a id="l03092" name="l03092"></a><span class="lineno"> 3092</span>                <span class="keywordtype">float</span> wMult = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;crLossMultForWeaponDisabled&quot;</span>);</div>
<div class="line"><a id="l03093" name="l03093"></a><span class="lineno"> 3093</span>                <span class="keywordtype">float</span> eMult = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;crLossMultForFlameout&quot;</span>);</div>
<div class="line"><a id="l03094" name="l03094"></a><span class="lineno"> 3094</span>                <span class="keywordtype">float</span> mMult = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;crLossMultForMissilesFired&quot;</span>);</div>
<div class="line"><a id="l03095" name="l03095"></a><span class="lineno"> 3095</span>                <span class="keywordtype">float</span> hMult = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;crLossMultForHullDamage&quot;</span>);</div>
<div class="line"><a id="l03096" name="l03096"></a><span class="lineno"> 3096</span>                </div>
<div class="line"><a id="l03097" name="l03097"></a><span class="lineno"> 3097</span>                <span class="keywordtype">float</span> hullDamageFraction = ship.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a69de0487e04078ddfd6c51de68ebcd3a">getHullLevelAtDeployment</a>() - ship.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a50578a8ec0bdf70beb5e50968b9e48cf">getLowestHullLevelReached</a>();</div>
<div class="line"><a id="l03098" name="l03098"></a><span class="lineno"> 3098</span>                <span class="keywordtype">float</span> hullDamageCRLoss = hullDamageFraction * hMult;</div>
<div class="line"><a id="l03099" name="l03099"></a><span class="lineno"> 3099</span>                hullDamageCRLoss *= ship.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a3f675969b425cb1bdcb000eada3977de">getMutableStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a4acb36c1ef7dc94f1202cceb1c36ac65">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#afbe422ffcfbc51e668755004ea49d753">HULL_DAMAGE_CR_LOSS</a>);</div>
<div class="line"><a id="l03100" name="l03100"></a><span class="lineno"> 3100</span>                <span class="keywordflow">if</span> (hullDamageCRLoss &gt; 0) {</div>
<div class="line"><a id="l03101" name="l03101"></a><span class="lineno"> 3101</span>                    member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#ad70eba90ebbd5691b064ae9c2695a966">getRepairTracker</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#a2e5fc52f1201722b757a0301f8bd0a76">applyCREvent</a>(-hullDamageCRLoss, <span class="stringliteral">&quot;hull damage sustained&quot;</span>);</div>
<div class="line"><a id="l03102" name="l03102"></a><span class="lineno"> 3102</span>                }</div>
<div class="line"><a id="l03103" name="l03103"></a><span class="lineno"> 3103</span>                </div>
<div class="line"><a id="l03104" name="l03104"></a><span class="lineno"> 3104</span>                member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#abb80a64884429b37aa0c3a845c295f56">getStatus</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#ac333b13a2dc70c4c13c218acd2d3caba">setHullFraction</a>(ship.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a50578a8ec0bdf70beb5e50968b9e48cf">getLowestHullLevelReached</a>());</div>
<div class="line"><a id="l03105" name="l03105"></a><span class="lineno"> 3105</span>                </div>
<div class="line"><a id="l03106" name="l03106"></a><span class="lineno"> 3106</span>                </div>
<div class="line"><a id="l03107" name="l03107"></a><span class="lineno"> 3107</span>                <span class="keywordtype">float</span> instaRepairFraction = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afd9dd6acbc98d9e404a3254ebeec29d7">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a4acb36c1ef7dc94f1202cceb1c36ac65">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a8c2f2db1c9ff53995d40eeeea5395e34">INSTA_REPAIR_FRACTION</a>, 0f);</div>
<div class="line"><a id="l03108" name="l03108"></a><span class="lineno"> 3108</span>                <span class="keywordflow">if</span> (instaRepairFraction &gt; 0) {</div>
<div class="line"><a id="l03109" name="l03109"></a><span class="lineno"> 3109</span>                    <span class="keywordtype">float</span> hullDamage = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#abb80a64884429b37aa0c3a845c295f56">getStatus</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#aa659d3ddd5edece1ec3618641cb61f34">getHullDamageTaken</a>();</div>
<div class="line"><a id="l03110" name="l03110"></a><span class="lineno"> 3110</span>                    <span class="keywordtype">float</span> armorDamage = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#abb80a64884429b37aa0c3a845c295f56">getStatus</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#a0c670219a4921261e879550a2294bcf7">getArmorDamageTaken</a>();</div>
<div class="line"><a id="l03111" name="l03111"></a><span class="lineno"> 3111</span>                    </div>
<div class="line"><a id="l03112" name="l03112"></a><span class="lineno"> 3112</span>                    member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#abb80a64884429b37aa0c3a845c295f56">getStatus</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#ad7224ac4976df121bfc4e18b2d653d2e">repairArmorAllCells</a>(armorDamage * instaRepairFraction); </div>
<div class="line"><a id="l03113" name="l03113"></a><span class="lineno"> 3113</span>                    member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#abb80a64884429b37aa0c3a845c295f56">getStatus</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#ab89460a090db255e49c39029332981d9">repairHullFraction</a>(hullDamage * instaRepairFraction); </div>
<div class="line"><a id="l03114" name="l03114"></a><span class="lineno"> 3114</span>                }</div>
<div class="line"><a id="l03115" name="l03115"></a><span class="lineno"> 3115</span>                </div>
<div class="line"><a id="l03116" name="l03116"></a><span class="lineno"> 3116</span>                </div>
<div class="line"><a id="l03117" name="l03117"></a><span class="lineno"> 3117</span>                <span class="keywordtype">float</span> totalDisabled = 0f;</div>
<div class="line"><a id="l03118" name="l03118"></a><span class="lineno"> 3118</span>                <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html">MutableCharacterStatsAPI</a> stats = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a05a912fabc276d29f6d548fb6e8a93ad">getFleetCommander</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#ab1dc0541432c8885b0e27cca0be945e8">getStats</a>();</div>
<div class="line"><a id="l03119" name="l03119"></a><span class="lineno"> 3119</span>                <span class="keywordtype">float</span> maxOP = ship.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#aa5de55c7deee8d5064cdb900ec42d0f6">getVariant</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a88fb55e65c74f293fc9098b2553bbe1c">getHullSpec</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI.html#aabe26d1df8b0cfdc16677b124887ace1">getOrdnancePoints</a>(stats);</div>
<div class="line"><a id="l03120" name="l03120"></a><span class="lineno"> 3120</span>                <span class="keywordflow">if</span> (maxOP &lt;= 1) maxOP = 1;</div>
<div class="line"><a id="l03121" name="l03121"></a><span class="lineno"> 3121</span>                </div>
<div class="line"><a id="l03122" name="l03122"></a><span class="lineno"> 3122</span>                <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1WeaponAPI.html">WeaponAPI</a> w : ship.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a03255d891aaa79de1ba0ebeac5d270d8">getDisabledWeapons</a>()) {</div>
<div class="line"><a id="l03123" name="l03123"></a><span class="lineno"> 3123</span>                    totalDisabled += w.getSpec().getOrdnancePointCost(stats, ship.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#aa5de55c7deee8d5064cdb900ec42d0f6">getVariant</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a0fdeadbc976e07744884cdb0b54913d5">getStatsForOpCosts</a>()) * wMult;</div>
<div class="line"><a id="l03124" name="l03124"></a><span class="lineno"> 3124</span>                }</div>
<div class="line"><a id="l03125" name="l03125"></a><span class="lineno"> 3125</span>                <span class="keywordflow">if</span> (ship.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#abd4378a6fc667e8fd041b6fd5e9083d4">getNumFlameouts</a>() &gt; 0) {</div>
<div class="line"><a id="l03126" name="l03126"></a><span class="lineno"> 3126</span>                    totalDisabled += maxOP * eMult;</div>
<div class="line"><a id="l03127" name="l03127"></a><span class="lineno"> 3127</span>                }</div>
<div class="line"><a id="l03128" name="l03128"></a><span class="lineno"> 3128</span>                </div>
<div class="line"><a id="l03129" name="l03129"></a><span class="lineno"> 3129</span>                <span class="keywordtype">float</span> damageBasedCRLoss = Math.min(1f, totalDisabled / maxOP);</div>
<div class="line"><a id="l03130" name="l03130"></a><span class="lineno"> 3130</span>                <span class="keywordflow">if</span> (damageBasedCRLoss &gt; 0) {</div>
<div class="line"><a id="l03131" name="l03131"></a><span class="lineno"> 3131</span>                    member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#ad70eba90ebbd5691b064ae9c2695a966">getRepairTracker</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#a2e5fc52f1201722b757a0301f8bd0a76">applyCREvent</a>(-damageBasedCRLoss, <span class="stringliteral">&quot;weapon and engine damage sustained&quot;</span>);</div>
<div class="line"><a id="l03132" name="l03132"></a><span class="lineno"> 3132</span>                }</div>
<div class="line"><a id="l03133" name="l03133"></a><span class="lineno"> 3133</span>                </div>
<div class="line"><a id="l03134" name="l03134"></a><span class="lineno"> 3134</span>                <span class="keywordtype">float</span> missileReloadOP = 0f;</div>
<div class="line"><a id="l03135" name="l03135"></a><span class="lineno"> 3135</span>                <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1WeaponAPI.html">WeaponAPI</a> w : ship.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#aa5d786101d380df98ac79f0d1d2bbd0e">getAllWeapons</a>()) {</div>
<div class="line"><a id="l03136" name="l03136"></a><span class="lineno"> 3136</span>                    <span class="keywordflow">if</span> (w.getType() == WeaponType.MISSILE &amp;&amp; w.usesAmmo()) {</div>
<div class="line"><a id="l03137" name="l03137"></a><span class="lineno"> 3137</span>                        missileReloadOP += (1f - (float) w.getAmmo() / (<span class="keywordtype">float</span>) w.getMaxAmmo()) * w.getSpec().getOrdnancePointCost(stats, ship.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#aa5de55c7deee8d5064cdb900ec42d0f6">getVariant</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a0fdeadbc976e07744884cdb0b54913d5">getStatsForOpCosts</a>()) * mMult;</div>
<div class="line"><a id="l03138" name="l03138"></a><span class="lineno"> 3138</span>                    }</div>
<div class="line"><a id="l03139" name="l03139"></a><span class="lineno"> 3139</span>                }</div>
<div class="line"><a id="l03140" name="l03140"></a><span class="lineno"> 3140</span>                </div>
<div class="line"><a id="l03141" name="l03141"></a><span class="lineno"> 3141</span>                <span class="keywordtype">float</span> missileReloadLoss = Math.min(1f, missileReloadOP / maxOP);</div>
<div class="line"><a id="l03142" name="l03142"></a><span class="lineno"> 3142</span>                <span class="keywordflow">if</span> (missileReloadLoss &gt; 0) {</div>
<div class="line"><a id="l03143" name="l03143"></a><span class="lineno"> 3143</span>                    member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#ad70eba90ebbd5691b064ae9c2695a966">getRepairTracker</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#a2e5fc52f1201722b757a0301f8bd0a76">applyCREvent</a>(-missileReloadLoss, <span class="stringliteral">&quot;missile weapons used in combat&quot;</span>);</div>
<div class="line"><a id="l03144" name="l03144"></a><span class="lineno"> 3144</span>                }</div>
<div class="line"><a id="l03145" name="l03145"></a><span class="lineno"> 3145</span>            }</div>
<div class="line"><a id="l03146" name="l03146"></a><span class="lineno"> 3146</span>            </div>
<div class="line"><a id="l03147" name="l03147"></a><span class="lineno"> 3147</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03148" name="l03148"></a><span class="lineno"> 3148</span>        }</div>
<div class="line"><a id="l03149" name="l03149"></a><span class="lineno"> 3149</span>    }</div>
</div>
<div class="line"><a id="l03150" name="l03150"></a><span class="lineno"> 3150</span>    </div>
<div class="line"><a id="l03151" name="l03151"></a><span class="lineno"> 3151</span>    </div>
<div class="foldopen" id="foldopen03152" data-start="{" data-end="}">
<div class="line"><a id="l03152" name="l03152"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a90baa7c1682521b6fbf0f2551e8676b2"> 3152</a></span>    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a90baa7c1682521b6fbf0f2551e8676b2">applyShipLosses</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result) {</div>
<div class="line"><a id="l03153" name="l03153"></a><span class="lineno"> 3153</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>()) {</div>
<div class="line"><a id="l03154" name="l03154"></a><span class="lineno"> 3154</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03155" name="l03155"></a><span class="lineno"> 3155</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member).<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a6be08ca1de2329c5cb4b6043a4c20f85">removeFleetMemberWithDestructionFlash</a>(member);</div>
<div class="line"><a id="l03156" name="l03156"></a><span class="lineno"> 3156</span>            result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#ac672b758ab99500a6dc92470d1215429">removeFleetMember</a>(member);</div>
<div class="line"><a id="l03157" name="l03157"></a><span class="lineno"> 3157</span>        }</div>
<div class="line"><a id="l03158" name="l03158"></a><span class="lineno"> 3158</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">getDisabled</a>()) {</div>
<div class="line"><a id="l03159" name="l03159"></a><span class="lineno"> 3159</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03160" name="l03160"></a><span class="lineno"> 3160</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member).<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a6be08ca1de2329c5cb4b6043a4c20f85">removeFleetMemberWithDestructionFlash</a>(member);</div>
<div class="line"><a id="l03161" name="l03161"></a><span class="lineno"> 3161</span>            result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#ac672b758ab99500a6dc92470d1215429">removeFleetMember</a>(member);</div>
<div class="line"><a id="l03162" name="l03162"></a><span class="lineno"> 3162</span>        }</div>
<div class="line"><a id="l03163" name="l03163"></a><span class="lineno"> 3163</span>    }</div>
</div>
<div class="line"><a id="l03164" name="l03164"></a><span class="lineno"> 3164</span>    </div>
<div class="line"><a id="l03165" name="l03165"></a><span class="lineno"> 3165</span><span class="comment">//  protected void applyCrewLosses(EngagementResultForFleetAPI result) {</span></div>
<div class="line"><a id="l03166" name="l03166"></a><span class="lineno"> 3166</span><span class="comment">//      CargoAPI cargo = result.getFleet().getCargo();</span></div>
<div class="line"><a id="l03167" name="l03167"></a><span class="lineno"> 3167</span><span class="comment">//      DataForEncounterSide data = getDataFor(result.getFleet());</span></div>
<div class="line"><a id="l03168" name="l03168"></a><span class="lineno"> 3168</span><span class="comment">//      CrewCompositionAPI crewLosses = data.getCrewLossesDuringLastEngagement();</span></div>
<div class="line"><a id="l03169" name="l03169"></a><span class="lineno"> 3169</span><span class="comment">//      </span></div>
<div class="line"><a id="l03170" name="l03170"></a><span class="lineno"> 3170</span><span class="comment">//      cargo.removeItems(CargoAPI.CargoItemType.RESOURCES, CargoAPI.CrewXPLevel.GREEN.getId(), crewLosses.getGreen());</span></div>
<div class="line"><a id="l03171" name="l03171"></a><span class="lineno"> 3171</span><span class="comment">//      cargo.removeItems(CargoAPI.CargoItemType.RESOURCES, CargoAPI.CrewXPLevel.REGULAR.getId(), crewLosses.getRegular());</span></div>
<div class="line"><a id="l03172" name="l03172"></a><span class="lineno"> 3172</span><span class="comment">//      cargo.removeItems(CargoAPI.CargoItemType.RESOURCES, CargoAPI.CrewXPLevel.VETERAN.getId(), crewLosses.getVeteran());</span></div>
<div class="line"><a id="l03173" name="l03173"></a><span class="lineno"> 3173</span><span class="comment">//      cargo.removeItems(CargoAPI.CargoItemType.RESOURCES, CargoAPI.CrewXPLevel.ELITE.getId(), crewLosses.getElite());</span></div>
<div class="line"><a id="l03174" name="l03174"></a><span class="lineno"> 3174</span><span class="comment">//      </span></div>
<div class="line"><a id="l03175" name="l03175"></a><span class="lineno"> 3175</span><span class="comment">//      cargo.removeMarines((int) crewLosses.getMarines());</span></div>
<div class="line"><a id="l03176" name="l03176"></a><span class="lineno"> 3176</span><span class="comment">//  }</span></div>
<div class="line"><a id="l03177" name="l03177"></a><span class="lineno"> 3177</span> </div>
<div class="foldopen" id="foldopen03178" data-start="{" data-end="}">
<div class="line"><a id="l03178" name="l03178"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279"> 3178</a></span>    <span class="keyword">protected</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279">computeLossFraction</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result, <span class="keywordtype">float</span> hullFraction, <span class="keywordtype">float</span> hullDamage) {</div>
<div class="line"><a id="l03179" name="l03179"></a><span class="lineno"> 3179</span>        <span class="keywordflow">if</span> (member == <span class="keyword">null</span> &amp;&amp; hullFraction == 0) {</div>
<div class="line"><a id="l03180" name="l03180"></a><span class="lineno"> 3180</span>            <span class="keywordflow">return</span> (0.75f + (<span class="keywordtype">float</span>) Math.random() * 0.25f);</div>
<div class="line"><a id="l03181" name="l03181"></a><span class="lineno"> 3181</span>        }</div>
<div class="line"><a id="l03182" name="l03182"></a><span class="lineno"> 3182</span>        </div>
<div class="line"><a id="l03183" name="l03183"></a><span class="lineno"> 3183</span>        <span class="comment">//System.out.println(&quot;hullDamage: &quot; + hullDamage);</span></div>
<div class="line"><a id="l03184" name="l03184"></a><span class="lineno"> 3184</span>        <span class="keywordflow">if</span> (member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a04d298fe8266beb8440baa6f700b1812">isFighterWing</a>() &amp;&amp; result != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l03185" name="l03185"></a><span class="lineno"> 3185</span>            <span class="comment">//System.out.println(&quot;Fighter hullDamage: &quot; + hullDamage);</span></div>
<div class="line"><a id="l03186" name="l03186"></a><span class="lineno"> 3186</span>            <span class="keywordtype">float</span> extraLossMult = hullDamage;</div>
<div class="line"><a id="l03187" name="l03187"></a><span class="lineno"> 3187</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html">DeployedFleetMemberAPI</a> dfm = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>()).getMemberToDeployedMap().get(member);</div>
<div class="line"><a id="l03188" name="l03188"></a><span class="lineno"> 3188</span>            <span class="keywordflow">if</span> (dfm != <span class="keyword">null</span> &amp;&amp; dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#a14477d02aa14cf6d33e002d9ab46861f">getMember</a>() == member) {</div>
<div class="line"><a id="l03189" name="l03189"></a><span class="lineno"> 3189</span>                <span class="comment">//float finalCR = dfm.getShip().getRemainingWingCR();</span></div>
<div class="line"><a id="l03190" name="l03190"></a><span class="lineno"> 3190</span>                <span class="keywordtype">float</span> cr = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#ad70eba90ebbd5691b064ae9c2695a966">getRepairTracker</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#a1238ad515072fb792ed380005630d01c">getCR</a>();</div>
<div class="line"><a id="l03191" name="l03191"></a><span class="lineno"> 3191</span>                <span class="keywordtype">float</span> finalCR = cr;</div>
<div class="line"><a id="l03192" name="l03192"></a><span class="lineno"> 3192</span>                <span class="keywordflow">if</span> (cr &gt; finalCR) {</div>
<div class="line"><a id="l03193" name="l03193"></a><span class="lineno"> 3193</span>                    <span class="keywordtype">float</span> crPer = dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#a14477d02aa14cf6d33e002d9ab46861f">getMember</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afd9dd6acbc98d9e404a3254ebeec29d7">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a5175b578b38a26acf679ec99352edbf7">getCRPerDeploymentPercent</a>().<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1StatBonus.html#af16110c6c18625c9f384078ce824bdda">computeEffective</a>(dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#a14477d02aa14cf6d33e002d9ab46861f">getMember</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a1230c04f66b7ca8a4a0d859f6602d7d7">getVariant</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a88fb55e65c74f293fc9098b2553bbe1c">getHullSpec</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI.html#a6ef316c1cca6df1ebbe1c9149c51a8c9">getCRToDeploy</a>()) / 100f;</div>
<div class="line"><a id="l03194" name="l03194"></a><span class="lineno"> 3194</span>                    <span class="keywordtype">float</span> extraCraftLost = (cr - finalCR) / crPer;</div>
<div class="line"><a id="l03195" name="l03195"></a><span class="lineno"> 3195</span>                    <span class="keywordtype">float</span> wingSize = dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#a14477d02aa14cf6d33e002d9ab46861f">getMember</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aed4840689dd62fda2062830118fabd8a">getNumFightersInWing</a>();</div>
<div class="line"><a id="l03196" name="l03196"></a><span class="lineno"> 3196</span>                    <span class="keywordflow">if</span> (extraCraftLost &gt;= 1) {</div>
<div class="line"><a id="l03197" name="l03197"></a><span class="lineno"> 3197</span>                        extraLossMult = hullDamage + extraCraftLost / wingSize;</div>
<div class="line"><a id="l03198" name="l03198"></a><span class="lineno"> 3198</span>                    }</div>
<div class="line"><a id="l03199" name="l03199"></a><span class="lineno"> 3199</span>                }</div>
<div class="line"><a id="l03200" name="l03200"></a><span class="lineno"> 3200</span>            }</div>
<div class="line"><a id="l03201" name="l03201"></a><span class="lineno"> 3201</span>            <span class="keywordflow">return</span> (0.25f + (<span class="keywordtype">float</span>) Math.random() * 0.75f * (<span class="keywordtype">float</span>) Math.random()) * member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afd9dd6acbc98d9e404a3254ebeec29d7">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a12f3514448185444c288377f366a2ed6">getCrewLossMult</a>().<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableStat.html#a6ae491ba70695a2098f790d7421d9ef2">getModifiedValue</a>() * extraLossMult;</div>
<div class="line"><a id="l03202" name="l03202"></a><span class="lineno"> 3202</span>        }</div>
<div class="line"><a id="l03203" name="l03203"></a><span class="lineno"> 3203</span>        </div>
<div class="line"><a id="l03204" name="l03204"></a><span class="lineno"> 3204</span>        </div>
<div class="line"><a id="l03205" name="l03205"></a><span class="lineno"> 3205</span>        <span class="keywordtype">float</span> extraFromFighters = 0f;</div>
<div class="line"><a id="l03206" name="l03206"></a><span class="lineno"> 3206</span>        <span class="keywordflow">if</span> (!member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a04d298fe8266beb8440baa6f700b1812">isFighterWing</a>() &amp;&amp; result != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l03207" name="l03207"></a><span class="lineno"> 3207</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html">DeployedFleetMemberAPI</a> dfm = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>()).getMemberToDeployedMap().get(member);</div>
<div class="line"><a id="l03208" name="l03208"></a><span class="lineno"> 3208</span>            <span class="keywordflow">if</span> (dfm != <span class="keyword">null</span> &amp;&amp; dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#a14477d02aa14cf6d33e002d9ab46861f">getMember</a>() == member) {</div>
<div class="line"><a id="l03209" name="l03209"></a><span class="lineno"> 3209</span>                <span class="keywordtype">float</span> craftCrewLoss = 0;</div>
<div class="line"><a id="l03210" name="l03210"></a><span class="lineno"> 3210</span>                <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1FighterLaunchBayAPI.html">FighterLaunchBayAPI</a> bay : dfm.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#ab8bd06f904375d60d9d945d4796fcfc0">getShip</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#accb17eb6df7d0b347aa04b0dccd6e5ac">getLaunchBaysCopy</a>()) {</div>
<div class="line"><a id="l03211" name="l03211"></a><span class="lineno"> 3211</span>                    <span class="keywordflow">if</span> (bay.getWing() == <span class="keyword">null</span> || bay.getWing().getLeader() == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03212" name="l03212"></a><span class="lineno"> 3212</span>                    <span class="keywordtype">float</span> baseCrew = bay.getWing().getLeader().getHullSpec().getMinCrew();</div>
<div class="line"><a id="l03213" name="l03213"></a><span class="lineno"> 3213</span>                    <span class="keywordtype">float</span> perCraft = bay.getWing().getLeader().getMutableStats().getMinCrewMod().computeEffective(baseCrew);</div>
<div class="line"><a id="l03214" name="l03214"></a><span class="lineno"> 3214</span>                    perCraft *= bay.getWing().getLeader().getMutableStats().getDynamic().getValue(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#af31f95afe9d5ed3f1dc210a56cf857c9">FIGHTER_CREW_LOSS_MULT</a>);</div>
<div class="line"><a id="l03215" name="l03215"></a><span class="lineno"> 3215</span>                    craftCrewLoss += perCraft * bay.getNumLost();</div>
<div class="line"><a id="l03216" name="l03216"></a><span class="lineno"> 3216</span>                }</div>
<div class="line"><a id="l03217" name="l03217"></a><span class="lineno"> 3217</span>                </div>
<div class="line"><a id="l03218" name="l03218"></a><span class="lineno"> 3218</span>                <span class="keywordtype">float</span> baseLossFraction = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">getSettings</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">getFloat</a>(<span class="stringliteral">&quot;fighterCrewLossBase&quot;</span>);</div>
<div class="line"><a id="l03219" name="l03219"></a><span class="lineno"> 3219</span>                craftCrewLoss *= baseLossFraction;</div>
<div class="line"><a id="l03220" name="l03220"></a><span class="lineno"> 3220</span>                </div>
<div class="line"><a id="l03221" name="l03221"></a><span class="lineno"> 3221</span>                <span class="keywordtype">float</span> memberCrew = member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a6af174dcf80ed1dbfeeecc231ba7eeaa">getMinCrew</a>();</div>
<div class="line"><a id="l03222" name="l03222"></a><span class="lineno"> 3222</span>                <span class="keywordflow">if</span> (memberCrew &gt; 0) {</div>
<div class="line"><a id="l03223" name="l03223"></a><span class="lineno"> 3223</span>                    <span class="keywordtype">float</span> threshold = memberCrew * 0.33f;</div>
<div class="line"><a id="l03224" name="l03224"></a><span class="lineno"> 3224</span>                    </div>
<div class="line"><a id="l03225" name="l03225"></a><span class="lineno"> 3225</span>                    <span class="keywordtype">float</span> actualLost = 0f;</div>
<div class="line"><a id="l03226" name="l03226"></a><span class="lineno"> 3226</span>                    <span class="keywordtype">float</span> mult = 1f;</div>
<div class="line"><a id="l03227" name="l03227"></a><span class="lineno"> 3227</span>                    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l03228" name="l03228"></a><span class="lineno"> 3228</span>                        <span class="keywordtype">float</span> curr = Math.min(craftCrewLoss, threshold);</div>
<div class="line"><a id="l03229" name="l03229"></a><span class="lineno"> 3229</span>                        craftCrewLoss -= curr;</div>
<div class="line"><a id="l03230" name="l03230"></a><span class="lineno"> 3230</span>                        </div>
<div class="line"><a id="l03231" name="l03231"></a><span class="lineno"> 3231</span>                        curr *= mult;</div>
<div class="line"><a id="l03232" name="l03232"></a><span class="lineno"> 3232</span>                        actualLost += curr;</div>
<div class="line"><a id="l03233" name="l03233"></a><span class="lineno"> 3233</span>                        mult /= 2f;</div>
<div class="line"><a id="l03234" name="l03234"></a><span class="lineno"> 3234</span>                        </div>
<div class="line"><a id="l03235" name="l03235"></a><span class="lineno"> 3235</span>                    } <span class="keywordflow">while</span> (craftCrewLoss &gt; 0);</div>
<div class="line"><a id="l03236" name="l03236"></a><span class="lineno"> 3236</span>                    </div>
<div class="line"><a id="l03237" name="l03237"></a><span class="lineno"> 3237</span>                    extraFromFighters = actualLost / memberCrew;</div>
<div class="line"><a id="l03238" name="l03238"></a><span class="lineno"> 3238</span>                    extraFromFighters *= member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afd9dd6acbc98d9e404a3254ebeec29d7">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a4acb36c1ef7dc94f1202cceb1c36ac65">getDynamic</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">getValue</a>(<a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">Stats</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#af31f95afe9d5ed3f1dc210a56cf857c9">FIGHTER_CREW_LOSS_MULT</a>);</div>
<div class="line"><a id="l03239" name="l03239"></a><span class="lineno"> 3239</span>                }</div>
<div class="line"><a id="l03240" name="l03240"></a><span class="lineno"> 3240</span>            }</div>
<div class="line"><a id="l03241" name="l03241"></a><span class="lineno"> 3241</span>        }</div>
<div class="line"><a id="l03242" name="l03242"></a><span class="lineno"> 3242</span>        </div>
<div class="line"><a id="l03243" name="l03243"></a><span class="lineno"> 3243</span>        <span class="keywordflow">if</span> (hullFraction == 0) {</div>
<div class="line"><a id="l03244" name="l03244"></a><span class="lineno"> 3244</span>            <span class="keywordflow">return</span> Math.min(1f, (0.75f + (<span class="keywordtype">float</span>) Math.random() * 0.25f) * member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afd9dd6acbc98d9e404a3254ebeec29d7">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a12f3514448185444c288377f366a2ed6">getCrewLossMult</a>().<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableStat.html#a6ae491ba70695a2098f790d7421d9ef2">getModifiedValue</a>() + extraFromFighters); </div>
<div class="line"><a id="l03245" name="l03245"></a><span class="lineno"> 3245</span>        }</div>
<div class="line"><a id="l03246" name="l03246"></a><span class="lineno"> 3246</span>        <span class="keywordflow">return</span> Math.min(1f, hullDamage * hullDamage * (0.5f + (<span class="keywordtype">float</span>) Math.random() * 0.5f) * member.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afd9dd6acbc98d9e404a3254ebeec29d7">getStats</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a12f3514448185444c288377f366a2ed6">getCrewLossMult</a>().<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableStat.html#a6ae491ba70695a2098f790d7421d9ef2">getModifiedValue</a>() + extraFromFighters);</div>
<div class="line"><a id="l03247" name="l03247"></a><span class="lineno"> 3247</span>    }</div>
</div>
<div class="line"><a id="l03248" name="l03248"></a><span class="lineno"> 3248</span>    </div>
<div class="line"><a id="l03249" name="l03249"></a><span class="lineno"> 3249</span>    </div>
<div class="line"><a id="l03250" name="l03250"></a><span class="lineno"> 3250</span>    </div>
<div class="foldopen" id="foldopen03251" data-start="{" data-end="}">
<div class="line"><a id="l03251" name="l03251"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aff14e6983105183182def17e63e36282"> 3251</a></span>    <span class="keyword">protected</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aff14e6983105183182def17e63e36282">computeRecoverableFraction</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result, <span class="keywordtype">float</span> hullFraction, <span class="keywordtype">float</span> hullDamage) {</div>
<div class="line"><a id="l03252" name="l03252"></a><span class="lineno"> 3252</span>        <span class="keywordtype">float</span> f = 1f - <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279">computeLossFraction</a>(member, result, hullFraction, hullDamage);</div>
<div class="line"><a id="l03253" name="l03253"></a><span class="lineno"> 3253</span>        <span class="keywordflow">if</span> (f &lt; 0) f = 0;</div>
<div class="line"><a id="l03254" name="l03254"></a><span class="lineno"> 3254</span>        <span class="keywordflow">return</span> f;</div>
<div class="line"><a id="l03255" name="l03255"></a><span class="lineno"> 3255</span>    }</div>
</div>
<div class="line"><a id="l03256" name="l03256"></a><span class="lineno"> 3256</span>    </div>
<div class="foldopen" id="foldopen03257" data-start="{" data-end="}">
<div class="line"><a id="l03257" name="l03257"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aded179a09a0c0709bd866bc3044a94e2"> 3257</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aded179a09a0c0709bd866bc3044a94e2">calculateAndApplyCrewLosses</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result, <span class="keywordtype">boolean</span> playerInvolved) {</div>
<div class="line"><a id="l03258" name="l03258"></a><span class="lineno"> 3258</span>        <span class="keywordtype">boolean</span> wonBattle = result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ae387f6d2e4198371b57bedbca118174a">isWinner</a>(); </div>
<div class="line"><a id="l03259" name="l03259"></a><span class="lineno"> 3259</span>        </div>
<div class="line"><a id="l03260" name="l03260"></a><span class="lineno"> 3260</span>        DataForEncounterSide data = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">getFleet</a>());</div>
<div class="line"><a id="l03261" name="l03261"></a><span class="lineno"> 3261</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> recoverable = data.getRecoverableCrewLosses();</div>
<div class="line"><a id="l03262" name="l03262"></a><span class="lineno"> 3262</span>        <span class="comment">//recoverable.removeAllCrew();</span></div>
<div class="line"><a id="l03263" name="l03263"></a><span class="lineno"> 3263</span>        </div>
<div class="line"><a id="l03264" name="l03264"></a><span class="lineno"> 3264</span>        List&lt;FleetMemberAPI&gt; all = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;();</div>
<div class="line"><a id="l03265" name="l03265"></a><span class="lineno"> 3265</span>        all.addAll(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">getDisabled</a>());</div>
<div class="line"><a id="l03266" name="l03266"></a><span class="lineno"> 3266</span>        all.addAll(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a5263ff9ae3cd5d881d3746b3c5be8882">getDeployed</a>());</div>
<div class="line"><a id="l03267" name="l03267"></a><span class="lineno"> 3267</span>        all.addAll(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>());</div>
<div class="line"><a id="l03268" name="l03268"></a><span class="lineno"> 3268</span>        all.addAll(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ac6fb2c14681e1edbf0aebd340bd87a86">getRetreated</a>());</div>
<div class="line"><a id="l03269" name="l03269"></a><span class="lineno"> 3269</span>        all.addAll(result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aafa14ba86d4abbfc85d4ed5d5146bc24">getReserves</a>());</div>
<div class="line"><a id="l03270" name="l03270"></a><span class="lineno"> 3270</span>        </div>
<div class="line"><a id="l03271" name="l03271"></a><span class="lineno"> 3271</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aafa14ba86d4abbfc85d4ed5d5146bc24">getReserves</a>()) {</div>
<div class="line"><a id="l03272" name="l03272"></a><span class="lineno"> 3272</span>            member.getStatus().resetDamageTaken();</div>
<div class="line"><a id="l03273" name="l03273"></a><span class="lineno"> 3273</span>        }</div>
<div class="line"><a id="l03274" name="l03274"></a><span class="lineno"> 3274</span>        </div>
<div class="line"><a id="l03275" name="l03275"></a><span class="lineno"> 3275</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> playerLosses = data.getCrewLossesDuringLastEngagement();</div>
<div class="line"><a id="l03276" name="l03276"></a><span class="lineno"> 3276</span>        playerLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#aba603683ff8d65553fc189eef90e7f45">removeAllCrew</a>();</div>
<div class="line"><a id="l03277" name="l03277"></a><span class="lineno"> 3277</span> </div>
<div class="line"><a id="l03278" name="l03278"></a><span class="lineno"> 3278</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> crewLosses = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">getFactory</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a5a8d2bc6f7380d2b61f93f3a23627141">createCrewComposition</a>();</div>
<div class="line"><a id="l03279" name="l03279"></a><span class="lineno"> 3279</span>        crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#aba603683ff8d65553fc189eef90e7f45">removeAllCrew</a>();</div>
<div class="line"><a id="l03280" name="l03280"></a><span class="lineno"> 3280</span>        </div>
<div class="line"><a id="l03281" name="l03281"></a><span class="lineno"> 3281</span>        <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> playerFleet = <span class="keyword">null</span>;</div>
<div class="line"><a id="l03282" name="l03282"></a><span class="lineno"> 3282</span>        <span class="comment">//float maxExtraLoss = 0f;</span></div>
<div class="line"><a id="l03283" name="l03283"></a><span class="lineno"> 3283</span>        <span class="keywordtype">float</span> playerCapacityLost = 0f;</div>
<div class="line"><a id="l03284" name="l03284"></a><span class="lineno"> 3284</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : all) {</div>
<div class="line"><a id="l03285" name="l03285"></a><span class="lineno"> 3285</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03286" name="l03286"></a><span class="lineno"> 3286</span>            <span class="keywordtype">boolean</span> player = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) != <span class="keyword">null</span> &amp;&amp; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member).<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aca63b88ff3c36215530149f16259d5c1">isPlayerFleet</a>();</div>
<div class="line"><a id="l03287" name="l03287"></a><span class="lineno"> 3287</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> c = member.getCrewComposition();</div>
<div class="line"><a id="l03288" name="l03288"></a><span class="lineno"> 3288</span>            <span class="comment">//float hull = member.getStatus().getHullFraction();</span></div>
<div class="line"><a id="l03289" name="l03289"></a><span class="lineno"> 3289</span>            <span class="keywordtype">float</span> hullDamage = member.getStatus().getHullDamageTaken();</div>
<div class="line"><a id="l03290" name="l03290"></a><span class="lineno"> 3290</span>            <span class="keywordtype">float</span> hullFraction = member.getStatus().getHullFraction();</div>
<div class="line"><a id="l03291" name="l03291"></a><span class="lineno"> 3291</span>            member.getStatus().resetDamageTaken();</div>
<div class="line"><a id="l03292" name="l03292"></a><span class="lineno"> 3292</span>            </div>
<div class="line"><a id="l03293" name="l03293"></a><span class="lineno"> 3293</span>            <span class="comment">//if (hullDamage &gt; 0 &amp;&amp; !result.getFleet().isPlayerFleet() &amp;&amp; playerInvolved) {</span></div>
<div class="line"><a id="l03294" name="l03294"></a><span class="lineno"> 3294</span><span class="comment">//          if (hullDamage &gt; 0 &amp;&amp; playerInvolved &amp;&amp;</span></div>
<div class="line"><a id="l03295" name="l03295"></a><span class="lineno"> 3295</span><span class="comment">//                  !battle.getPlayerSide().contains(battle.getSourceFleet(member))) {</span></div>
<div class="line"><a id="l03296" name="l03296"></a><span class="lineno"> 3296</span><span class="comment">//              playerDidSeriousDamage = true;</span></div>
<div class="line"><a id="l03297" name="l03297"></a><span class="lineno"> 3297</span><span class="comment">//          }</span></div>
<div class="line"><a id="l03298" name="l03298"></a><span class="lineno"> 3298</span><span class="comment">//          if (lostBattle) {</span></div>
<div class="line"><a id="l03299" name="l03299"></a><span class="lineno"> 3299</span><span class="comment">//              System.out.println(&quot;HERE&quot;);</span></div>
<div class="line"><a id="l03300" name="l03300"></a><span class="lineno"> 3300</span><span class="comment">//          }</span></div>
<div class="line"><a id="l03301" name="l03301"></a><span class="lineno"> 3301</span>            </div>
<div class="line"><a id="l03302" name="l03302"></a><span class="lineno"> 3302</span>            <span class="keywordtype">float</span> f1 = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279">computeLossFraction</a>(member, result, hullFraction, hullDamage);</div>
<div class="line"><a id="l03303" name="l03303"></a><span class="lineno"> 3303</span>            </div>
<div class="line"><a id="l03304" name="l03304"></a><span class="lineno"> 3304</span>            <span class="comment">// ship is disabled or destroyed, lose all crew for now, but it may be recovered later</span></div>
<div class="line"><a id="l03305" name="l03305"></a><span class="lineno"> 3305</span>            <span class="keywordflow">if</span> (result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">getDisabled</a>().contains(member) || result.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">getDestroyed</a>().contains(member)) {</div>
<div class="line"><a id="l03306" name="l03306"></a><span class="lineno"> 3306</span>                <span class="keywordflow">if</span> (playerInvolved &amp;&amp;</div>
<div class="line"><a id="l03307" name="l03307"></a><span class="lineno"> 3307</span>                        !<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af89feeda43f98a05fcefc5d8ea340d3e">getPlayerSide</a>().contains(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member))) {</div>
<div class="line"><a id="l03308" name="l03308"></a><span class="lineno"> 3308</span>                    <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c6cd59a17ae1851086701391fd5367d">playerDidSeriousDamage</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03309" name="l03309"></a><span class="lineno"> 3309</span>                }</div>
<div class="line"><a id="l03310" name="l03310"></a><span class="lineno"> 3310</span>                <span class="keywordflow">if</span> (player) {</div>
<div class="line"><a id="l03311" name="l03311"></a><span class="lineno"> 3311</span>                    <span class="keywordflow">if</span> (f1 &lt; 1) {</div>
<div class="line"><a id="l03312" name="l03312"></a><span class="lineno"> 3312</span>                        recoverable.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5b20d2480ff6bb6cc97346ee0a4650e4">addCrew</a>((1f - f1) * c.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>());</div>
<div class="line"><a id="l03313" name="l03313"></a><span class="lineno"> 3313</span>                    }</div>
<div class="line"><a id="l03314" name="l03314"></a><span class="lineno"> 3314</span>                    playerLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5b20d2480ff6bb6cc97346ee0a4650e4">addCrew</a>(c.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>() * 1f);</div>
<div class="line"><a id="l03315" name="l03315"></a><span class="lineno"> 3315</span>                    playerCapacityLost += member.getMaxCrew();</div>
<div class="line"><a id="l03316" name="l03316"></a><span class="lineno"> 3316</span>                }</div>
<div class="line"><a id="l03317" name="l03317"></a><span class="lineno"> 3317</span> </div>
<div class="line"><a id="l03318" name="l03318"></a><span class="lineno"> 3318</span>                crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5b20d2480ff6bb6cc97346ee0a4650e4">addCrew</a>(c.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>() * 1f);</div>
<div class="line"><a id="l03319" name="l03319"></a><span class="lineno"> 3319</span>                c.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#aed36abc6525fae23823558ed15463e6e">setCrew</a>(0);</div>
<div class="line"><a id="l03320" name="l03320"></a><span class="lineno"> 3320</span>                <span class="comment">//c.addCrew(-c.getCrew() * f1);</span></div>
<div class="line"><a id="l03321" name="l03321"></a><span class="lineno"> 3321</span>                <span class="comment">// c should now be left with the appropriate crew composition (base minus losses) to use</span></div>
<div class="line"><a id="l03322" name="l03322"></a><span class="lineno"> 3322</span>                <span class="comment">// as a starting point for boarding actions</span></div>
<div class="line"><a id="l03323" name="l03323"></a><span class="lineno"> 3323</span>                </div>
<div class="line"><a id="l03324" name="l03324"></a><span class="lineno"> 3324</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03325" name="l03325"></a><span class="lineno"> 3325</span>                <span class="comment">// the ship is still ok, only lose the non-recoverable casualties</span></div>
<div class="line"><a id="l03326" name="l03326"></a><span class="lineno"> 3326</span>                <span class="comment">// for fighters, which can lose more than their actual max crew </span></div>
<div class="line"><a id="l03327" name="l03327"></a><span class="lineno"> 3327</span>                <span class="keywordflow">if</span> (f1 &gt; 1) {</div>
<div class="line"><a id="l03328" name="l03328"></a><span class="lineno"> 3328</span>                    crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5b20d2480ff6bb6cc97346ee0a4650e4">addCrew</a>((f1 - 1) * c.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>());</div>
<div class="line"><a id="l03329" name="l03329"></a><span class="lineno"> 3329</span>                }</div>
<div class="line"><a id="l03330" name="l03330"></a><span class="lineno"> 3330</span>                </div>
<div class="line"><a id="l03331" name="l03331"></a><span class="lineno"> 3331</span>                <span class="keywordtype">float</span> lost = c.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>() * f1;</div>
<div class="line"><a id="l03332" name="l03332"></a><span class="lineno"> 3332</span>                <span class="comment">// both fighters and normal ships</span></div>
<div class="line"><a id="l03333" name="l03333"></a><span class="lineno"> 3333</span>                c.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#ab042e3743b5178d5e72828f292307979">transfer</a>(lost, crewLosses);</div>
<div class="line"><a id="l03334" name="l03334"></a><span class="lineno"> 3334</span>                </div>
<div class="line"><a id="l03335" name="l03335"></a><span class="lineno"> 3335</span>                <span class="keywordflow">if</span> (player) {</div>
<div class="line"><a id="l03336" name="l03336"></a><span class="lineno"> 3336</span>                    playerLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5b20d2480ff6bb6cc97346ee0a4650e4">addCrew</a>(lost);</div>
<div class="line"><a id="l03337" name="l03337"></a><span class="lineno"> 3337</span>                    playerCapacityLost += member.getMaxCrew() * f1;</div>
<div class="line"><a id="l03338" name="l03338"></a><span class="lineno"> 3338</span>                }</div>
<div class="line"><a id="l03339" name="l03339"></a><span class="lineno"> 3339</span>            }</div>
<div class="line"><a id="l03340" name="l03340"></a><span class="lineno"> 3340</span>            </div>
<div class="line"><a id="l03341" name="l03341"></a><span class="lineno"> 3341</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member).<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aca63b88ff3c36215530149f16259d5c1">isPlayerFleet</a>() &amp;&amp; </div>
<div class="line"><a id="l03342" name="l03342"></a><span class="lineno"> 3342</span>                    (crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>() &gt; 0 || crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5e1ca9f384ef07e3c55d1f84c83c90e1">getMarines</a>() &gt; 0)) {</div>
<div class="line"><a id="l03343" name="l03343"></a><span class="lineno"> 3343</span>                playerFleet = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member);</div>
<div class="line"><a id="l03344" name="l03344"></a><span class="lineno"> 3344</span>            }</div>
<div class="line"><a id="l03345" name="l03345"></a><span class="lineno"> 3345</span>            </div>
<div class="line"><a id="l03346" name="l03346"></a><span class="lineno"> 3346</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> cargo = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member).<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>();</div>
<div class="line"><a id="l03347" name="l03347"></a><span class="lineno"> 3347</span>            cargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a58b502616e01d21d1c1e105baa5df8eb">removeItems</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a>.<a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_1_1CargoItemType.html">CargoItemType</a>.RESOURCES, <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html">Commodities</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#a36e8f779c84e66e154e68763107600de">CREW</a>, (<span class="keywordtype">int</span>)crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>());</div>
<div class="line"><a id="l03348" name="l03348"></a><span class="lineno"> 3348</span>            cargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a3e75c9e343998a2e05bd3bf38ba388a5">removeMarines</a>((<span class="keywordtype">int</span>) crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5e1ca9f384ef07e3c55d1f84c83c90e1">getMarines</a>());</div>
<div class="line"><a id="l03349" name="l03349"></a><span class="lineno"> 3349</span>            crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#afdb817b836a7980c5b57ab2418a9a8b5">clear</a>();</div>
<div class="line"><a id="l03350" name="l03350"></a><span class="lineno"> 3350</span>        }</div>
<div class="line"><a id="l03351" name="l03351"></a><span class="lineno"> 3351</span>        </div>
<div class="line"><a id="l03352" name="l03352"></a><span class="lineno"> 3352</span>        <span class="comment">// lose over-capacity crew</span></div>
<div class="line"><a id="l03353" name="l03353"></a><span class="lineno"> 3353</span>        <span class="keywordflow">if</span> (playerFleet != <span class="keyword">null</span>) {</div>
<div class="line"><a id="l03354" name="l03354"></a><span class="lineno"> 3354</span>            playerFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#ad3307d3970ed5df23e197b45c19f3c21">updateCargoCapacities</a>();</div>
<div class="line"><a id="l03355" name="l03355"></a><span class="lineno"> 3355</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> cargo = playerFleet.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>();</div>
<div class="line"><a id="l03356" name="l03356"></a><span class="lineno"> 3356</span>            <span class="keywordtype">float</span> maxCrew = cargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ab309406e26977469727b2c982a55b6b6">getMaxPersonnel</a>();</div>
<div class="line"><a id="l03357" name="l03357"></a><span class="lineno"> 3357</span>            <span class="keywordtype">float</span> totalCrew = cargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a7d0439aca7779fc2115885665e7e59ff">getTotalCrew</a>();</div>
<div class="line"><a id="l03358" name="l03358"></a><span class="lineno"> 3358</span>            <span class="keywordtype">float</span> marines = cargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a1d81b3ea35bf2321799534bdd0136a84">getMarines</a>();</div>
<div class="line"><a id="l03359" name="l03359"></a><span class="lineno"> 3359</span>            <span class="keywordtype">float</span> recoverableTotal = recoverable.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>() + recoverable.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5e1ca9f384ef07e3c55d1f84c83c90e1">getMarines</a>();</div>
<div class="line"><a id="l03360" name="l03360"></a><span class="lineno"> 3360</span>            </div>
<div class="line"><a id="l03361" name="l03361"></a><span class="lineno"> 3361</span>            <span class="comment">//recoverableTotal = 0f; // uncomment to let recoverable crew not be lost due to being over capacity</span></div>
<div class="line"><a id="l03362" name="l03362"></a><span class="lineno"> 3362</span>            </div>
<div class="line"><a id="l03363" name="l03363"></a><span class="lineno"> 3363</span>            <span class="keywordtype">float</span> total = totalCrew + marines + recoverableTotal;</div>
<div class="line"><a id="l03364" name="l03364"></a><span class="lineno"> 3364</span>            <span class="keywordflow">if</span> (maxCrew + playerCapacityLost &gt; 0) {</div>
<div class="line"><a id="l03365" name="l03365"></a><span class="lineno"> 3365</span>                total *= playerCapacityLost / (maxCrew + playerCapacityLost);</div>
<div class="line"><a id="l03366" name="l03366"></a><span class="lineno"> 3366</span>            }</div>
<div class="line"><a id="l03367" name="l03367"></a><span class="lineno"> 3367</span><span class="comment">//          if (!wonBattle) {</span></div>
<div class="line"><a id="l03368" name="l03368"></a><span class="lineno"> 3368</span><span class="comment">//              total = totalCrew + marines;</span></div>
<div class="line"><a id="l03369" name="l03369"></a><span class="lineno"> 3369</span><span class="comment">//              recoverableTotal = 0f;</span></div>
<div class="line"><a id="l03370" name="l03370"></a><span class="lineno"> 3370</span><span class="comment">//          }</span></div>
<div class="line"><a id="l03371" name="l03371"></a><span class="lineno"> 3371</span>            <span class="comment">//if (total &gt; playerOvercapLosses) total = playerOvercapLosses;</span></div>
<div class="line"><a id="l03372" name="l03372"></a><span class="lineno"> 3372</span>            <span class="keywordflow">if</span> (total &gt; maxCrew) {</div>
<div class="line"><a id="l03373" name="l03373"></a><span class="lineno"> 3373</span>                <span class="comment">//float toLose = Math.min(maxExtraLoss, total - maxCrew);</span></div>
<div class="line"><a id="l03374" name="l03374"></a><span class="lineno"> 3374</span>                <span class="keywordtype">float</span> toLose = total - maxCrew;</div>
<div class="line"><a id="l03375" name="l03375"></a><span class="lineno"> 3375</span>                <span class="keywordflow">if</span> (toLose &gt; 0) {</div>
<div class="line"><a id="l03376" name="l03376"></a><span class="lineno"> 3376</span>                    <span class="comment">//recoverable.clear();</span></div>
<div class="line"><a id="l03377" name="l03377"></a><span class="lineno"> 3377</span>                    recoverable.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#ab042e3743b5178d5e72828f292307979">transfer</a>(Math.min(recoverableTotal, toLose), <span class="keyword">null</span>);</div>
<div class="line"><a id="l03378" name="l03378"></a><span class="lineno"> 3378</span>                    toLose -= recoverableTotal;</div>
<div class="line"><a id="l03379" name="l03379"></a><span class="lineno"> 3379</span>                    total -= recoverableTotal;</div>
<div class="line"><a id="l03380" name="l03380"></a><span class="lineno"> 3380</span>                    </div>
<div class="line"><a id="l03381" name="l03381"></a><span class="lineno"> 3381</span>                    <span class="keywordflow">if</span> (toLose &gt; 0 &amp;&amp; total &gt; 0) {</div>
<div class="line"><a id="l03382" name="l03382"></a><span class="lineno"> 3382</span>                        <span class="keywordtype">float</span> crew = cargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a4ff7dcb3c3b16501a83cdaa73ea903fd">getCrew</a>(); <span class="comment">// this is 99% the same as totalCrew, but leaving as is for now</span></div>
<div class="line"><a id="l03383" name="l03383"></a><span class="lineno"> 3383</span>    </div>
<div class="line"><a id="l03384" name="l03384"></a><span class="lineno"> 3384</span>                        crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#afdb817b836a7980c5b57ab2418a9a8b5">clear</a>();</div>
<div class="line"><a id="l03385" name="l03385"></a><span class="lineno"> 3385</span>                        crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5b20d2480ff6bb6cc97346ee0a4650e4">addCrew</a>((<span class="keywordtype">int</span>)Math.ceil(crew / total * toLose));</div>
<div class="line"><a id="l03386" name="l03386"></a><span class="lineno"> 3386</span>                        crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a86214ffdba5579fbac6ba5c315280531">addMarines</a>((<span class="keywordtype">int</span>)Math.ceil(marines / total * toLose));</div>
<div class="line"><a id="l03387" name="l03387"></a><span class="lineno"> 3387</span>                        </div>
<div class="line"><a id="l03388" name="l03388"></a><span class="lineno"> 3388</span>                        playerLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5b20d2480ff6bb6cc97346ee0a4650e4">addCrew</a>(crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>() * 1f);</div>
<div class="line"><a id="l03389" name="l03389"></a><span class="lineno"> 3389</span>                        playerLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a86214ffdba5579fbac6ba5c315280531">addMarines</a>(crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5e1ca9f384ef07e3c55d1f84c83c90e1">getMarines</a>() * 1f);</div>
<div class="line"><a id="l03390" name="l03390"></a><span class="lineno"> 3390</span>                        </div>
<div class="line"><a id="l03391" name="l03391"></a><span class="lineno"> 3391</span>                        cargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a58b502616e01d21d1c1e105baa5df8eb">removeItems</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a>.<a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_1_1CargoItemType.html">CargoItemType</a>.RESOURCES, <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html">Commodities</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#a36e8f779c84e66e154e68763107600de">CREW</a>, (<span class="keywordtype">int</span>)crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>());</div>
<div class="line"><a id="l03392" name="l03392"></a><span class="lineno"> 3392</span>                        cargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a3e75c9e343998a2e05bd3bf38ba388a5">removeMarines</a>((<span class="keywordtype">int</span>) crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5e1ca9f384ef07e3c55d1f84c83c90e1">getMarines</a>());</div>
<div class="line"><a id="l03393" name="l03393"></a><span class="lineno"> 3393</span>                        crewLosses.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#afdb817b836a7980c5b57ab2418a9a8b5">clear</a>();</div>
<div class="line"><a id="l03394" name="l03394"></a><span class="lineno"> 3394</span>                    }</div>
<div class="line"><a id="l03395" name="l03395"></a><span class="lineno"> 3395</span>                }</div>
<div class="line"><a id="l03396" name="l03396"></a><span class="lineno"> 3396</span>            }</div>
<div class="line"><a id="l03397" name="l03397"></a><span class="lineno"> 3397</span>        }</div>
<div class="line"><a id="l03398" name="l03398"></a><span class="lineno"> 3398</span>        </div>
<div class="line"><a id="l03399" name="l03399"></a><span class="lineno"> 3399</span>    }</div>
</div>
<div class="line"><a id="l03400" name="l03400"></a><span class="lineno"> 3400</span> </div>
<div class="foldopen" id="foldopen03401" data-start="{" data-end="}">
<div class="line"><a id="l03401" name="l03401"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6e826619c41b8305657e7088b57c6102"> 3401</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6e826619c41b8305657e7088b57c6102">recoverCrew</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet) {</div>
<div class="line"><a id="l03402" name="l03402"></a><span class="lineno"> 3402</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(fleet))) {</div>
<div class="line"><a id="l03403" name="l03403"></a><span class="lineno"> 3403</span>            DataForEncounterSide data = <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(fleet);</div>
<div class="line"><a id="l03404" name="l03404"></a><span class="lineno"> 3404</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> cargo = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>();</div>
<div class="line"><a id="l03405" name="l03405"></a><span class="lineno"> 3405</span>            <a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> rec = data.getRecoverableCrewLosses();</div>
<div class="line"><a id="l03406" name="l03406"></a><span class="lineno"> 3406</span>            </div>
<div class="line"><a id="l03407" name="l03407"></a><span class="lineno"> 3407</span>            cargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a>.<a class="code hl_class" href="enumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_1_1CargoItemType.html">CargoItemType</a>.RESOURCES, <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html">Commodities</a>.<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#a36e8f779c84e66e154e68763107600de">CREW</a>, rec.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">getCrew</a>());</div>
<div class="line"><a id="l03408" name="l03408"></a><span class="lineno"> 3408</span>            </div>
<div class="line"><a id="l03409" name="l03409"></a><span class="lineno"> 3409</span>            cargo.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a8dc3c42c9dc18f9a18d707eba0cb0d29">addMarines</a>((<span class="keywordtype">int</span>) rec.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5e1ca9f384ef07e3c55d1f84c83c90e1">getMarines</a>());</div>
<div class="line"><a id="l03410" name="l03410"></a><span class="lineno"> 3410</span>        }</div>
<div class="line"><a id="l03411" name="l03411"></a><span class="lineno"> 3411</span>    }</div>
</div>
<div class="line"><a id="l03412" name="l03412"></a><span class="lineno"> 3412</span>    </div>
<div class="line"><a id="l03413" name="l03413"></a><span class="lineno"> 3413</span>    </div>
<div class="line"><a id="l03414" name="l03414"></a><span class="lineno"> 3414</span>    </div>
<div class="foldopen" id="foldopen03415" data-start="{" data-end="}">
<div class="line"><a id="l03415" name="l03415"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac637fb9d93a578b2f1e5b38884abf2b1"> 3415</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac637fb9d93a578b2f1e5b38884abf2b1">getDifficulty</a>() {</div>
<div class="line"><a id="l03416" name="l03416"></a><span class="lineno"> 3416</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>;</div>
<div class="line"><a id="l03417" name="l03417"></a><span class="lineno"> 3417</span>    }</div>
</div>
<div class="line"><a id="l03418" name="l03418"></a><span class="lineno"> 3418</span> </div>
<div class="foldopen" id="foldopen03419" data-start="{" data-end="}">
<div class="line"><a id="l03419" name="l03419"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a374884c7e7fab772ccec3056070ae6e9"> 3419</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a374884c7e7fab772ccec3056070ae6e9">setDifficulty</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>) {</div>
<div class="line"><a id="l03420" name="l03420"></a><span class="lineno"> 3420</span>        this.difficulty = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>;</div>
<div class="line"><a id="l03421" name="l03421"></a><span class="lineno"> 3421</span>    }</div>
</div>
<div class="line"><a id="l03422" name="l03422"></a><span class="lineno"> 3422</span>    </div>
<div class="foldopen" id="foldopen03423" data-start="{" data-end="}">
<div class="line"><a id="l03423" name="l03423"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab0143337e3d81f6542e6cab99c14979a"> 3423</a></span>    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab0143337e3d81f6542e6cab99c14979a">isComputedDifficulty</a>() {</div>
<div class="line"><a id="l03424" name="l03424"></a><span class="lineno"> 3424</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">computedDifficulty</a>;</div>
<div class="line"><a id="l03425" name="l03425"></a><span class="lineno"> 3425</span>    }</div>
</div>
<div class="line"><a id="l03426" name="l03426"></a><span class="lineno"> 3426</span> </div>
<div class="foldopen" id="foldopen03427" data-start="{" data-end="}">
<div class="line"><a id="l03427" name="l03427"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6a51a28f6cb1f1b0efc9653f9f13152b"> 3427</a></span>    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6a51a28f6cb1f1b0efc9653f9f13152b">setComputedDifficulty</a>(<span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">computedDifficulty</a>) {</div>
<div class="line"><a id="l03428" name="l03428"></a><span class="lineno"> 3428</span>        this.computedDifficulty = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">computedDifficulty</a>;</div>
<div class="line"><a id="l03429" name="l03429"></a><span class="lineno"> 3429</span>    }</div>
</div>
<div class="line"><a id="l03430" name="l03430"></a><span class="lineno"> 3430</span> </div>
<div class="line"><a id="l03431" name="l03431"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af76cdb9a2026348dcf4bfb31227c934a"> 3431</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af76cdb9a2026348dcf4bfb31227c934a">MAX_XP_MULT</a> = 6f;</div>
<div class="line"><a id="l03432" name="l03432"></a><span class="lineno"> 3432</span>    </div>
<div class="line"><a id="l03433" name="l03433"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2"> 3433</a></span>    <span class="keyword">protected</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> = 1f;</div>
<div class="line"><a id="l03434" name="l03434"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83"> 3434</a></span>    <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">computedDifficulty</a> = <span class="keyword">false</span>;</div>
<div class="foldopen" id="foldopen03435" data-start="{" data-end="}">
<div class="line"><a id="l03435" name="l03435"></a><span class="lineno"><a class="line" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ee8885eb5143a124e99ab54675c0633"> 3435</a></span>    <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ee8885eb5143a124e99ab54675c0633">computeBattleDifficulty</a>() {</div>
<div class="line"><a id="l03436" name="l03436"></a><span class="lineno"> 3436</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">computedDifficulty</a>) <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>;</div>
<div class="line"><a id="l03437" name="l03437"></a><span class="lineno"> 3437</span>        </div>
<div class="line"><a id="l03438" name="l03438"></a><span class="lineno"> 3438</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">computedDifficulty</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03439" name="l03439"></a><span class="lineno"> 3439</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> == <span class="keyword">null</span> || !<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>()) {</div>
<div class="line"><a id="l03440" name="l03440"></a><span class="lineno"> 3440</span>            <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> = 1f;</div>
<div class="line"><a id="l03441" name="l03441"></a><span class="lineno"> 3441</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>;</div>
<div class="line"><a id="l03442" name="l03442"></a><span class="lineno"> 3442</span>        }</div>
<div class="line"><a id="l03443" name="l03443"></a><span class="lineno"> 3443</span>        </div>
<div class="line"><a id="l03444" name="l03444"></a><span class="lineno"> 3444</span>        <span class="keywordtype">float</span> scorePlayer = 0f;</div>
<div class="line"><a id="l03445" name="l03445"></a><span class="lineno"> 3445</span>        <span class="keywordtype">float</span> scoreEnemy = 0f;</div>
<div class="line"><a id="l03446" name="l03446"></a><span class="lineno"> 3446</span>        </div>
<div class="line"><a id="l03447" name="l03447"></a><span class="lineno"> 3447</span>        <span class="keywordtype">float</span> officerBase = 30;</div>
<div class="line"><a id="l03448" name="l03448"></a><span class="lineno"> 3448</span>        <span class="keywordtype">float</span> officerPerLevel = 15; </div>
<div class="line"><a id="l03449" name="l03449"></a><span class="lineno"> 3449</span>        <span class="comment">//float baseMult = 0.2f;</span></div>
<div class="line"><a id="l03450" name="l03450"></a><span class="lineno"> 3450</span>        <span class="keywordtype">float</span> baseMult = 2f;</div>
<div class="line"><a id="l03451" name="l03451"></a><span class="lineno"> 3451</span>        <span class="keywordtype">float</span> dModMult = 0.9f;</div>
<div class="line"><a id="l03452" name="l03452"></a><span class="lineno"> 3452</span>        </div>
<div class="line"><a id="l03453" name="l03453"></a><span class="lineno"> 3453</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3779a692b186e2a6a0c8a7f1f7e9c7db">getNonPlayerCombined</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>()) {</div>
<div class="line"><a id="l03454" name="l03454"></a><span class="lineno"> 3454</span>            <span class="keywordflow">if</span> (member.isMothballed()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03455" name="l03455"></a><span class="lineno"> 3455</span>            <span class="keywordtype">float</span> mult = baseMult;</div>
<div class="line"><a id="l03456" name="l03456"></a><span class="lineno"> 3456</span>            <span class="keywordflow">if</span> (member.isStation()) mult *= 1f;</div>
<div class="line"><a id="l03457" name="l03457"></a><span class="lineno"> 3457</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (member.isCivilian()) mult *= 0.25f;</div>
<div class="line"><a id="l03458" name="l03458"></a><span class="lineno"> 3458</span>            <span class="keywordflow">if</span> (member.getCaptain() != <span class="keyword">null</span> &amp;&amp; !member.getCaptain().isDefault()) {</div>
<div class="line"><a id="l03459" name="l03459"></a><span class="lineno"> 3459</span>                scoreEnemy += officerBase + officerPerLevel * Math.max(1f, member.getCaptain().getStats().getLevel());</div>
<div class="line"><a id="l03460" name="l03460"></a><span class="lineno"> 3460</span>            }</div>
<div class="line"><a id="l03461" name="l03461"></a><span class="lineno"> 3461</span>            <span class="keywordtype">int</span> dMods = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html">DModManager</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html#acf88477955b9965a39f1d9516e971ac7">getNumDMods</a>(member.getVariant());</div>
<div class="line"><a id="l03462" name="l03462"></a><span class="lineno"> 3462</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dMods; i++) {</div>
<div class="line"><a id="l03463" name="l03463"></a><span class="lineno"> 3463</span>                mult *= dModMult;</div>
<div class="line"><a id="l03464" name="l03464"></a><span class="lineno"> 3464</span>            }</div>
<div class="line"><a id="l03465" name="l03465"></a><span class="lineno"> 3465</span><span class="comment">//          String prefix = &quot;battle_difficulty_mult_&quot;;</span></div>
<div class="line"><a id="l03466" name="l03466"></a><span class="lineno"> 3466</span><span class="comment">//          for (String tag : member.getHullSpec().getTags()) {</span></div>
<div class="line"><a id="l03467" name="l03467"></a><span class="lineno"> 3467</span><span class="comment">//              if (tag.startsWith(prefix)) {</span></div>
<div class="line"><a id="l03468" name="l03468"></a><span class="lineno"> 3468</span><span class="comment">//                  tag = tag.replaceFirst(prefix, &quot;&quot;);</span></div>
<div class="line"><a id="l03469" name="l03469"></a><span class="lineno"> 3469</span><span class="comment">//                  mult *= Float.parseFloat(tag);</span></div>
<div class="line"><a id="l03470" name="l03470"></a><span class="lineno"> 3470</span><span class="comment">//                  break;</span></div>
<div class="line"><a id="l03471" name="l03471"></a><span class="lineno"> 3471</span><span class="comment">//              }</span></div>
<div class="line"><a id="l03472" name="l03472"></a><span class="lineno"> 3472</span><span class="comment">//          }</span></div>
<div class="line"><a id="l03473" name="l03473"></a><span class="lineno"> 3473</span>            <span class="comment">//scoreEnemy += member.getUnmodifiedDeploymentPointsCost() * mult;</span></div>
<div class="line"><a id="l03474" name="l03474"></a><span class="lineno"> 3474</span>            scoreEnemy += member.getFleetPointCost() * mult;</div>
<div class="line"><a id="l03475" name="l03475"></a><span class="lineno"> 3475</span>        }</div>
<div class="line"><a id="l03476" name="l03476"></a><span class="lineno"> 3476</span>        scoreEnemy *= 0.6f;</div>
<div class="line"><a id="l03477" name="l03477"></a><span class="lineno"> 3477</span>        </div>
<div class="line"><a id="l03478" name="l03478"></a><span class="lineno"> 3478</span>        <span class="keywordtype">float</span> maxPlayserShipScore = 0f;</div>
<div class="line"><a id="l03479" name="l03479"></a><span class="lineno"> 3479</span>        </div>
<div class="line"><a id="l03480" name="l03480"></a><span class="lineno"> 3480</span>        officerBase *= 0.5f;</div>
<div class="line"><a id="l03481" name="l03481"></a><span class="lineno"> 3481</span>        officerPerLevel *= 0.5f;</div>
<div class="line"><a id="l03482" name="l03482"></a><span class="lineno"> 3482</span>        Set&lt;PersonAPI&gt; seenOfficers = <span class="keyword">new</span> HashSet&lt;PersonAPI&gt;();</div>
<div class="line"><a id="l03483" name="l03483"></a><span class="lineno"> 3483</span>        <span class="keywordtype">int</span> unofficeredShips = 0;</div>
<div class="line"><a id="l03484" name="l03484"></a><span class="lineno"> 3484</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member : <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a9ee7b99f52ab5de7fecc4fb16434aae8">getPlayerCombined</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>()) {</div>
<div class="line"><a id="l03485" name="l03485"></a><span class="lineno"> 3485</span>            <span class="keywordflow">if</span> (member.isMothballed()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03486" name="l03486"></a><span class="lineno"> 3486</span>            <span class="keywordtype">float</span> mult = baseMult;</div>
<div class="line"><a id="l03487" name="l03487"></a><span class="lineno"> 3487</span>            <span class="keywordflow">if</span> (member.isStation()) mult *= 1f;</div>
<div class="line"><a id="l03488" name="l03488"></a><span class="lineno"> 3488</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (member.isCivilian()) mult *= 0.25f;</div>
<div class="line"><a id="l03489" name="l03489"></a><span class="lineno"> 3489</span>            <span class="keywordflow">if</span> (member.getCaptain() != <span class="keyword">null</span> &amp;&amp; !member.getCaptain().isDefault()) {</div>
<div class="line"><a id="l03490" name="l03490"></a><span class="lineno"> 3490</span>                scorePlayer += officerBase + officerPerLevel * Math.max(1f, member.getCaptain().getStats().getLevel());</div>
<div class="line"><a id="l03491" name="l03491"></a><span class="lineno"> 3491</span>                seenOfficers.add(member.getCaptain());</div>
<div class="line"><a id="l03492" name="l03492"></a><span class="lineno"> 3492</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!member.isCivilian()) {</div>
<div class="line"><a id="l03493" name="l03493"></a><span class="lineno"> 3493</span>                unofficeredShips++;</div>
<div class="line"><a id="l03494" name="l03494"></a><span class="lineno"> 3494</span>            }</div>
<div class="line"><a id="l03495" name="l03495"></a><span class="lineno"> 3495</span>            <span class="keywordtype">int</span> dMods = <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html">DModManager</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html#acf88477955b9965a39f1d9516e971ac7">getNumDMods</a>(member.getVariant());</div>
<div class="line"><a id="l03496" name="l03496"></a><span class="lineno"> 3496</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dMods; i++) {</div>
<div class="line"><a id="l03497" name="l03497"></a><span class="lineno"> 3497</span>                mult *= dModMult;</div>
<div class="line"><a id="l03498" name="l03498"></a><span class="lineno"> 3498</span>            }</div>
<div class="line"><a id="l03499" name="l03499"></a><span class="lineno"> 3499</span>            <span class="comment">//float currShipBaseScore = member.getUnmodifiedDeploymentPointsCost() * mult;</span></div>
<div class="line"><a id="l03500" name="l03500"></a><span class="lineno"> 3500</span>            <span class="keywordtype">float</span> currShipBaseScore = member.getFleetPointCost() * mult;</div>
<div class="line"><a id="l03501" name="l03501"></a><span class="lineno"> 3501</span>            scorePlayer += currShipBaseScore;</div>
<div class="line"><a id="l03502" name="l03502"></a><span class="lineno"> 3502</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) != <span class="keyword">null</span> &amp;&amp; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member).<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aca63b88ff3c36215530149f16259d5c1">isPlayerFleet</a>()) {</div>
<div class="line"><a id="l03503" name="l03503"></a><span class="lineno"> 3503</span>                maxPlayserShipScore = Math.max(maxPlayserShipScore, currShipBaseScore);</div>
<div class="line"><a id="l03504" name="l03504"></a><span class="lineno"> 3504</span>            }</div>
<div class="line"><a id="l03505" name="l03505"></a><span class="lineno"> 3505</span>        }</div>
<div class="line"><a id="l03506" name="l03506"></a><span class="lineno"> 3506</span>        </div>
<div class="line"><a id="l03507" name="l03507"></a><span class="lineno"> 3507</span>        <span class="comment">// so that removing officers from ships prior to a fight doesn&#39;t increase the XP gained</span></div>
<div class="line"><a id="l03508" name="l03508"></a><span class="lineno"> 3508</span>        <span class="comment">// otherwise would usually be optimal to do this prior to every fight for any officers </span></div>
<div class="line"><a id="l03509" name="l03509"></a><span class="lineno"> 3509</span>        <span class="comment">// on ships that aren&#39;t expected to be deployed</span></div>
<div class="line"><a id="l03510" name="l03510"></a><span class="lineno"> 3510</span>        <span class="keywordflow">for</span> (<a class="code hl_interface" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1OfficerDataAPI.html">OfficerDataAPI</a> od : <a class="code hl_class" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">Global</a>.<a class="code hl_function" href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">getSector</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">getPlayerFleet</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aa8a92dfcdabaca844bc576c674d01656">getOfficersCopy</a>()) {</div>
<div class="line"><a id="l03511" name="l03511"></a><span class="lineno"> 3511</span>            <span class="keywordflow">if</span> (seenOfficers.contains(od.getPerson())) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03512" name="l03512"></a><span class="lineno"> 3512</span>            <span class="keywordflow">if</span> (od.getPerson().isPlayer()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03513" name="l03513"></a><span class="lineno"> 3513</span>            <span class="keywordflow">if</span> (unofficeredShips &lt;= 0) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03514" name="l03514"></a><span class="lineno"> 3514</span>            unofficeredShips--;</div>
<div class="line"><a id="l03515" name="l03515"></a><span class="lineno"> 3515</span>            scorePlayer += officerBase + officerPerLevel * Math.max(1f, od.getPerson().getStats().getLevel());</div>
<div class="line"><a id="l03516" name="l03516"></a><span class="lineno"> 3516</span>        }</div>
<div class="line"><a id="l03517" name="l03517"></a><span class="lineno"> 3517</span>    </div>
<div class="line"><a id="l03518" name="l03518"></a><span class="lineno"> 3518</span>        scorePlayer = Math.max(scorePlayer, Math.min(scoreEnemy * 0.5f, maxPlayserShipScore * 6f));</div>
<div class="line"><a id="l03519" name="l03519"></a><span class="lineno"> 3519</span>        </div>
<div class="line"><a id="l03520" name="l03520"></a><span class="lineno"> 3520</span>        <span class="keywordflow">if</span> (scorePlayer &lt; 1) scorePlayer = 1;</div>
<div class="line"><a id="l03521" name="l03521"></a><span class="lineno"> 3521</span>        <span class="keywordflow">if</span> (scoreEnemy &lt; 1) scoreEnemy = 1;</div>
<div class="line"><a id="l03522" name="l03522"></a><span class="lineno"> 3522</span>        </div>
<div class="line"><a id="l03523" name="l03523"></a><span class="lineno"> 3523</span>        </div>
<div class="line"><a id="l03524" name="l03524"></a><span class="lineno"> 3524</span><span class="comment">//      difficulty = scoreEnemy / (scorePlayer + scoreEnemy);</span></div>
<div class="line"><a id="l03525" name="l03525"></a><span class="lineno"> 3525</span><span class="comment">//      if (difficulty &gt; 1) difficulty = 1;</span></div>
<div class="line"><a id="l03526" name="l03526"></a><span class="lineno"> 3526</span><span class="comment">//      if (scorePlayer &lt; scoreEnemy) {</span></div>
<div class="line"><a id="l03527" name="l03527"></a><span class="lineno"> 3527</span><span class="comment">//          difficulty *= MAX_XP_MULT;</span></div>
<div class="line"><a id="l03528" name="l03528"></a><span class="lineno"> 3528</span><span class="comment">//      }</span></div>
<div class="line"><a id="l03529" name="l03529"></a><span class="lineno"> 3529</span>        <span class="comment">//difficulty = scoreEnemy / (1f * scorePlayer);</span></div>
<div class="line"><a id="l03530" name="l03530"></a><span class="lineno"> 3530</span>        <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> = scoreEnemy / scorePlayer;</div>
<div class="line"><a id="l03531" name="l03531"></a><span class="lineno"> 3531</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> &lt; 0) <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> = 0;</div>
<div class="line"><a id="l03532" name="l03532"></a><span class="lineno"> 3532</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> &gt; <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af76cdb9a2026348dcf4bfb31227c934a">MAX_XP_MULT</a>) <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> = <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af76cdb9a2026348dcf4bfb31227c934a">MAX_XP_MULT</a>;</div>
<div class="line"><a id="l03533" name="l03533"></a><span class="lineno"> 3533</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>;</div>
<div class="line"><a id="l03534" name="l03534"></a><span class="lineno"> 3534</span>    }</div>
</div>
<div class="line"><a id="l03535" name="l03535"></a><span class="lineno"> 3535</span>}</div>
</div>
<div class="line"><a id="l03536" name="l03536"></a><span class="lineno"> 3536</span> </div>
<div class="line"><a id="l03537" name="l03537"></a><span class="lineno"> 3537</span> </div>
<div class="line"><a id="l03538" name="l03538"></a><span class="lineno"> 3538</span> </div>
<div class="line"><a id="l03539" name="l03539"></a><span class="lineno"> 3539</span> </div>
<div class="line"><a id="l03540" name="l03540"></a><span class="lineno"> 3540</span> </div>
<div class="line"><a id="l03541" name="l03541"></a><span class="lineno"> 3541</span> </div>
<div class="line"><a id="l03542" name="l03542"></a><span class="lineno"> 3542</span> </div>
<div class="line"><a id="l03543" name="l03543"></a><span class="lineno"> 3543</span> </div>
<div class="line"><a id="l03544" name="l03544"></a><span class="lineno"> 3544</span> </div>
<div class="line"><a id="l03545" name="l03545"></a><span class="lineno"> 3545</span> </div>
<div class="line"><a id="l03546" name="l03546"></a><span class="lineno"> 3546</span> </div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1Global_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html">com.fs.starfarer.api.Global</a></div><div class="ttdef"><b>Definition</b> <a href="Global_8java_source.html#l00013">Global.java:13</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1Global_html_a735e84eaa3e885badd80c5971a32849f"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a735e84eaa3e885badd80c5971a32849f">com.fs.starfarer.api.Global.getSettings</a></div><div class="ttdeci">static SettingsAPI getSettings()</div><div class="ttdef"><b>Definition</b> <a href="Global_8java_source.html#l00057">Global.java:57</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1Global_html_a7d7095e6e2cc1cb45a34e060e8aeebb8"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">com.fs.starfarer.api.Global.getFactory</a></div><div class="ttdeci">static FactoryAPI getFactory()</div><div class="ttdef"><b>Definition</b> <a href="Global_8java_source.html#l00041">Global.java:41</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1Global_html_afca8164b2446371c2d5415aa72a0a733"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#afca8164b2446371c2d5415aa72a0a733">com.fs.starfarer.api.Global.getSector</a></div><div class="ttdeci">static SectorAPI getSector()</div><div class="ttdef"><b>Definition</b> <a href="Global_8java_source.html#l00065">Global.java:65</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html">com.fs.starfarer.api.campaign.CombatDamageData</a></div><div class="ttdef"><b>Definition</b> <a href="CombatDamageData_8java_source.html#l00008">CombatDamageData.java:8</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData_html_a6b0f50babb539beff80373ffa653edd0"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html#a6b0f50babb539beff80373ffa653edd0">com.fs.starfarer.api.campaign.CombatDamageData.getDealt</a></div><div class="ttdeci">Map&lt; FleetMemberAPI, DealtByFleetMember &gt; getDealt()</div><div class="ttdef"><b>Definition</b> <a href="CombatDamageData_8java_source.html#l00045">CombatDamageData.java:45</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData_html_a8e40f5c00f166b63c0d73eb46ee7390f"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html#a8e40f5c00f166b63c0d73eb46ee7390f">com.fs.starfarer.api.campaign.CombatDamageData.add</a></div><div class="ttdeci">void add(CombatDamageData other)</div><div class="ttdef"><b>Definition</b> <a href="CombatDamageData_8java_source.html#l00058">CombatDamageData.java:58</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1listeners_1_1ListenerUtil_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1listeners_1_1ListenerUtil.html">com.fs.starfarer.api.campaign.listeners.ListenerUtil</a></div><div class="ttdef"><b>Definition</b> <a href="ListenerUtil_8java_source.html#l00050">ListenerUtil.java:50</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1listeners_1_1ListenerUtil_html_aa894fc4c69e1e183307c08c03b696428"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1listeners_1_1ListenerUtil.html#aa894fc4c69e1e183307c08c03b696428">com.fs.starfarer.api.campaign.listeners.ListenerUtil.reportExtraSalvageShown</a></div><div class="ttdeci">static void reportExtraSalvageShown(SectorEntityToken entity)</div><div class="ttdef"><b>Definition</b> <a href="ListenerUtil_8java_source.html#l00172">ListenerUtil.java:172</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableStat_html_a6ae491ba70695a2098f790d7421d9ef2"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableStat.html#a6ae491ba70695a2098f790d7421d9ef2">com.fs.starfarer.api.combat.MutableStat.getModifiedValue</a></div><div class="ttdeci">float getModifiedValue()</div><div class="ttdef"><b>Definition</b> <a href="MutableStat_8java_source.html#l00345">MutableStat.java:345</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1StatBonus_html_af16110c6c18625c9f384078ce824bdda"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1StatBonus.html#af16110c6c18625c9f384078ce824bdda">com.fs.starfarer.api.combat.StatBonus.computeEffective</a></div><div class="ttdeci">float computeEffective(float baseValue)</div><div class="ttdef"><b>Definition</b> <a href="StatBonus_8java_source.html#l00259">StatBonus.java:259</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html">com.fs.starfarer.api.impl.campaign.DModManager</a></div><div class="ttdef"><b>Definition</b> <a href="DModManager_8java_source.html#l00027">DModManager.java:27</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager_html_a3b69ea49f4b58f91c4db01c261ffcce1"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html#a3b69ea49f4b58f91c4db01c261ffcce1">com.fs.starfarer.api.impl.campaign.DModManager.addDMods</a></div><div class="ttdeci">static void addDMods(FleetMemberData data, boolean own, CampaignFleetAPI recoverer, Random random)</div><div class="ttdef"><b>Definition</b> <a href="DModManager_8java_source.html#l00057">DModManager.java:57</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager_html_a76922488328336d5d55254db10f762a5"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html#a76922488328336d5d55254db10f762a5">com.fs.starfarer.api.impl.campaign.DModManager.setDHull</a></div><div class="ttdeci">static boolean setDHull(ShipVariantAPI variant)</div><div class="ttdef"><b>Definition</b> <a href="DModManager_8java_source.html#l00039">DModManager.java:39</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager_html_acf88477955b9965a39f1d9516e971ac7"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DModManager.html#acf88477955b9965a39f1d9516e971ac7">com.fs.starfarer.api.impl.campaign.DModManager.getNumDMods</a></div><div class="ttdeci">static int getNumDMods(ShipVariantAPI variant)</div><div class="ttdef"><b>Definition</b> <a href="DModManager_8java_source.html#l00334">DModManager.java:334</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DebugFlags_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DebugFlags.html">com.fs.starfarer.api.impl.campaign.DebugFlags</a></div><div class="ttdef"><b>Definition</b> <a href="DebugFlags_8java_source.html#l00006">DebugFlags.java:6</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DebugFlags_html_adcff2031d51caccb9c4f6d712da5b313"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1DebugFlags.html#adcff2031d51caccb9c4f6d712da5b313">com.fs.starfarer.api.impl.campaign.DebugFlags.ALLOW_KNOWN_HULLMOD_DROPS</a></div><div class="ttdeci">static boolean ALLOW_KNOWN_HULLMOD_DROPS</div><div class="ttdef"><b>Definition</b> <a href="DebugFlags_8java_source.html#l00012">DebugFlags.java:12</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html">com.fs.starfarer.api.impl.campaign.FleetEncounterContext</a></div><div class="ttdef"><b>Definition</b> <a href="#l00072">FleetEncounterContext.java:72</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a01cea5d0a5dd74d201e0588390054030"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a01cea5d0a5dd74d201e0588390054030">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getRecoverableShips</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; getRecoverableShips(BattleAPI battle, CampaignFleetAPI winningFleet, CampaignFleetAPI otherFleet)</div><div class="ttdef"><b>Definition</b> <a href="#l01428">FleetEncounterContext.java:1428</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a042e693cf1b8e7484da958c994716f1f"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a042e693cf1b8e7484da958c994716f1f">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getLoot</a></div><div class="ttdeci">CargoAPI getLoot()</div><div class="ttdef"><b>Definition</b> <a href="#l02598">FleetEncounterContext.java:2598</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a043b12ebb9addd2620f15faba59623a8"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerOnlyRetreated</a></div><div class="ttdeci">boolean playerOnlyRetreated</div><div class="ttdef"><b>Definition</b> <a href="#l00077">FleetEncounterContext.java:77</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a0b3bf7dfe563c9dc263819f15e92a4d5"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b3bf7dfe563c9dc263819f15e92a4d5">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.lootWings</a></div><div class="ttdeci">void lootWings(FleetMemberAPI member, ShipVariantAPI variant, boolean own, float mult)</div><div class="ttdef"><b>Definition</b> <a href="#l02657">FleetEncounterContext.java:2657</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a0b41ca54a5848a0849d021c3fa275279"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeLossFraction</a></div><div class="ttdeci">float computeLossFraction(FleetMemberAPI member, EngagementResultForFleetAPI result, float hullFraction, float hullDamage)</div><div class="ttdef"><b>Definition</b> <a href="#l03178">FleetEncounterContext.java:3178</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a0ee25f6b85f85660ed294042c5dc3b25"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0ee25f6b85f85660ed294042c5dc3b25">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.performPostVictoryRecovery</a></div><div class="ttdeci">float performPostVictoryRecovery(EngagementResultForFleetAPI winnerResult, EngagementResultForFleetAPI loserResult)</div><div class="ttdef"><b>Definition</b> <a href="#l00865">FleetEncounterContext.java:865</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a124d38d8bb1d4310d2202a3a8dbc3ef5"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a124d38d8bb1d4310d2202a3a8dbc3ef5">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.generateLoot</a></div><div class="ttdeci">void generateLoot(List&lt; FleetMemberAPI &gt; recoveredShips, boolean withCredits)</div><div class="ttdef"><b>Definition</b> <a href="#l02195">FleetEncounterContext.java:2195</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a13e5b583e4e093a16c7cff304dda995c"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a13e5b583e4e093a16c7cff304dda995c">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.addPotentialOfficer</a></div><div class="ttdeci">void addPotentialOfficer()</div><div class="ttdef"><b>Definition</b> <a href="#l02127">FleetEncounterContext.java:2127</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a15a96a30a1b9c497887bdfde7bac9106"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.engagedInActualBattle</a></div><div class="ttdeci">boolean engagedInActualBattle</div><div class="ttdef"><b>Definition</b> <a href="#l00076">FleetEncounterContext.java:76</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a16949991b9097d37f0b3601cf6560082"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16949991b9097d37f0b3601cf6560082">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.ongoingBattle</a></div><div class="ttdeci">boolean ongoingBattle</div><div class="ttdef"><b>Definition</b> <a href="#l00082">FleetEncounterContext.java:82</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a16d6babca0a60e9da9153bb4c87d5a4b"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6babca0a60e9da9153bb4c87d5a4b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.didPlayerWinMostRecentBattleOfEncounter</a></div><div class="ttdeci">boolean didPlayerWinMostRecentBattleOfEncounter()</div><div class="ttdef"><b>Definition</b> <a href="#l01008">FleetEncounterContext.java:1008</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a16d6d487cd720e2081fb64cd6427d231"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6d487cd720e2081fb64cd6427d231">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getSalvageMult</a></div><div class="ttdeci">float getSalvageMult(Status status)</div><div class="ttdef"><b>Definition</b> <a href="#l01041">FleetEncounterContext.java:1041</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a17ec4b8987783f4720cc420b490d519e"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a17ec4b8987783f4720cc420b490d519e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyShipLosses</a></div><div class="ttdeci">void applyShipLosses(EngagementResultAPI result)</div><div class="ttdef"><b>Definition</b> <a href="#l02960">FleetEncounterContext.java:2960</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a18389daf6c77f30b0d7ad43e69839b9c"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a18389daf6c77f30b0d7ad43e69839b9c">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.tallyOfficerTime</a></div><div class="ttdeci">void tallyOfficerTime(DataForEncounterSide data, EngagementResultForFleetAPI result)</div><div class="ttdef"><b>Definition</b> <a href="#l00472">FleetEncounterContext.java:472</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a19912c0a411dad78f4c5c3d6c3bf327a"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a19912c0a411dad78f4c5c3d6c3bf327a">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setNoHarryBecauseOfStation</a></div><div class="ttdeci">void setNoHarryBecauseOfStation(boolean noHarryBecauseOfStation)</div><div class="ttdef"><b>Definition</b> <a href="#l00752">FleetEncounterContext.java:752</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a1b16b7b09022902e5d8904edf7e9079b"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a1b16b7b09022902e5d8904edf7e9079b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyCREffect</a></div><div class="ttdeci">void applyCREffect(EngagementResultForFleetAPI result)</div><div class="ttdef"><b>Definition</b> <a href="#l02972">FleetEncounterContext.java:2972</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a2161b54b093294c2e5695a2e0fb1abc7"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2161b54b093294c2e5695a2e0fb1abc7">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.gainOfficerXP</a></div><div class="ttdeci">void gainOfficerXP(DataForEncounterSide data, float xp)</div><div class="ttdef"><b>Definition</b> <a href="#l01940">FleetEncounterContext.java:1940</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a2164dbd9910b266e1a79b91d4fe92d03"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2164dbd9910b266e1a79b91d4fe92d03">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setAllyFPHullDamageToEnemies</a></div><div class="ttdeci">void setAllyFPHullDamageToEnemies(float allyFPHullDamageToEnemies)</div><div class="ttdef"><b>Definition</b> <a href="#l01973">FleetEncounterContext.java:1973</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a220809257f18720b79de09323306999e"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a220809257f18720b79de09323306999e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setSalvageRandom</a></div><div class="ttdeci">void setSalvageRandom(Random salvageRandom)</div><div class="ttdef"><b>Definition</b> <a href="#l02211">FleetEncounterContext.java:2211</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a22aac77a36309fdf8129a81d64d253b2"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.difficulty</a></div><div class="ttdeci">float difficulty</div><div class="ttdef"><b>Definition</b> <a href="#l03433">FleetEncounterContext.java:3433</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a230abb96b3b20fb578c144fb6f495532"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a230abb96b3b20fb578c144fb6f495532">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.ENGAGE_DISABLE_CHANCE</a></div><div class="ttdeci">static final float ENGAGE_DISABLE_CHANCE</div><div class="ttdef"><b>Definition</b> <a href="#l01173">FleetEncounterContext.java:1173</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a238b22364359664b10ce834e3fe98624"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a238b22364359664b10ce834e3fe98624">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setTextPanelForXPGain</a></div><div class="ttdeci">void setTextPanelForXPGain(TextPanelAPI textPanelForXPGain)</div><div class="ttdef"><b>Definition</b> <a href="#l00744">FleetEncounterContext.java:744</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a263ae72ae33afdfab40048c4b75c10b5"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getLoserData</a></div><div class="ttdeci">DataForEncounterSide getLoserData()</div><div class="ttdef"><b>Definition</b> <a href="#l00135">FleetEncounterContext.java:135</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a274c24ec32886d4926bafb01906150e9"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a274c24ec32886d4926bafb01906150e9">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.lootHullMods</a></div><div class="ttdeci">void lootHullMods(FleetMemberAPI member, ShipVariantAPI variant, float mult)</div><div class="ttdef"><b>Definition</b> <a href="#l02602">FleetEncounterContext.java:2602</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a28c6b7366c0368028794f745eeed89ad"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a28c6b7366c0368028794f745eeed89ad">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.adjustPlayerReputation</a></div><div class="ttdeci">boolean adjustPlayerReputation(InteractionDialogAPI dialog, String ffText)</div><div class="ttdef"><b>Definition</b> <a href="#l00548">FleetEncounterContext.java:548</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a29840ae2276ddd5d108438c68826ab62"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a29840ae2276ddd5d108438c68826ab62">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.wasLastEngagementEscape</a></div><div class="ttdeci">boolean wasLastEngagementEscape()</div><div class="ttdef"><b>Definition</b> <a href="#l00983">FleetEncounterContext.java:983</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a2a4651bd161abe00bb31c825d54ccdab"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.recoverableShips</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; recoverableShips</div><div class="ttdef"><b>Definition</b> <a href="#l01426">FleetEncounterContext.java:1426</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a2afc066cdd9155e4197c0036918d2852"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2afc066cdd9155e4197c0036918d2852">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getCargoLootMult</a></div><div class="ttdeci">float getCargoLootMult(Status status)</div><div class="ttdef"><b>Definition</b> <a href="#l01061">FleetEncounterContext.java:1061</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a2fcfb978de8b0185648d5ab94365b12e"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2fcfb978de8b0185648d5ab94365b12e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.xpGained</a></div><div class="ttdeci">float xpGained</div><div class="ttdef"><b>Definition</b> <a href="#l02061">FleetEncounterContext.java:2061</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a33be18c67e2c0aed2e95799be7488588"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33be18c67e2c0aed2e95799be7488588">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isNoRepImpact</a></div><div class="ttdeci">boolean isNoRepImpact()</div><div class="ttdef"><b>Definition</b> <a href="#l00540">FleetEncounterContext.java:540</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a33eddabaaa90178365af579aabd8ffb5"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerFPHullDamageToEnemies</a></div><div class="ttdeci">float playerFPHullDamageToEnemies</div><div class="ttdef"><b>Definition</b> <a href="#l01977">FleetEncounterContext.java:1977</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a349be3fe402337467f44a20e1b2bfe9b"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a349be3fe402337467f44a20e1b2bfe9b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.origSourceForRecoveredShips</a></div><div class="ttdeci">Map&lt; FleetMemberAPI, CampaignFleetAPI &gt; origSourceForRecoveredShips</div><div class="ttdef"><b>Definition</b> <a href="#l00089">FleetEncounterContext.java:89</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a374884c7e7fab772ccec3056070ae6e9"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a374884c7e7fab772ccec3056070ae6e9">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setDifficulty</a></div><div class="ttdeci">void setDifficulty(float difficulty)</div><div class="ttdef"><b>Definition</b> <a href="#l03419">FleetEncounterContext.java:3419</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a381e607369769826578a1760f9ca0305"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getBattle</a></div><div class="ttdeci">BattleAPI getBattle()</div><div class="ttdef"><b>Definition</b> <a href="#l00103">FleetEncounterContext.java:103</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a3d5e1d5b9288539a914fcf5cd50eb854"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a3d5e1d5b9288539a914fcf5cd50eb854">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyPursuitOption</a></div><div class="ttdeci">void applyPursuitOption(CampaignFleetAPI pursuingFleet, CampaignFleetAPI otherFleet, PursuitOption pursuitOption)</div><div class="ttdef"><b>Definition</b> <a href="#l00947">FleetEncounterContext.java:947</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a4467f5e99f2dffb06b84249466eeb88e"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4467f5e99f2dffb06b84249466eeb88e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.ENGAGE_DESTROY_CHANCE</a></div><div class="ttdeci">static final float ENGAGE_DESTROY_CHANCE</div><div class="ttdef"><b>Definition</b> <a href="#l01174">FleetEncounterContext.java:1174</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a4727fed30fbc87f19c6eebbe4ddd0ca0"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerFPHullDamageToAlliesByFaction</a></div><div class="ttdeci">Map&lt; FactionAPI, Float &gt; playerFPHullDamageToAlliesByFaction</div><div class="ttdef"><b>Definition</b> <a href="#l01980">FleetEncounterContext.java:1980</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a494d964ac4f5c92fa01971e52f51d655"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a494d964ac4f5c92fa01971e52f51d655">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyAfterBattleEffectsIfThereWasABattle</a></div><div class="ttdeci">void applyAfterBattleEffectsIfThereWasABattle()</div><div class="ttdef"><b>Definition</b> <a href="#l00756">FleetEncounterContext.java:756</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a49896c340e7e7ca2925f8a355c66080c"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a49896c340e7e7ca2925f8a355c66080c">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getAllyFPHullDamageToEnemies</a></div><div class="ttdeci">float getAllyFPHullDamageToEnemies()</div><div class="ttdef"><b>Definition</b> <a href="#l01969">FleetEncounterContext.java:1969</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a4b2d76a4b1b4a74d8f95d4af61562ce1"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4b2d76a4b1b4a74d8f95d4af61562ce1">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isOtherFleetHarriedPlayer</a></div><div class="ttdeci">boolean isOtherFleetHarriedPlayer()</div><div class="ttdef"><b>Definition</b> <a href="#l00156">FleetEncounterContext.java:156</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a4dec6defad11beafe5e437303f7a95ac"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isAutoresolve</a></div><div class="ttdeci">boolean isAutoresolve</div><div class="ttdef"><b>Definition</b> <a href="#l00084">FleetEncounterContext.java:84</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a4ea007b28fa7e66f8b9bf585f8fdc974"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4ea007b28fa7e66f8b9bf585f8fdc974">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.FleetEncounterContext</a></div><div class="ttdeci">FleetEncounterContext()</div><div class="ttdef"><b>Definition</b> <a href="#l00091">FleetEncounterContext.java:91</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a546ec66d0b3b0946f0433194879082e9"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computePlayerContribFraction</a></div><div class="ttdeci">float computePlayerContribFraction()</div><div class="ttdef"><b>Definition</b> <a href="#l02039">FleetEncounterContext.java:2039</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a54737242ac099e9dc420bab76306946b"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54737242ac099e9dc420bab76306946b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isNoHarryBecauseOfStation</a></div><div class="ttdeci">boolean isNoHarryBecauseOfStation()</div><div class="ttdef"><b>Definition</b> <a href="#l00749">FleetEncounterContext.java:749</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a54c1f6b7440de836d86691a023f884ee"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54c1f6b7440de836d86691a023f884ee">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getWinner</a></div><div class="ttdeci">CampaignFleetAPI getWinner()</div><div class="ttdef"><b>Definition</b> <a href="#l02873">FleetEncounterContext.java:2873</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a59c5949fe670201d6051c086adca25ba"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a59c5949fe670201d6051c086adca25ba">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isEngagedInActualBattle</a></div><div class="ttdeci">boolean isEngagedInActualBattle()</div><div class="ttdef"><b>Definition</b> <a href="#l00223">FleetEncounterContext.java:223</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a5b7d89ed9a1c0620bc8989bee9f23a58"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5b7d89ed9a1c0620bc8989bee9f23a58">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.gainXP</a></div><div class="ttdeci">void gainXP(DataForEncounterSide side, DataForEncounterSide otherSide)</div><div class="ttdef"><b>Definition</b> <a href="#l02062">FleetEncounterContext.java:2062</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a5c4aa47c971be667a4a1c4bded5410e2"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c4aa47c971be667a4a1c4bded5410e2">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.gainXP</a></div><div class="ttdeci">void gainXP()</div><div class="ttdef"><b>Definition</b> <a href="#l01927">FleetEncounterContext.java:1927</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a5c676597d812ac6f2074e6515b8d3a8a"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c676597d812ac6f2074e6515b8d3a8a">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.DOCK_SUCCESS_CHANCE</a></div><div class="ttdeci">static final float DOCK_SUCCESS_CHANCE</div><div class="ttdef"><b>Definition</b> <a href="#l01177">FleetEncounterContext.java:1177</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a5c6cd59a17ae1851086701391fd5367d"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c6cd59a17ae1851086701391fd5367d">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerDidSeriousDamage</a></div><div class="ttdeci">boolean playerDidSeriousDamage</div><div class="ttdef"><b>Definition</b> <a href="#l00079">FleetEncounterContext.java:79</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a5eeaf622ef8c1125ddb7df2641823c3d"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5eeaf622ef8c1125ddb7df2641823c3d">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.autoLoot</a></div><div class="ttdeci">void autoLoot()</div><div class="ttdef"><b>Definition</b> <a href="#l02814">FleetEncounterContext.java:2814</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a5f493c97affe8d8dcf6e44a4987925ca"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5f493c97affe8d8dcf6e44a4987925ca">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.performPostEngagementRecoveryBoth</a></div><div class="ttdeci">float performPostEngagementRecoveryBoth(EngagementResultAPI result)</div><div class="ttdef"><b>Definition</b> <a href="#l00855">FleetEncounterContext.java:855</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a60bc99bbe5230ff9215e4fb9f420ef79"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a60bc99bbe5230ff9215e4fb9f420ef79">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.didPlayerWinEncounterOutright</a></div><div class="ttdeci">boolean didPlayerWinEncounterOutright()</div><div class="ttdef"><b>Definition</b> <a href="#l01018">FleetEncounterContext.java:1018</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a622f25000d780d58fb5af7ef355a428d"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a622f25000d780d58fb5af7ef355a428d">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.otherFleetHarriedPlayer</a></div><div class="ttdeci">boolean otherFleetHarriedPlayer</div><div class="ttdef"><b>Definition</b> <a href="#l00081">FleetEncounterContext.java:81</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a6392fb04ef8030b549150362859efd55"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6392fb04ef8030b549150362859efd55">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.boardShip</a></div><div class="ttdeci">BoardingResult boardShip(FleetMemberAPI member, CampaignFleetAPI attacker, CampaignFleetAPI defender)</div><div class="ttdef"><b>Definition</b> <a href="#l01183">FleetEncounterContext.java:1183</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a65d24aed1b8bb535302e5a095a041fff"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a65d24aed1b8bb535302e5a095a041fff">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.prepareModuleForRecovery</a></div><div class="ttdeci">static void prepareModuleForRecovery(FleetMemberAPI member, String moduleSlotId, boolean retainAllHullmods, boolean retainKnownHullmods, boolean clearSMods, float weaponRetainProb, float wingRetainProb, Random salvageRandom)</div><div class="ttdef"><b>Definition</b> <a href="#l01871">FleetEncounterContext.java:1871</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a65f01515bb012a4ecec853fc10d5d172"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a65f01515bb012a4ecec853fc10d5d172">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setOtherFleetHarriedPlayer</a></div><div class="ttdeci">void setOtherFleetHarriedPlayer(boolean otherFleetHarriedPlayer)</div><div class="ttdef"><b>Definition</b> <a href="#l00152">FleetEncounterContext.java:152</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a6a51a28f6cb1f1b0efc9653f9f13152b"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6a51a28f6cb1f1b0efc9653f9f13152b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setComputedDifficulty</a></div><div class="ttdeci">void setComputedDifficulty(boolean computedDifficulty)</div><div class="ttdef"><b>Definition</b> <a href="#l03427">FleetEncounterContext.java:3427</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a6ac11805834d81c987e7c06e45c3e529"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ac11805834d81c987e7c06e45c3e529">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.updateDeployedMap</a></div><div class="ttdeci">void updateDeployedMap(EngagementResultForFleetAPI result)</div><div class="ttdef"><b>Definition</b> <a href="#l00160">FleetEncounterContext.java:160</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a6c0cd3ca075fff451980242fbaa507d8"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6c0cd3ca075fff451980242fbaa507d8">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getStoryRecoverableShips</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; getStoryRecoverableShips()</div><div class="ttdef"><b>Definition</b> <a href="#l01422">FleetEncounterContext.java:1422</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a6e826619c41b8305657e7088b57c6102"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6e826619c41b8305657e7088b57c6102">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.recoverCrew</a></div><div class="ttdeci">void recoverCrew(CampaignFleetAPI fleet)</div><div class="ttdef"><b>Definition</b> <a href="#l03401">FleetEncounterContext.java:3401</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a6ee8885eb5143a124e99ab54675c0633"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ee8885eb5143a124e99ab54675c0633">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeBattleDifficulty</a></div><div class="ttdeci">float computeBattleDifficulty()</div><div class="ttdef"><b>Definition</b> <a href="#l03435">FleetEncounterContext.java:3435</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a716db89fe71ef13da8f83e564822520d"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a716db89fe71ef13da8f83e564822520d">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getBoardingSuccessPercent</a></div><div class="ttdeci">float getBoardingSuccessPercent(FleetMemberAPI member, CampaignFleetAPI attacker, CampaignFleetAPI defender)</div><div class="ttdef"><b>Definition</b> <a href="#l01260">FleetEncounterContext.java:1260</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a726e2274cae7cfcf8ba85948e1073a29"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.battle</a></div><div class="ttdeci">BattleAPI battle</div><div class="ttdef"><b>Definition</b> <a href="#l00080">FleetEncounterContext.java:80</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a73bdc2181f26f4f1c440b60838f6996b"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73bdc2181f26f4f1c440b60838f6996b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerPursued</a></div><div class="ttdeci">boolean playerPursued</div><div class="ttdef"><b>Definition</b> <a href="#l00078">FleetEncounterContext.java:78</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a73dee6280666365aa3db13f5a41bcdfe"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73dee6280666365aa3db13f5a41bcdfe">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.ENGAGE_ESCAPE_CHANCE</a></div><div class="ttdeci">static final float ENGAGE_ESCAPE_CHANCE</div><div class="ttdef"><b>Definition</b> <a href="#l01172">FleetEncounterContext.java:1172</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a7578c47873e1e682571cd4bea8c6ca03"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a7578c47873e1e682571cd4bea8c6ca03">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.prepareShipForRecovery</a></div><div class="ttdeci">static void prepareShipForRecovery(FleetMemberAPI member, boolean retainAllHullmods, boolean retainKnownHullmods, boolean clearSMods, float weaponRetainProb, float wingRetainProb, Random salvageRandom)</div><div class="ttdef"><b>Definition</b> <a href="#l01790">FleetEncounterContext.java:1790</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a75c9efd6252ae40170a6b2b215806cbd"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a75c9efd6252ae40170a6b2b215806cbd">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.alreadyAdjustedRep</a></div><div class="ttdeci">boolean alreadyAdjustedRep</div><div class="ttdef"><b>Definition</b> <a href="#l00547">FleetEncounterContext.java:547</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a789f8a2356e270a6c24749a637e2097e"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getDataFor</a></div><div class="ttdeci">DataForEncounterSide getDataFor(CampaignFleetAPI participantOrCombined)</div><div class="ttdef"><b>Definition</b> <a href="#l00111">FleetEncounterContext.java:111</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a79bca736338facf7c468e42312c94197"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.lastOutcome</a></div><div class="ttdeci">EngagementOutcome lastOutcome</div><div class="ttdef"><b>Definition</b> <a href="#l00968">FleetEncounterContext.java:968</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a7fbb3e0fde5e5324e45ea347ad2c4de7"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a7fbb3e0fde5e5324e45ea347ad2c4de7">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.CIV_SELF_DESTRUCT_CHANCE</a></div><div class="ttdeci">static final float CIV_SELF_DESTRUCT_CHANCE</div><div class="ttdef"><b>Definition</b> <a href="#l01170">FleetEncounterContext.java:1170</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a81b33f41e79f3c37f8959b793ed77c66"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.loot</a></div><div class="ttdeci">CargoAPI loot</div><div class="ttdef"><b>Definition</b> <a href="#l02193">FleetEncounterContext.java:2193</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a820b898359071f1a178859a6a6582782"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a820b898359071f1a178859a6a6582782">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.recoverShips</a></div><div class="ttdeci">static void recoverShips(List&lt; FleetMemberAPI &gt; ships, FleetEncounterContext context, CampaignFleetAPI winningFleet, CampaignFleetAPI otherFleet)</div><div class="ttdef"><b>Definition</b> <a href="#l01698">FleetEncounterContext.java:1698</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a824383f5415c79d2148be39d6e4a1982"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a824383f5415c79d2148be39d6e4a1982">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getSalvageRandom</a></div><div class="ttdeci">Random getSalvageRandom()</div><div class="ttdef"><b>Definition</b> <a href="#l02208">FleetEncounterContext.java:2208</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a8435db25101ca050840816ea2da92866"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8435db25101ca050840816ea2da92866">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeMissedLaunchLosses</a></div><div class="ttdeci">void computeMissedLaunchLosses(BoardingResult result, CrewCompositionAPI boardingParty)</div><div class="ttdef"><b>Definition</b> <a href="#l01296">FleetEncounterContext.java:1296</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a854bd1a92d475fac4a320a872d4d30fa"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.preEngagementCRForWinner</a></div><div class="ttdeci">Map&lt; FleetMemberAPI, Float &gt; preEngagementCRForWinner</div><div class="ttdef"><b>Definition</b> <a href="#l02971">FleetEncounterContext.java:2971</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a855c871e3e911fe7d3120d988be3e60e"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a855c871e3e911fe7d3120d988be3e60e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isLowRepImpact</a></div><div class="ttdeci">boolean isLowRepImpact()</div><div class="ttdef"><b>Definition</b> <a href="#l00534">FleetEncounterContext.java:534</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a88438e3d6dfc59eea1b2b8dc7ead2ecb"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88438e3d6dfc59eea1b2b8dc7ead2ecb">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getSalvageValueModPlayerShips</a></div><div class="ttdeci">float getSalvageValueModPlayerShips()</div><div class="ttdef"><b>Definition</b> <a href="#l02407">FleetEncounterContext.java:2407</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a88d1cabb6ccee858a72bc53e232c5fb8"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.creditsLooted</a></div><div class="ttdeci">int creditsLooted</div><div class="ttdef"><b>Definition</b> <a href="#l02194">FleetEncounterContext.java:2194</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a8947c054f842d88b2ae053650ff1d3ce"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8947c054f842d88b2ae053650ff1d3ce">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getPursuitAvailability</a></div><div class="ttdeci">PursueAvailability getPursuitAvailability(CampaignFleetAPI fleet, CampaignFleetAPI otherFleet)</div><div class="ttdef"><b>Definition</b> <a href="#l00512">FleetEncounterContext.java:512</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a894e47d162794f5428b18b95945cd9ea"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a894e47d162794f5428b18b95945cd9ea">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.clearNoSourceMembers</a></div><div class="ttdeci">void clearNoSourceMembers(EngagementResultForFleetAPI result)</div><div class="ttdef"><b>Definition</b> <a href="#l00185">FleetEncounterContext.java:185</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a8be6559e8f57371ab859d0eaedd3e2e8"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8be6559e8f57371ab859d0eaedd3e2e8">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeCrewLossFromBoarding</a></div><div class="ttdeci">void computeCrewLossFromBoarding(BoardingResult result, FleetMemberAPI member, CrewCompositionAPI boardingParty, float attackerStr, float defenderStr)</div><div class="ttdef"><b>Definition</b> <a href="#l01301">FleetEncounterContext.java:1301</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a8cb0f56073b77ade1d8155013d603647"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8cb0f56073b77ade1d8155013d603647">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.performPostVictoryRecovery</a></div><div class="ttdeci">float performPostVictoryRecovery(EngagementResultAPI result)</div><div class="ttdef"><b>Definition</b> <a href="#l00850">FleetEncounterContext.java:850</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a8f4a87c4cfe1918267f81969e494fc2c"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8f4a87c4cfe1918267f81969e494fc2c">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.handleCargoLooting</a></div><div class="ttdeci">void handleCargoLooting(List&lt; FleetMemberAPI &gt; recoveredShips, boolean takingFromPlayer)</div><div class="ttdef"><b>Definition</b> <a href="#l02442">FleetEncounterContext.java:2442</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a9044fa2147f8545e36a6c86ba55f5f11"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9044fa2147f8545e36a6c86ba55f5f11">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setAutoresolve</a></div><div class="ttdeci">void setAutoresolve(boolean isAutoresolve)</div><div class="ttdef"><b>Definition</b> <a href="#l00098">FleetEncounterContext.java:98</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a90baa7c1682521b6fbf0f2551e8676b2"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a90baa7c1682521b6fbf0f2551e8676b2">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyShipLosses</a></div><div class="ttdeci">void applyShipLosses(EngagementResultForFleetAPI result)</div><div class="ttdef"><b>Definition</b> <a href="#l03152">FleetEncounterContext.java:3152</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a910ada010506f7050ca1b1cc524a8913"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.textPanelForXPGain</a></div><div class="ttdeci">TextPanelAPI textPanelForXPGain</div><div class="ttdef"><b>Definition</b> <a href="#l00739">FleetEncounterContext.java:739</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a917f4b9d4203ec3f96661478e23a96b9"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a917f4b9d4203ec3f96661478e23a96b9">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.hasWinnerAndLoser</a></div><div class="ttdeci">boolean hasWinnerAndLoser()</div><div class="ttdef"><b>Definition</b> <a href="#l02869">FleetEncounterContext.java:2869</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a920151d2f84ddc310d0d84f175bf2017"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a920151d2f84ddc310d0d84f175bf2017">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.LAUNCH_SUCCESS_CHANCE</a></div><div class="ttdeci">static final float LAUNCH_SUCCESS_CHANCE</div><div class="ttdef"><b>Definition</b> <a href="#l01178">FleetEncounterContext.java:1178</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a9246960440885932918f318ccedc93c2"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9246960440885932918f318ccedc93c2">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.canOutrunOtherFleet</a></div><div class="ttdeci">boolean canOutrunOtherFleet(CampaignFleetAPI fleet, CampaignFleetAPI other)</div><div class="ttdef"><b>Definition</b> <a href="#l02880">FleetEncounterContext.java:2880</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a93fc31b43c898dd58a3a6c75a3c17caa"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a93fc31b43c898dd58a3a6c75a3c17caa">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyBoardingSelfDestruct</a></div><div class="ttdeci">void applyBoardingSelfDestruct(FleetMemberAPI member, CrewCompositionAPI boardingParty, BoardingAttackType attackType, List&lt; FleetMemberAPI &gt; boardingTaskForce, CampaignFleetAPI attacker, CampaignFleetAPI defender, BoardingResult result)</div><div class="ttdef"><b>Definition</b> <a href="#l01335">FleetEncounterContext.java:1335</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a9b4530b6a62be2bd068593469d6cd3ff"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9b4530b6a62be2bd068593469d6cd3ff">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyExtendedCRLossIfNeeded</a></div><div class="ttdeci">void applyExtendedCRLossIfNeeded(EngagementResultForFleetAPI result, FleetMemberAPI member)</div><div class="ttdef"><b>Definition</b> <a href="#l03062">FleetEncounterContext.java:3062</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_aa0114107a345ab53e29d2fc2185510dc"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa0114107a345ab53e29d2fc2185510dc">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyCrewLosses</a></div><div class="ttdeci">void applyCrewLosses(EngagementResultAPI result)</div><div class="ttdef"><b>Definition</b> <a href="#l02947">FleetEncounterContext.java:2947</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_aa433b4940ea0c102bea1980edce68b61"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa433b4940ea0c102bea1980edce68b61">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isEngagedInHostilities</a></div><div class="ttdeci">boolean isEngagedInHostilities()</div><div class="ttdef"><b>Definition</b> <a href="#l00144">FleetEncounterContext.java:144</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_aa54544acd2e820f6413833a0bba313b7"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa54544acd2e820f6413833a0bba313b7">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.engageBoardableShip</a></div><div class="ttdeci">EngageBoardableOutcome engageBoardableShip(FleetMemberAPI toBoard, CampaignFleetAPI fleetItBelongsTo, CampaignFleetAPI attackingFleet)</div><div class="ttdef"><b>Definition</b> <a href="#l01094">FleetEncounterContext.java:1094</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_aab597f5466ec975f40d5920ba3fbbed5"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aab597f5466ec975f40d5920ba3fbbed5">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setEngagedInActualBattle</a></div><div class="ttdeci">void setEngagedInActualBattle(boolean engagedInActualBattle)</div><div class="ttdef"><b>Definition</b> <a href="#l00227">FleetEncounterContext.java:227</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_aae04a1b1e1f39e90a9c61b3ad688a447"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aae04a1b1e1f39e90a9c61b3ad688a447">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeFPHullDamage</a></div><div class="ttdeci">void computeFPHullDamage()</div><div class="ttdef"><b>Definition</b> <a href="#l01981">FleetEncounterContext.java:1981</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ab0143337e3d81f6542e6cab99c14979a"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab0143337e3d81f6542e6cab99c14979a">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isComputedDifficulty</a></div><div class="ttdeci">boolean isComputedDifficulty()</div><div class="ttdef"><b>Definition</b> <a href="#l03423">FleetEncounterContext.java:3423</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ab071fcf5aac2c3a7d5a031a2f91b289d"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab071fcf5aac2c3a7d5a031a2f91b289d">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setPlayerFPHullDamageToEnemies</a></div><div class="ttdeci">void setPlayerFPHullDamageToEnemies(float playerFPHullDamageToEnemies)</div><div class="ttdef"><b>Definition</b> <a href="#l01965">FleetEncounterContext.java:1965</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ab120d5e23f478d181afc180072afab8a"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab120d5e23f478d181afc180072afab8a">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerFPHullDamageToAllies</a></div><div class="ttdeci">float playerFPHullDamageToAllies</div><div class="ttdef"><b>Definition</b> <a href="#l01979">FleetEncounterContext.java:1979</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ab32155e313a9d3109e7919bee27fca81"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.runningDamageTotal</a></div><div class="ttdeci">CombatDamageData runningDamageTotal</div><div class="ttdef"><b>Definition</b> <a href="#l00087">FleetEncounterContext.java:87</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ab379609c976bdf7ea38f195fd0d0dc10"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.engagedInHostilities</a></div><div class="ttdeci">boolean engagedInHostilities</div><div class="ttdef"><b>Definition</b> <a href="#l00075">FleetEncounterContext.java:75</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ab4226783f38eff3a0ce314585c844f83"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computedDifficulty</a></div><div class="ttdeci">boolean computedDifficulty</div><div class="ttdef"><b>Definition</b> <a href="#l03434">FleetEncounterContext.java:3434</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ab60e1b424706649832f9fd9fa80197e3"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab60e1b424706649832f9fd9fa80197e3">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyResultToFleets</a></div><div class="ttdeci">void applyResultToFleets(EngagementResultAPI result)</div><div class="ttdef"><b>Definition</b> <a href="#l02885">FleetEncounterContext.java:2885</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_abd1761f41cd1c8d9c9d9e16dcd77fe2e"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.noHarryBecauseOfStation</a></div><div class="ttdeci">boolean noHarryBecauseOfStation</div><div class="ttdef"><b>Definition</b> <a href="#l00748">FleetEncounterContext.java:748</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ac27a8d55eb981edf43aff8769bfd4907"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac27a8d55eb981edf43aff8769bfd4907">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getLoser</a></div><div class="ttdeci">CampaignFleetAPI getLoser()</div><div class="ttdef"><b>Definition</b> <a href="#l02876">FleetEncounterContext.java:2876</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ac2f7f0224640b2aceedfcd98d5a95c36"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.sideData</a></div><div class="ttdeci">List&lt; DataForEncounterSide &gt; sideData</div><div class="ttdef"><b>Definition</b> <a href="#l00074">FleetEncounterContext.java:74</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ac637fb9d93a578b2f1e5b38884abf2b1"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac637fb9d93a578b2f1e5b38884abf2b1">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getDifficulty</a></div><div class="ttdeci">float getDifficulty()</div><div class="ttdef"><b>Definition</b> <a href="#l03415">FleetEncounterContext.java:3415</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ac6bd36dfdd0a8f2db7bb0457770a307e"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac6bd36dfdd0a8f2db7bb0457770a307e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getTextPanelForXPGain</a></div><div class="ttdeci">TextPanelAPI getTextPanelForXPGain()</div><div class="ttdef"><b>Definition</b> <a href="#l00740">FleetEncounterContext.java:740</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ac6bd654cda50c5962ef742f22200edf1"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac6bd654cda50c5962ef742f22200edf1">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.adjustPlayerReputation</a></div><div class="ttdeci">boolean adjustPlayerReputation(InteractionDialogAPI dialog, String ffText, boolean okToAdjustAlly, boolean okToAdjustEnemy)</div><div class="ttdef"><b>Definition</b> <a href="#l00551">FleetEncounterContext.java:551</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ac70bc2c5d395bae2a66bfd7ae92b9e82"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac70bc2c5d395bae2a66bfd7ae92b9e82">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.SELF_DESTRUCT_CHANCE</a></div><div class="ttdeci">static final float SELF_DESTRUCT_CHANCE</div><div class="ttdef"><b>Definition</b> <a href="#l01169">FleetEncounterContext.java:1169</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ac7e7f3ed853d5a385d12885f4d59fb36"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.storyRecoverableShips</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; storyRecoverableShips</div><div class="ttdef"><b>Definition</b> <a href="#l01427">FleetEncounterContext.java:1427</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ac8ca62c0f5eb95ca18ee610a2ec2f25a"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac8ca62c0f5eb95ca18ee610a2ec2f25a">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isAutoresolve</a></div><div class="ttdeci">boolean isAutoresolve()</div><div class="ttdef"><b>Definition</b> <a href="#l00094">FleetEncounterContext.java:94</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_acdada664ff95e13bb05f64a01f35507b"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getWinnerData</a></div><div class="ttdeci">DataForEncounterSide getWinnerData()</div><div class="ttdef"><b>Definition</b> <a href="#l00126">FleetEncounterContext.java:126</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_acdb348aca27209d591db60bec597e72a"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdb348aca27209d591db60bec597e72a">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getLastEngagementOutcome</a></div><div class="ttdeci">EngagementOutcome getLastEngagementOutcome()</div><div class="ttdef"><b>Definition</b> <a href="#l00969">FleetEncounterContext.java:969</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_acf85c7f6b044b4b6a8d46b29309b783d"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acf85c7f6b044b4b6a8d46b29309b783d">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getDisengageHarryAvailability</a></div><div class="ttdeci">DisengageHarryAvailability getDisengageHarryAvailability(CampaignFleetAPI fleet, CampaignFleetAPI otherFleet)</div><div class="ttdef"><b>Definition</b> <a href="#l00522">FleetEncounterContext.java:522</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ad10ab02ee6fe61dcf544f2a9e6ae9e52"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad10ab02ee6fe61dcf544f2a9e6ae9e52">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getCreditsLooted</a></div><div class="ttdeci">int getCreditsLooted()</div><div class="ttdef"><b>Definition</b> <a href="#l01037">FleetEncounterContext.java:1037</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ad25003f8f4281087a614f7ad1bacbca5"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad25003f8f4281087a614f7ad1bacbca5">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getPlayerFPHullDamageToEnemies</a></div><div class="ttdeci">float getPlayerFPHullDamageToEnemies()</div><div class="ttdef"><b>Definition</b> <a href="#l01961">FleetEncounterContext.java:1961</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ad26b65ade1dd723b3b64cc72d9a6e75b"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad26b65ade1dd723b3b64cc72d9a6e75b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.fixFighters</a></div><div class="ttdeci">void fixFighters(EngagementResultForFleetAPI result)</div><div class="ttdef"><b>Definition</b> <a href="#l02894">FleetEncounterContext.java:2894</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ad2bd1e7c4546d77cd2433ed0f996a41b"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getDeployCost</a></div><div class="ttdeci">float getDeployCost(FleetMemberAPI member)</div><div class="ttdef"><b>Definition</b> <a href="#l00530">FleetEncounterContext.java:530</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ad44183b2b1301b24a9554579ec2a5675"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad44183b2b1301b24a9554579ec2a5675">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.generatePlayerLoot</a></div><div class="ttdeci">void generatePlayerLoot(List&lt; FleetMemberAPI &gt; recoveredShips, boolean withCredits)</div><div class="ttdef"><b>Definition</b> <a href="#l02215">FleetEncounterContext.java:2215</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ad8813163ce64c189b81fa6133794a846"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.allyFPHullDamageToEnemies</a></div><div class="ttdeci">float allyFPHullDamageToEnemies</div><div class="ttdef"><b>Definition</b> <a href="#l01978">FleetEncounterContext.java:1978</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_aded179a09a0c0709bd866bc3044a94e2"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aded179a09a0c0709bd866bc3044a94e2">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.calculateAndApplyCrewLosses</a></div><div class="ttdeci">void calculateAndApplyCrewLosses(EngagementResultForFleetAPI result, boolean playerInvolved)</div><div class="ttdef"><b>Definition</b> <a href="#l03257">FleetEncounterContext.java:3257</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ae0b7182d119267f57ae9408276b88d6d"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae0b7182d119267f57ae9408276b88d6d">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.LAUNCH_CLEAN_ESCAPE_CHANCE</a></div><div class="ttdeci">static final float LAUNCH_CLEAN_ESCAPE_CHANCE</div><div class="ttdef"><b>Definition</b> <a href="#l01176">FleetEncounterContext.java:1176</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ae54c050fde572233113faa6de5833307"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae54c050fde572233113faa6de5833307">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.lootWeapons</a></div><div class="ttdeci">void lootWeapons(FleetMemberAPI member, ShipVariantAPI variant, boolean own, float mult, boolean lootingModule)</div><div class="ttdef"><b>Definition</b> <a href="#l02694">FleetEncounterContext.java:2694</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_aef5cbe50c9878737ad102be7ab8e55d5"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aef5cbe50c9878737ad102be7ab8e55d5">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isBattleOver</a></div><div class="ttdeci">boolean isBattleOver()</div><div class="ttdef"><b>Definition</b> <a href="#l00973">FleetEncounterContext.java:973</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_af161b5553653341badf848a9574267b6"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af161b5553653341badf848a9574267b6">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setBattle</a></div><div class="ttdeci">void setBattle(BattleAPI battle)</div><div class="ttdef"><b>Definition</b> <a href="#l00107">FleetEncounterContext.java:107</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_af2a6228ccf761948efd358d6a0dd0f9a"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af2a6228ccf761948efd358d6a0dd0f9a">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.didPlayerWinLastEngagement</a></div><div class="ttdeci">boolean didPlayerWinLastEngagement()</div><div class="ttdef"><b>Definition</b> <a href="#l00991">FleetEncounterContext.java:991</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_af4e6049ced9ef64fdc197186cc808cdc"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af4e6049ced9ef64fdc197186cc808cdc">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.processEngagementResults</a></div><div class="ttdeci">void processEngagementResults(EngagementResultAPI result)</div><div class="ttdef"><b>Definition</b> <a href="#l00231">FleetEncounterContext.java:231</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_af6ea1f32307606f32320c8116c39bd7f"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af6ea1f32307606f32320c8116c39bd7f">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.letBoardableGo</a></div><div class="ttdeci">void letBoardableGo(FleetMemberAPI toBoard, CampaignFleetAPI fleetItBelongsTo, CampaignFleetAPI attackingFleet)</div><div class="ttdef"><b>Definition</b> <a href="#l01397">FleetEncounterContext.java:1397</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_af76cdb9a2026348dcf4bfb31227c934a"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af76cdb9a2026348dcf4bfb31227c934a">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.MAX_XP_MULT</a></div><div class="ttdeci">static float MAX_XP_MULT</div><div class="ttdef"><b>Definition</b> <a href="#l03431">FleetEncounterContext.java:3431</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_afb855a39698e3241ac484a8f3df9a329"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#afb855a39698e3241ac484a8f3df9a329">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setEngagedInHostilities</a></div><div class="ttdeci">void setEngagedInHostilities(boolean engagedInHostilities)</div><div class="ttdef"><b>Definition</b> <a href="#l00148">FleetEncounterContext.java:148</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_aff14e6983105183182def17e63e36282"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aff14e6983105183182def17e63e36282">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeRecoverableFraction</a></div><div class="ttdeci">float computeRecoverableFraction(FleetMemberAPI member, EngagementResultForFleetAPI result, float hullFraction, float hullDamage)</div><div class="ttdef"><b>Definition</b> <a href="#l03251">FleetEncounterContext.java:3251</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1HullModItemManager_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1HullModItemManager.html">com.fs.starfarer.api.impl.campaign.HullModItemManager</a></div><div class="ttdef"><b>Definition</b> <a href="HullModItemManager_8java_source.html#l00019">HullModItemManager.java:19</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1HullModItemManager_html_ab38f334b85849632503ad5050e6ea386"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1HullModItemManager.html#ab38f334b85849632503ad5050e6ea386">com.fs.starfarer.api.impl.campaign.HullModItemManager.getInstance</a></div><div class="ttdeci">static HullModItemManager getInstance()</div><div class="ttdef"><b>Definition</b> <a href="HullModItemManager_8java_source.html#l00031">HullModItemManager.java:31</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1HullModItemManager_html_ad9cb8570695aef61d50063c6977296a8"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1HullModItemManager.html#ad9cb8570695aef61d50063c6977296a8">com.fs.starfarer.api.impl.campaign.HullModItemManager.giveBackAllItems</a></div><div class="ttdeci">void giveBackAllItems(FleetMemberAPI member)</div><div class="ttdef"><b>Definition</b> <a href="HullModItemManager_8java_source.html#l00145">HullModItemManager.java:145</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1RepairGantry_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1RepairGantry.html">com.fs.starfarer.api.impl.campaign.RepairGantry</a></div><div class="ttdef"><b>Definition</b> <a href="RepairGantry_8java_source.html#l00020">RepairGantry.java:20</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1RepairGantry_html_ad3afb31816f6bc2b15c7eafd75837f59"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1RepairGantry.html#ad3afb31816f6bc2b15c7eafd75837f59">com.fs.starfarer.api.impl.campaign.RepairGantry.getAdjustedGantryModifierForPostCombatSalvage</a></div><div class="ttdeci">static float getAdjustedGantryModifierForPostCombatSalvage(CampaignFleetAPI fleet)</div><div class="ttdef"><b>Definition</b> <a href="RepairGantry_8java_source.html#l00127">RepairGantry.java:127</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html">com.fs.starfarer.api.impl.campaign.ids.Commodities</a></div><div class="ttdef"><b>Definition</b> <a href="Commodities_8java_source.html#l00003">Commodities.java:3</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities_html_a03be61921f42d865858e3cc31429cc84"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#a03be61921f42d865858e3cc31429cc84">com.fs.starfarer.api.impl.campaign.ids.Commodities.TAG_NO_LOSS_FROM_COMBAT</a></div><div class="ttdeci">static final String TAG_NO_LOSS_FROM_COMBAT</div><div class="ttdef"><b>Definition</b> <a href="Commodities_8java_source.html#l00068">Commodities.java:68</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities_html_a0a0ff66d08a18aa93b9b7b08c90c79a0"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#a0a0ff66d08a18aa93b9b7b08c90c79a0">com.fs.starfarer.api.impl.campaign.ids.Commodities.HEAVY_MACHINERY</a></div><div class="ttdeci">static final String HEAVY_MACHINERY</div><div class="ttdef"><b>Definition</b> <a href="Commodities_8java_source.html#l00016">Commodities.java:16</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities_html_a1d325ada01d1326202a34ae385600501"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#a1d325ada01d1326202a34ae385600501">com.fs.starfarer.api.impl.campaign.ids.Commodities.FUEL</a></div><div class="ttdeci">static final String FUEL</div><div class="ttdef"><b>Definition</b> <a href="Commodities_8java_source.html#l00005">Commodities.java:5</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities_html_a2706cb7db1abc45d06653e97f12b6aa1"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#a2706cb7db1abc45d06653e97f12b6aa1">com.fs.starfarer.api.impl.campaign.ids.Commodities.SUPPLIES</a></div><div class="ttdeci">static final String SUPPLIES</div><div class="ttdef"><b>Definition</b> <a href="Commodities_8java_source.html#l00004">Commodities.java:4</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities_html_a36e8f779c84e66e154e68763107600de"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#a36e8f779c84e66e154e68763107600de">com.fs.starfarer.api.impl.campaign.ids.Commodities.CREW</a></div><div class="ttdeci">static final String CREW</div><div class="ttdef"><b>Definition</b> <a href="Commodities_8java_source.html#l00006">Commodities.java:6</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities_html_aa5300fa0ae84bb26ef8aaa1987c23568"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Commodities.html#aa5300fa0ae84bb26ef8aaa1987c23568">com.fs.starfarer.api.impl.campaign.ids.Commodities.METALS</a></div><div class="ttdeci">static final String METALS</div><div class="ttdef"><b>Definition</b> <a href="Commodities_8java_source.html#l00014">Commodities.java:14</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Factions_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Factions.html">com.fs.starfarer.api.impl.campaign.ids.Factions</a></div><div class="ttdef"><b>Definition</b> <a href="Factions_8java_source.html#l00003">Factions.java:3</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Factions_html_ae32638e592be6fb4d40169a91f5178d8"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Factions.html#ae32638e592be6fb4d40169a91f5178d8">com.fs.starfarer.api.impl.campaign.ids.Factions.PLAYER</a></div><div class="ttdeci">static final String PLAYER</div><div class="ttdef"><b>Definition</b> <a href="Factions_8java_source.html#l00005">Factions.java:5</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html">com.fs.starfarer.api.impl.campaign.ids.MemFlags</a></div><div class="ttdef"><b>Definition</b> <a href="MemFlags_8java_source.html#l00014">MemFlags.java:14</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags_html_a3936e1bced1dd1cdaf44587dabc5178f"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html#a3936e1bced1dd1cdaf44587dabc5178f">com.fs.starfarer.api.impl.campaign.ids.MemFlags.MEMORY_KEY_NO_SHIP_RECOVERY</a></div><div class="ttdeci">static final String MEMORY_KEY_NO_SHIP_RECOVERY</div><div class="ttdef"><b>Definition</b> <a href="MemFlags_8java_source.html#l00140">MemFlags.java:140</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags_html_a9e32d81e5f4587d2dcdc0339868e3022"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html#a9e32d81e5f4587d2dcdc0339868e3022">com.fs.starfarer.api.impl.campaign.ids.MemFlags.SALVAGE_SEED</a></div><div class="ttdeci">static final String SALVAGE_SEED</div><div class="ttdef"><b>Definition</b> <a href="MemFlags_8java_source.html#l00102">MemFlags.java:102</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags_html_ad9bae86ec622c8fc7e7e467cdf4ad435"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html#ad9bae86ec622c8fc7e7e467cdf4ad435">com.fs.starfarer.api.impl.campaign.ids.MemFlags.MEMORY_KEY_LOW_REP_IMPACT</a></div><div class="ttdeci">static final String MEMORY_KEY_LOW_REP_IMPACT</div><div class="ttdef"><b>Definition</b> <a href="MemFlags_8java_source.html#l00197">MemFlags.java:197</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags_html_adc9d98fb4a21a565ed0d8294c20c36d6"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1MemFlags.html#adc9d98fb4a21a565ed0d8294c20c36d6">com.fs.starfarer.api.impl.campaign.ids.MemFlags.MEMORY_KEY_NO_REP_IMPACT</a></div><div class="ttdeci">static final String MEMORY_KEY_NO_REP_IMPACT</div><div class="ttdef"><b>Definition</b> <a href="MemFlags_8java_source.html#l00198">MemFlags.java:198</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html">com.fs.starfarer.api.impl.campaign.ids.Stats</a></div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00003">Stats.java:3</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_a23c4514fa522a3df6ae7de9debc8e7ed"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a23c4514fa522a3df6ae7de9debc8e7ed">com.fs.starfarer.api.impl.campaign.ids.Stats.ENEMY_WING_RECOVERY_MOD</a></div><div class="ttdeci">static final String ENEMY_WING_RECOVERY_MOD</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00098">Stats.java:98</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_a2d12a2b575adcb17bbc10a838e99d191"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a2d12a2b575adcb17bbc10a838e99d191">com.fs.starfarer.api.impl.campaign.ids.Stats.INDIVIDUAL_SHIP_RECOVERY_MOD</a></div><div class="ttdeci">static final String INDIVIDUAL_SHIP_RECOVERY_MOD</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00200">Stats.java:200</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_a2ea0a8ab61e76299239ebb5f04c74e04"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a2ea0a8ab61e76299239ebb5f04c74e04">com.fs.starfarer.api.impl.campaign.ids.Stats.RECOVERED_HULL_MIN</a></div><div class="ttdeci">static final String RECOVERED_HULL_MIN</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00107">Stats.java:107</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_a3cd5b12ea39009eb0ea547beb8bd9fe4"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a3cd5b12ea39009eb0ea547beb8bd9fe4">com.fs.starfarer.api.impl.campaign.ids.Stats.FUEL_SALVAGE_VALUE_MULT_FLEET</a></div><div class="ttdeci">static final String FUEL_SALVAGE_VALUE_MULT_FLEET</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00081">Stats.java:81</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_a5b0b51302f55dbc8770b1c7d45b36db9"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a5b0b51302f55dbc8770b1c7d45b36db9">com.fs.starfarer.api.impl.campaign.ids.Stats.RECOVERED_HULL_MAX</a></div><div class="ttdeci">static final String RECOVERED_HULL_MAX</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00108">Stats.java:108</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_a5dd420d04a63696bbc19cb91b858f8b3"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a5dd420d04a63696bbc19cb91b858f8b3">com.fs.starfarer.api.impl.campaign.ids.Stats.RECOVERED_CR_MAX</a></div><div class="ttdeci">static final String RECOVERED_CR_MAX</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00106">Stats.java:106</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_a62b15a551c7ad72cf2340d708cb61b3d"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a62b15a551c7ad72cf2340d708cb61b3d">com.fs.starfarer.api.impl.campaign.ids.Stats.OWN_WING_RECOVERY_MOD</a></div><div class="ttdeci">static final String OWN_WING_RECOVERY_MOD</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00095">Stats.java:95</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_a7489a364a5a148b856a6bb459a2ad9bb"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a7489a364a5a148b856a6bb459a2ad9bb">com.fs.starfarer.api.impl.campaign.ids.Stats.DMOD_AVOID_PROB_MOD</a></div><div class="ttdeci">static final String DMOD_AVOID_PROB_MOD</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00210">Stats.java:210</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_a8c2f2db1c9ff53995d40eeeea5395e34"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#a8c2f2db1c9ff53995d40eeeea5395e34">com.fs.starfarer.api.impl.campaign.ids.Stats.INSTA_REPAIR_FRACTION</a></div><div class="ttdeci">static final String INSTA_REPAIR_FRACTION</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00202">Stats.java:202</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_ab4d2aaeac112f1c0fea82345b6e78907"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#ab4d2aaeac112f1c0fea82345b6e78907">com.fs.starfarer.api.impl.campaign.ids.Stats.OWN_WEAPON_RECOVERY_MOD</a></div><div class="ttdeci">static final String OWN_WEAPON_RECOVERY_MOD</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00094">Stats.java:94</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_ac056314f39242ad892c79d1372398d20"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#ac056314f39242ad892c79d1372398d20">com.fs.starfarer.api.impl.campaign.ids.Stats.SHIP_DMOD_REDUCTION</a></div><div class="ttdeci">static final String SHIP_DMOD_REDUCTION</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00101">Stats.java:101</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_ad7dc05d1ca44b06d05751ab482965e08"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#ad7dc05d1ca44b06d05751ab482965e08">com.fs.starfarer.api.impl.campaign.ids.Stats.DMOD_ACQUIRE_PROB_MOD</a></div><div class="ttdeci">static final String DMOD_ACQUIRE_PROB_MOD</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00215">Stats.java:215</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_af1489ac6632b55d6909039ee8205fb5f"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#af1489ac6632b55d6909039ee8205fb5f">com.fs.starfarer.api.impl.campaign.ids.Stats.BATTLE_SALVAGE_MULT_FLEET</a></div><div class="ttdeci">static final String BATTLE_SALVAGE_MULT_FLEET</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00084">Stats.java:84</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_af31f95afe9d5ed3f1dc210a56cf857c9"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#af31f95afe9d5ed3f1dc210a56cf857c9">com.fs.starfarer.api.impl.campaign.ids.Stats.FIGHTER_CREW_LOSS_MULT</a></div><div class="ttdeci">static final String FIGHTER_CREW_LOSS_MULT</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00184">Stats.java:184</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_afaeac482da149d6d3eb81466f8903ed8"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#afaeac482da149d6d3eb81466f8903ed8">com.fs.starfarer.api.impl.campaign.ids.Stats.RECOVERED_CR_MIN</a></div><div class="ttdeci">static final String RECOVERED_CR_MIN</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00105">Stats.java:105</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_afbe422ffcfbc51e668755004ea49d753"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#afbe422ffcfbc51e668755004ea49d753">com.fs.starfarer.api.impl.campaign.ids.Stats.HULL_DAMAGE_CR_LOSS</a></div><div class="ttdeci">static final String HULL_DAMAGE_CR_LOSS</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00138">Stats.java:138</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats_html_afe8fb6a307d826e5c1050ca507a96ad5"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Stats.html#afe8fb6a307d826e5c1050ca507a96ad5">com.fs.starfarer.api.impl.campaign.ids.Stats.ENEMY_WEAPON_RECOVERY_MOD</a></div><div class="ttdeci">static final String ENEMY_WEAPON_RECOVERY_MOD</div><div class="ttdef"><b>Definition</b> <a href="Stats_8java_source.html#l00097">Stats.java:97</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html">com.fs.starfarer.api.impl.campaign.ids.Tags</a></div><div class="ttdef"><b>Definition</b> <a href="Tags_8java_source.html#l00007">Tags.java:7</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags_html_a296e991a5046057adfb5ad8aa8765b2e"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a296e991a5046057adfb5ad8aa8765b2e">com.fs.starfarer.api.impl.campaign.ids.Tags.FULL_CR_RECOVERY</a></div><div class="ttdeci">static final String FULL_CR_RECOVERY</div><div class="ttdef"><b>Definition</b> <a href="Tags_8java_source.html#l00024">Tags.java:24</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags_html_a3a9530bf693ba5cc54ef9875a979bd77"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a3a9530bf693ba5cc54ef9875a979bd77">com.fs.starfarer.api.impl.campaign.ids.Tags.VARIANT_DO_NOT_DROP_AI_CORE_FROM_CAPTAIN</a></div><div class="ttdeci">static final String VARIANT_DO_NOT_DROP_AI_CORE_FROM_CAPTAIN</div><div class="ttdef"><b>Definition</b> <a href="Tags_8java_source.html#l00077">Tags.java:77</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags_html_a3eca68e7193c35443ed753ef92c83015"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a3eca68e7193c35443ed753ef92c83015">com.fs.starfarer.api.impl.campaign.ids.Tags.WING_NO_DROP</a></div><div class="ttdeci">static final String WING_NO_DROP</div><div class="ttdef"><b>Definition</b> <a href="Tags_8java_source.html#l00247">Tags.java:247</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags_html_a5406fcca9ba587e812d5d133fb3cae85"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a5406fcca9ba587e812d5d133fb3cae85">com.fs.starfarer.api.impl.campaign.ids.Tags.HULLMOD_NO_DROP</a></div><div class="ttdeci">static final String HULLMOD_NO_DROP</div><div class="ttdef"><b>Definition</b> <a href="Tags_8java_source.html#l00218">Tags.java:218</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags_html_a5de5b2c7d249eb0b1789556a1bf07f0e"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a5de5b2c7d249eb0b1789556a1bf07f0e">com.fs.starfarer.api.impl.campaign.ids.Tags.VARIANT_ALWAYS_RETAIN_SMODS_ON_SALVAGE</a></div><div class="ttdeci">static final String VARIANT_ALWAYS_RETAIN_SMODS_ON_SALVAGE</div><div class="ttdef"><b>Definition</b> <a href="Tags_8java_source.html#l00075">Tags.java:75</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags_html_a750c9a97060d49b1f54f888d0cd69a8f"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a750c9a97060d49b1f54f888d0cd69a8f">com.fs.starfarer.api.impl.campaign.ids.Tags.VARIANT_ALWAYS_RECOVERABLE</a></div><div class="ttdeci">static final String VARIANT_ALWAYS_RECOVERABLE</div><div class="ttdef"><b>Definition</b> <a href="Tags_8java_source.html#l00078">Tags.java:78</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags_html_a7e5628655339e1c6f39780e8aaf3d374"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a7e5628655339e1c6f39780e8aaf3d374">com.fs.starfarer.api.impl.campaign.ids.Tags.NO_DROP</a></div><div class="ttdeci">static final String NO_DROP</div><div class="ttdef"><b>Definition</b> <a href="Tags_8java_source.html#l00312">Tags.java:312</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags_html_a8ee46b255a6a1b2017c06ec900eecdd0"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#a8ee46b255a6a1b2017c06ec900eecdd0">com.fs.starfarer.api.impl.campaign.ids.Tags.SHIP_RECOVERABLE</a></div><div class="ttdeci">static final String SHIP_RECOVERABLE</div><div class="ttdef"><b>Definition</b> <a href="Tags_8java_source.html#l00201">Tags.java:201</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags_html_ab74b493129222e31ede37d901a0c9270"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#ab74b493129222e31ede37d901a0c9270">com.fs.starfarer.api.impl.campaign.ids.Tags.TAG_RETAIN_SMODS_ON_RECOVERY</a></div><div class="ttdeci">static final String TAG_RETAIN_SMODS_ON_RECOVERY</div><div class="ttdef"><b>Definition</b> <a href="Tags_8java_source.html#l00014">Tags.java:14</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags_html_ae0f6873c00c16988b4634f574f5a194e"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#ae0f6873c00c16988b4634f574f5a194e">com.fs.starfarer.api.impl.campaign.ids.Tags.NO_BATTLE_SALVAGE</a></div><div class="ttdeci">static final String NO_BATTLE_SALVAGE</div><div class="ttdef"><b>Definition</b> <a href="Tags_8java_source.html#l00051">Tags.java:51</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags_html_ae371b37adf3d0dd7d6bdef1ced290541"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1ids_1_1Tags.html#ae371b37adf3d0dd7d6bdef1ced290541">com.fs.starfarer.api.impl.campaign.ids.Tags.VARIANT_CONSISTENT_WEAPON_DROPS</a></div><div class="ttdeci">static final String VARIANT_CONSISTENT_WEAPON_DROPS</div><div class="ttdef"><b>Definition</b> <a href="Tags_8java_source.html#l00076">Tags.java:76</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1intel_1_1PromoteOfficerIntel_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1intel_1_1PromoteOfficerIntel.html">com.fs.starfarer.api.impl.campaign.intel.PromoteOfficerIntel</a></div><div class="ttdef"><b>Definition</b> <a href="PromoteOfficerIntel_8java_source.html#l00031">PromoteOfficerIntel.java:31</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1SalvageEntity_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1SalvageEntity.html">com.fs.starfarer.api.impl.campaign.rulecmd.salvage.SalvageEntity</a></div><div class="ttdef"><b>Definition</b> <a href="SalvageEntity_8java_source.html#l00063">SalvageEntity.java:63</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1SalvageEntity_html_a02ea433a87df4b4f025423bcea69f2db"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1SalvageEntity.html#a02ea433a87df4b4f025423bcea69f2db">com.fs.starfarer.api.impl.campaign.rulecmd.salvage.SalvageEntity.generateSalvage</a></div><div class="ttdeci">static CargoAPI generateSalvage(Random random, float valueMult, float overallMult, float fuelMult, List&lt; DropData &gt; dropValue, List&lt; DropData &gt; dropRandom)</div><div class="ttdef"><b>Definition</b> <a href="SalvageEntity_8java_source.html#l00927">SalvageEntity.java:927</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1special_1_1BaseSalvageSpecial_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1special_1_1BaseSalvageSpecial.html">com.fs.starfarer.api.impl.campaign.rulecmd.salvage.special.BaseSalvageSpecial</a></div><div class="ttdef"><b>Definition</b> <a href="BaseSalvageSpecial_8java_source.html#l00020">BaseSalvageSpecial.java:20</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1special_1_1BaseSalvageSpecial_html_a827d2ace3dab1c0a400515cfe0bfab29"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1special_1_1BaseSalvageSpecial.html#a827d2ace3dab1c0a400515cfe0bfab29">com.fs.starfarer.api.impl.campaign.rulecmd.salvage.special.BaseSalvageSpecial.getCombinedExtraSalvage</a></div><div class="ttdeci">static CargoAPI getCombinedExtraSalvage(Map&lt; String, MemoryAPI &gt; memoryMap)</div><div class="ttdef"><b>Definition</b> <a href="BaseSalvageSpecial_8java_source.html#l00068">BaseSalvageSpecial.java:68</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1special_1_1BaseSalvageSpecial_html_ae345ee21d6ee29e07e153bdebabeccbc"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1rulecmd_1_1salvage_1_1special_1_1BaseSalvageSpecial.html#ae345ee21d6ee29e07e153bdebabeccbc">com.fs.starfarer.api.impl.campaign.rulecmd.salvage.special.BaseSalvageSpecial.clearExtraSalvage</a></div><div class="ttdeci">static void clearExtraSalvage(Map&lt; String, MemoryAPI &gt; memoryMap)</div><div class="ttdef"><b>Definition</b> <a href="BaseSalvageSpecial_8java_source.html#l00110">BaseSalvageSpecial.java:110</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1tutorial_1_1TutorialMissionIntel_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1tutorial_1_1TutorialMissionIntel.html">com.fs.starfarer.api.impl.campaign.tutorial.TutorialMissionIntel</a></div><div class="ttdef"><b>Definition</b> <a href="TutorialMissionIntel_8java_source.html#l00048">TutorialMissionIntel.java:48</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1tutorial_1_1TutorialMissionIntel_html_a181a77bcaeba7ac9cd6c7793526bf0cd"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1tutorial_1_1TutorialMissionIntel.html#a181a77bcaeba7ac9cd6c7793526bf0cd">com.fs.starfarer.api.impl.campaign.tutorial.TutorialMissionIntel.isTutorialInProgress</a></div><div class="ttdeci">static boolean isTutorialInProgress()</div><div class="ttdef"><b>Definition</b> <a href="TutorialMissionIntel_8java_source.html#l00096">TutorialMissionIntel.java:96</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponGroupSpec_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponGroupSpec.html">com.fs.starfarer.api.loading.WeaponGroupSpec</a></div><div class="ttdef"><b>Definition</b> <a href="WeaponGroupSpec_8java_source.html#l00006">WeaponGroupSpec.java:6</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html">com.fs.starfarer.api.util.Misc</a></div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l00188">Misc.java:188</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_a095c3ea13832a7bbdaf42152316ff150"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a095c3ea13832a7bbdaf42152316ff150">com.fs.starfarer.api.util.Misc.getMaxOfficers</a></div><div class="ttdeci">static int getMaxOfficers(CampaignFleetAPI fleet)</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l05219">Misc.java:5219</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_a3feeb2f72d0202d858da380fc1b59d1b"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a3feeb2f72d0202d858da380fc1b59d1b">com.fs.starfarer.api.util.Misc.getRandom</a></div><div class="ttdeci">static Random getRandom(long seed, int level)</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l02973">Misc.java:2973</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_a4a3778fc323d3d80a2ab1046644b6035"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a4a3778fc323d3d80a2ab1046644b6035">com.fs.starfarer.api.util.Misc.getBonusXPForScuttling</a></div><div class="ttdeci">static float[] getBonusXPForScuttling(FleetMemberAPI member)</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l05775">Misc.java:5775</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_a621b186977ca743f1e20bba1e6fe60f3"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a621b186977ca743f1e20bba1e6fe60f3">com.fs.starfarer.api.util.Misc.isShipRecoverable</a></div><div class="ttdeci">static boolean isShipRecoverable(FleetMemberAPI member, CampaignFleetAPI recoverer, boolean own, boolean useOfficerRecovery, float chanceMult)</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l03317">Misc.java:3317</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_a9255b1379b0a0197305d0ca26d532f3f"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a9255b1379b0a0197305d0ca26d532f3f">com.fs.starfarer.api.util.Misc.forgetAboutTransponder</a></div><div class="ttdeci">static void forgetAboutTransponder(CampaignFleetAPI fleet)</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l04168">Misc.java:4168</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_a99c94dcf54650eb730c842fd16951d3a"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#a99c94dcf54650eb730c842fd16951d3a">com.fs.starfarer.api.util.Misc.isPlayerOrCombinedContainingPlayer</a></div><div class="ttdeci">static boolean isPlayerOrCombinedContainingPlayer(CampaignFleetAPI fleet)</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l02250">Misc.java:2250</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_ab5f3630b9f4f6121343d2ba019e0f97b"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ab5f3630b9f4f6121343d2ba019e0f97b">com.fs.starfarer.api.util.Misc.isUnremovable</a></div><div class="ttdeci">static boolean isUnremovable(PersonAPI person)</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l05473">Misc.java:5473</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_ac3cf16b95551d37f492a34828acf2a5f"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ac3cf16b95551d37f492a34828acf2a5f">com.fs.starfarer.api.util.Misc.getNumNonMercOfficers</a></div><div class="ttdeci">static int getNumNonMercOfficers(CampaignFleetAPI fleet)</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l05223">Misc.java:5223</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_ad9d7371e962c1a6f7424a88884716cf5"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ad9d7371e962c1a6f7424a88884716cf5">com.fs.starfarer.api.util.Misc.isPlayerOrCombinedPlayerPrimary</a></div><div class="ttdeci">static boolean isPlayerOrCombinedPlayerPrimary(CampaignFleetAPI fleet)</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l02240">Misc.java:2240</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_ae27a76e34c5013b1a4128b3b9fc51e60"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#ae27a76e34c5013b1a4128b3b9fc51e60">com.fs.starfarer.api.util.Misc.random</a></div><div class="ttdeci">static Random random</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l00241">Misc.java:241</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_af3d73ce1e389e75975f44afba71442bc"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#af3d73ce1e389e75975f44afba71442bc">com.fs.starfarer.api.util.Misc.isUnboardable</a></div><div class="ttdeci">static boolean isUnboardable(FleetMemberAPI member)</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l03293">Misc.java:3293</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_afc8d9d83434794631e3d05b9c8bcc6b1"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#afc8d9d83434794631e3d05b9c8bcc6b1">com.fs.starfarer.api.util.Misc.makeLowRepImpact</a></div><div class="ttdeci">static void makeLowRepImpact(CampaignFleetAPI fleet, String reason)</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l01465">Misc.java:1465</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc_html_afcff1e26d676201526786988eb00ad16"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1Misc.html#afcff1e26d676201526786988eb00ad16">com.fs.starfarer.api.util.Misc.isEasy</a></div><div class="ttdeci">static boolean isEasy()</div><div class="ttdef"><b>Definition</b> <a href="Misc_8java_source.html#l02284">Misc.java:2284</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker_html"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html">com.fs.starfarer.api.util.WeightedRandomPicker</a></div><div class="ttdef"><b>Definition</b> <a href="WeightedRandomPicker_8java_source.html#l00017">WeightedRandomPicker.java:17</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker_html_a208270a6df0e8d484033d2d4a2bf15fb"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a208270a6df0e8d484033d2d4a2bf15fb">com.fs.starfarer.api.util.WeightedRandomPicker.add</a></div><div class="ttdeci">void add(T item)</div><div class="ttdef"><b>Definition</b> <a href="WeightedRandomPicker_8java_source.html#l00103">WeightedRandomPicker.java:103</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker_html_a272ec6eb3c16a66abbf5203dfd34f7d6"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a272ec6eb3c16a66abbf5203dfd34f7d6">com.fs.starfarer.api.util.WeightedRandomPicker.pick</a></div><div class="ttdeci">T pick(Random random)</div><div class="ttdef"><b>Definition</b> <a href="WeightedRandomPicker_8java_source.html#l00171">WeightedRandomPicker.java:171</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker_html_a5c46abc5a17513cfc2ba11abb6bdde4c"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a5c46abc5a17513cfc2ba11abb6bdde4c">com.fs.starfarer.api.util.WeightedRandomPicker.clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition</b> <a href="WeightedRandomPicker_8java_source.html#l00079">WeightedRandomPicker.java:79</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker_html_a7930e788b27fc86b44da2a7e00a53c2b"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#a7930e788b27fc86b44da2a7e00a53c2b">com.fs.starfarer.api.util.WeightedRandomPicker.isEmpty</a></div><div class="ttdeci">boolean isEmpty()</div><div class="ttdef"><b>Definition</b> <a href="WeightedRandomPicker_8java_source.html#l00124">WeightedRandomPicker.java:124</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker_html_ac7249a7ca153428c2628a07e75676985"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#ac7249a7ca153428c2628a07e75676985">com.fs.starfarer.api.util.WeightedRandomPicker.remove</a></div><div class="ttdeci">void remove(T item)</div><div class="ttdef"><b>Definition</b> <a href="WeightedRandomPicker_8java_source.html#l00114">WeightedRandomPicker.java:114</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker_html_ad9935bcbf0c43b6f22d54cb59697eb1c"><div class="ttname"><a href="classcom_1_1fs_1_1starfarer_1_1api_1_1util_1_1WeightedRandomPicker.html#ad9935bcbf0c43b6f22d54cb59697eb1c">com.fs.starfarer.api.util.WeightedRandomPicker.pickAndRemove</a></div><div class="ttdeci">T pickAndRemove()</div><div class="ttdef"><b>Definition</b> <a href="WeightedRandomPicker_8java_source.html#l00165">WeightedRandomPicker.java:165</a></div></div>
<div class="ttc" id="aenumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_1_1CargoItemType_html"><div class="ttname"><a href="enumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_1_1CargoItemType.html">com.fs.starfarer.api.campaign.CargoAPI.CargoItemType</a></div><div class="ttdef"><b>Definition</b> <a href="CargoAPI_8java_source.html#l00059">CargoAPI.java:59</a></div></div>
<div class="ttc" id="aenumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetAssignment_html"><div class="ttname"><a href="enumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetAssignment.html">com.fs.starfarer.api.campaign.FleetAssignment</a></div><div class="ttdef"><b>Definition</b> <a href="FleetAssignment_8java_source.html#l00008">FleetAssignment.java:8</a></div></div>
<div class="ttc" id="aenumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetAssignment_html_a5b09a706b66ef5d404e02b70c6d6a986"><div class="ttname"><a href="enumcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetAssignment.html#a5b09a706b66ef5d404e02b70c6d6a986">com.fs.starfarer.api.campaign.FleetAssignment.STANDING_DOWN</a></div><div class="ttdeci">STANDING_DOWN</div><div class="ttdef"><b>Definition</b> <a href="FleetAssignment_8java_source.html#l00028">FleetAssignment.java:28</a></div></div>
<div class="ttc" id="aenumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal_html"><div class="ttname"><a href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html">com.fs.starfarer.api.fleet.FleetGoal</a></div><div class="ttdef"><b>Definition</b> <a href="FleetGoal_8java_source.html#l00012">FleetGoal.java:12</a></div></div>
<div class="ttc" id="aenumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal_html_a506ce576cff29935e2f4164353708af1"><div class="ttname"><a href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#a506ce576cff29935e2f4164353708af1">com.fs.starfarer.api.fleet.FleetGoal.ATTACK</a></div><div class="ttdeci">ATTACK</div><div class="ttdef"><b>Definition</b> <a href="FleetGoal_8java_source.html#l00013">FleetGoal.java:13</a></div></div>
<div class="ttc" id="aenumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal_html_ad31dc449468911381be9a88cd6adcf41"><div class="ttname"><a href="enumcom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetGoal.html#ad31dc449468911381be9a88cd6adcf41">com.fs.starfarer.api.fleet.FleetGoal.ESCAPE</a></div><div class="ttdeci">ESCAPE</div><div class="ttdef"><b>Definition</b> <a href="FleetGoal_8java_source.html#l00017">FleetGoal.java:17</a></div></div>
<div class="ttc" id="aenumcom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1VariantSource_html"><div class="ttname"><a href="enumcom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1VariantSource.html">com.fs.starfarer.api.loading.VariantSource</a></div><div class="ttdef"><b>Definition</b> <a href="VariantSource_8java_source.html#l00006">VariantSource.java:6</a></div></div>
<div class="ttc" id="aenumcom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1VariantSource_html_abda85f9400efd269328ed1eb21eb12e4"><div class="ttname"><a href="enumcom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1VariantSource.html#abda85f9400efd269328ed1eb21eb12e4">com.fs.starfarer.api.loading.VariantSource.REFIT</a></div><div class="ttdeci">REFIT</div><div class="ttdef"><b>Definition</b> <a href="VariantSource_8java_source.html#l00010">VariantSource.java:10</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI_html_a00b3901783aae6ae74ed0ae21ca05053"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a00b3901783aae6ae74ed0ae21ca05053">com.fs.starfarer.api.FactoryAPI.createCargo</a></div><div class="ttdeci">CargoAPI createCargo(boolean unlimitedStacks)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI_html_a5a8d2bc6f7380d2b61f93f3a23627141"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a5a8d2bc6f7380d2b61f93f3a23627141">com.fs.starfarer.api.FactoryAPI.createCrewComposition</a></div><div class="ttdeci">CrewCompositionAPI createCrewComposition()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI_html_a7a7ee0ac555a566538b56bc4e6462e9a"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1FactoryAPI.html#a7a7ee0ac555a566538b56bc4e6462e9a">com.fs.starfarer.api.FactoryAPI.createPerson</a></div><div class="ttdeci">PersonAPI createPerson()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI_html_a85cd934ed046c024997d7ff2ebfe587f"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#a85cd934ed046c024997d7ff2ebfe587f">com.fs.starfarer.api.SettingsAPI.getHullModSpec</a></div><div class="ttdeci">HullModSpecAPI getHullModSpec(String modId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI_html_aa3ae3cf97fd6566a2207e4aa0c843adb"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#aa3ae3cf97fd6566a2207e4aa0c843adb">com.fs.starfarer.api.SettingsAPI.getCommoditySpec</a></div><div class="ttdeci">CommoditySpecAPI getCommoditySpec(String commodityId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI_html_abc0cd3ab4632ec639fccce1db5ae4b56"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc0cd3ab4632ec639fccce1db5ae4b56">com.fs.starfarer.api.SettingsAPI.getFloat</a></div><div class="ttdeci">float getFloat(String key)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI_html_abc52b5ae3dfe57e81216d90383b1c733"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#abc52b5ae3dfe57e81216d90383b1c733">com.fs.starfarer.api.SettingsAPI.getFighterWingSpec</a></div><div class="ttdeci">FighterWingSpecAPI getFighterWingSpec(String wingId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI_html_ac4e70c0a0b7be1fa221504f71969b24d"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1SettingsAPI.html#ac4e70c0a0b7be1fa221504f71969b24d">com.fs.starfarer.api.SettingsAPI.getWeaponSpec</a></div><div class="ttdeci">WeaponSpecAPI getWeaponSpec(String weaponId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">com.fs.starfarer.api.campaign.BattleAPI</a></div><div class="ttdef"><b>Definition</b> <a href="BattleAPI_8java_source.html#l00010">BattleAPI.java:10</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a02ea35ccf1b0016169d51e5cffbb5da8"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a02ea35ccf1b0016169d51e5cffbb5da8">com.fs.starfarer.api.campaign.BattleAPI.isPlayerInvolvedAtStart</a></div><div class="ttdeci">boolean isPlayerInvolvedAtStart()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a052dfd43d6c6ca484bbe328f69387c36"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a052dfd43d6c6ca484bbe328f69387c36">com.fs.starfarer.api.campaign.BattleAPI.getPlayerSideSnapshot</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getPlayerSideSnapshot()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a079e00738984aef9c8b22a779951c44b"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a079e00738984aef9c8b22a779951c44b">com.fs.starfarer.api.campaign.BattleAPI.getSnapshotSideFor</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getSnapshotSideFor(CampaignFleetAPI participantOrCombined)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a1a91abcbf98c938054b244db0633d426"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a1a91abcbf98c938054b244db0633d426">com.fs.starfarer.api.campaign.BattleAPI.getCombinedFor</a></div><div class="ttdeci">CampaignFleetAPI getCombinedFor(CampaignFleetAPI participantOrCombined)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a3389318628d0c974cf945a9fc40d5453"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">com.fs.starfarer.api.campaign.BattleAPI.getPrimary</a></div><div class="ttdeci">CampaignFleetAPI getPrimary(List&lt; CampaignFleetAPI &gt; side)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a3779a692b186e2a6a0c8a7f1f7e9c7db"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3779a692b186e2a6a0c8a7f1f7e9c7db">com.fs.starfarer.api.campaign.BattleAPI.getNonPlayerCombined</a></div><div class="ttdeci">CampaignFleetAPI getNonPlayerCombined()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a3810d282eac961ac6438719b5a385662"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">com.fs.starfarer.api.campaign.BattleAPI.getSideFor</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getSideFor(CampaignFleetAPI participantOrCombined)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a6c6a8bb5399dde80dcf32cc8438d132c"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a6c6a8bb5399dde80dcf32cc8438d132c">com.fs.starfarer.api.campaign.BattleAPI.setPlayerInvolvementFraction</a></div><div class="ttdeci">void setPlayerInvolvementFraction(float playerInvolvementFraction)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a8d03fa06449d1ef3edc3118d3d22cfb9"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">com.fs.starfarer.api.campaign.BattleAPI.getSnapshotFor</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getSnapshotFor(List&lt; CampaignFleetAPI &gt; side)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a977520ed5d70862c8f72a051da58a03f"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">com.fs.starfarer.api.campaign.BattleAPI.getSourceFleet</a></div><div class="ttdeci">CampaignFleetAPI getSourceFleet(FleetMemberAPI member)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a9a1934a45208ec21eb73b804e7543877"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a9a1934a45208ec21eb73b804e7543877">com.fs.starfarer.api.campaign.BattleAPI.uncombine</a></div><div class="ttdeci">void uncombine()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a9ee7b99f52ab5de7fecc4fb16434aae8"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a9ee7b99f52ab5de7fecc4fb16434aae8">com.fs.starfarer.api.campaign.BattleAPI.getPlayerCombined</a></div><div class="ttdeci">CampaignFleetAPI getPlayerCombined()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_aaf1b93dd37f7760ffccc83fe3b5bafc7"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#aaf1b93dd37f7760ffccc83fe3b5bafc7">com.fs.starfarer.api.campaign.BattleAPI.knowsWhoPlayerIs</a></div><div class="ttdeci">boolean knowsWhoPlayerIs(List&lt; CampaignFleetAPI &gt; side)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_ab3ab3bc04a65bd4c01f91972f81173ed"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">com.fs.starfarer.api.campaign.BattleAPI.isPlayerInvolved</a></div><div class="ttdeci">boolean isPlayerInvolved()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_abe620da6424fde52f5084ae9468b730a"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#abe620da6424fde52f5084ae9468b730a">com.fs.starfarer.api.campaign.BattleAPI.getBothSides</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getBothSides()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_acb55e0951f95312c00ea3d96fa818dde"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#acb55e0951f95312c00ea3d96fa818dde">com.fs.starfarer.api.campaign.BattleAPI.genCombined</a></div><div class="ttdeci">void genCombined()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_ad9e20801d4b57ae3d0f93db96fbb0829"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ad9e20801d4b57ae3d0f93db96fbb0829">com.fs.starfarer.api.campaign.BattleAPI.getNonPlayerSide</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getNonPlayerSide()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_ae6dabc3158fab2ef810e0c7e90403acf"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ae6dabc3158fab2ef810e0c7e90403acf">com.fs.starfarer.api.campaign.BattleAPI.getMemberSourceMap</a></div><div class="ttdeci">Map&lt; FleetMemberAPI, CampaignFleetAPI &gt; getMemberSourceMap()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_af63dcd9bc785001d3afe266e524db8bf"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">com.fs.starfarer.api.campaign.BattleAPI.isPlayerSide</a></div><div class="ttdeci">boolean isPlayerSide(EngagementResultForFleetAPI side)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_af89feeda43f98a05fcefc5d8ea340d3e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af89feeda43f98a05fcefc5d8ea340d3e">com.fs.starfarer.api.campaign.BattleAPI.getPlayerSide</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getPlayerSide()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BuffManagerAPI_html_a4b0bae9dcc18cf3410568067c95de05a"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BuffManagerAPI.html#a4b0bae9dcc18cf3410568067c95de05a">com.fs.starfarer.api.campaign.BuffManagerAPI.advance</a></div><div class="ttdeci">void advance(float days)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignClockAPI_html_a69e624fe064ca3e21faeaeafc7302d48"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignClockAPI.html#a69e624fe064ca3e21faeaeafc7302d48">com.fs.starfarer.api.campaign.CampaignClockAPI.getDay</a></div><div class="ttdeci">int getDay()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">com.fs.starfarer.api.campaign.CampaignFleetAPI</a></div><div class="ttdef"><b>Definition</b> <a href="CampaignFleetAPI_8java_source.html#l00023">CampaignFleetAPI.java:23</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_a059da851c050a5b1c104809f4e700bef"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a059da851c050a5b1c104809f4e700bef">com.fs.starfarer.api.campaign.CampaignFleetAPI.getLocation</a></div><div class="ttdeci">Vector2f getLocation()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_a1318e0f79d971c24bdafbb03a8fe211f"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a1318e0f79d971c24bdafbb03a8fe211f">com.fs.starfarer.api.campaign.CampaignFleetAPI.getCommander</a></div><div class="ttdeci">PersonAPI getCommander()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_a33bfcfbc5371e5c5736058a57ac8c7ad"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a33bfcfbc5371e5c5736058a57ac8c7ad">com.fs.starfarer.api.campaign.CampaignFleetAPI.getAI</a></div><div class="ttdeci">CampaignFleetAIAPI getAI()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_a630bdc4e61aa83f042ed5523c93105d3"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a630bdc4e61aa83f042ed5523c93105d3">com.fs.starfarer.api.campaign.CampaignFleetAPI.setNoEngaging</a></div><div class="ttdeci">void setNoEngaging(float seconds)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_a6be08ca1de2329c5cb4b6043a4c20f85"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a6be08ca1de2329c5cb4b6043a4c20f85">com.fs.starfarer.api.campaign.CampaignFleetAPI.removeFleetMemberWithDestructionFlash</a></div><div class="ttdeci">void removeFleetMemberWithDestructionFlash(FleetMemberAPI member)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_a7e8b31b84e48922c1b5b4cded99634db"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a7e8b31b84e48922c1b5b4cded99634db">com.fs.starfarer.api.campaign.CampaignFleetAPI.setMoveDestination</a></div><div class="ttdeci">void setMoveDestination(float x, float y)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_aa3e90e08c7029f5dae7bc1d4d59e3285"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">com.fs.starfarer.api.campaign.CampaignFleetAPI.getFleetData</a></div><div class="ttdeci">FleetDataAPI getFleetData()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_aa878b4f8e859650a3d8d63e222ff0f01"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa878b4f8e859650a3d8d63e222ff0f01">com.fs.starfarer.api.campaign.CampaignFleetAPI.getStats</a></div><div class="ttdeci">MutableFleetStatsAPI getStats()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_aca63b88ff3c36215530149f16259d5c1"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aca63b88ff3c36215530149f16259d5c1">com.fs.starfarer.api.campaign.CampaignFleetAPI.isPlayerFleet</a></div><div class="ttdeci">boolean isPlayerFleet()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_ae3115abfff85b22cc1b3e855c96c6480"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#ae3115abfff85b22cc1b3e855c96c6480">com.fs.starfarer.api.campaign.CampaignFleetAPI.getCommanderStats</a></div><div class="ttdeci">MutableCharacterStatsAPI getCommanderStats()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_ae8b9efa57c717611219aa5b2eec64f31"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#ae8b9efa57c717611219aa5b2eec64f31">com.fs.starfarer.api.campaign.CampaignFleetAPI.isValidPlayerFleet</a></div><div class="ttdeci">boolean isValidPlayerFleet()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">com.fs.starfarer.api.campaign.CargoAPI</a></div><div class="ttdef"><b>Definition</b> <a href="CargoAPI_8java_source.html#l00013">CargoAPI.java:13</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a1d81b3ea35bf2321799534bdd0136a84"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a1d81b3ea35bf2321799534bdd0136a84">com.fs.starfarer.api.campaign.CargoAPI.getMarines</a></div><div class="ttdeci">int getMarines()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a2283e039b213a6a780f7fbe9c643f4fc"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a2283e039b213a6a780f7fbe9c643f4fc">com.fs.starfarer.api.campaign.CargoAPI.getSpaceLeft</a></div><div class="ttdeci">float getSpaceLeft()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a374a195e17708daf73f13d2bca470847"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a374a195e17708daf73f13d2bca470847">com.fs.starfarer.api.campaign.CargoAPI.addHullmods</a></div><div class="ttdeci">void addHullmods(String id, int count)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a3b35d9aa67fb2d5e67d21ccf196596b1"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a3b35d9aa67fb2d5e67d21ccf196596b1">com.fs.starfarer.api.campaign.CargoAPI.addFromStack</a></div><div class="ttdeci">void addFromStack(CargoStackAPI stack)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a3e75c9e343998a2e05bd3bf38ba388a5"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a3e75c9e343998a2e05bd3bf38ba388a5">com.fs.starfarer.api.campaign.CargoAPI.removeMarines</a></div><div class="ttdeci">void removeMarines(int quantity)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a4ff7dcb3c3b16501a83cdaa73ea903fd"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a4ff7dcb3c3b16501a83cdaa73ea903fd">com.fs.starfarer.api.campaign.CargoAPI.getCrew</a></div><div class="ttdeci">int getCrew()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a5319db26355ad2a4a9b85faad9439106"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a5319db26355ad2a4a9b85faad9439106">com.fs.starfarer.api.campaign.CargoAPI.addWeapons</a></div><div class="ttdeci">void addWeapons(String id, int count)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a58b502616e01d21d1c1e105baa5df8eb"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a58b502616e01d21d1c1e105baa5df8eb">com.fs.starfarer.api.campaign.CargoAPI.removeItems</a></div><div class="ttdeci">boolean removeItems(CargoAPI.CargoItemType itemType, Object data, float quantity)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a60edc1d1b4a25ee0c2094b8d58cef65e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a60edc1d1b4a25ee0c2094b8d58cef65e">com.fs.starfarer.api.campaign.CargoAPI.getMaxFuel</a></div><div class="ttdeci">float getMaxFuel()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a61edb30742c45d85507b457bd73206a7"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a61edb30742c45d85507b457bd73206a7">com.fs.starfarer.api.campaign.CargoAPI.clear</a></div><div class="ttdeci">void clear()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a6bd410e9dd402027cc79cad38ecc20f7"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a6bd410e9dd402027cc79cad38ecc20f7">com.fs.starfarer.api.campaign.CargoAPI.getNumWeapons</a></div><div class="ttdeci">int getNumWeapons(String id)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a794c304a1bd710f6fd3ee16e39aecd6b"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a794c304a1bd710f6fd3ee16e39aecd6b">com.fs.starfarer.api.campaign.CargoAPI.sort</a></div><div class="ttdeci">void sort()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a7d0439aca7779fc2115885665e7e59ff"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a7d0439aca7779fc2115885665e7e59ff">com.fs.starfarer.api.campaign.CargoAPI.getTotalCrew</a></div><div class="ttdeci">int getTotalCrew()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a8dc3c42c9dc18f9a18d707eba0cb0d29"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a8dc3c42c9dc18f9a18d707eba0cb0d29">com.fs.starfarer.api.campaign.CargoAPI.addMarines</a></div><div class="ttdeci">void addMarines(int quantity)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a8e90450940b0ae7c46450a04219d0959"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a8e90450940b0ae7c46450a04219d0959">com.fs.starfarer.api.campaign.CargoAPI.isEmpty</a></div><div class="ttdeci">boolean isEmpty()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a91e8ad74bfaa4756a700fcaf9d4bbfcc"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a91e8ad74bfaa4756a700fcaf9d4bbfcc">com.fs.starfarer.api.campaign.CargoAPI.addAll</a></div><div class="ttdeci">void addAll(CargoAPI other)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a97474623007a342af2bedf0d00d2ccfb"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a97474623007a342af2bedf0d00d2ccfb">com.fs.starfarer.api.campaign.CargoAPI.getFuel</a></div><div class="ttdeci">float getFuel()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_aad7edd183b2f5602116ee89f4eebd8b7"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#aad7edd183b2f5602116ee89f4eebd8b7">com.fs.starfarer.api.campaign.CargoAPI.getMaxCapacity</a></div><div class="ttdeci">float getMaxCapacity()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_ab309406e26977469727b2c982a55b6b6"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ab309406e26977469727b2c982a55b6b6">com.fs.starfarer.api.campaign.CargoAPI.getMaxPersonnel</a></div><div class="ttdeci">float getMaxPersonnel()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_abdf57e23461ce51fedf1e45bf211975e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#abdf57e23461ce51fedf1e45bf211975e">com.fs.starfarer.api.campaign.CargoAPI.getStacksCopy</a></div><div class="ttdeci">List&lt; CargoStackAPI &gt; getStacksCopy()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_ac6d6cd791a77dc5869e55d67584f3004"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ac6d6cd791a77dc5869e55d67584f3004">com.fs.starfarer.api.campaign.CargoAPI.addFuel</a></div><div class="ttdeci">void addFuel(float quantity)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_ad69f0c7e417fed4f2f2aa5e164eb390a"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">com.fs.starfarer.api.campaign.CargoAPI.addItems</a></div><div class="ttdeci">void addItems(CargoAPI.CargoItemType itemType, Object data, float quantity)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_ae1dcc76b32d5391954b0e214fb19dfc8"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ae1dcc76b32d5391954b0e214fb19dfc8">com.fs.starfarer.api.campaign.CargoAPI.addCommodity</a></div><div class="ttdeci">void addCommodity(String commodityId, float quantity)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_afa92a63e50e7d20d446add1070236422"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#afa92a63e50e7d20d446add1070236422">com.fs.starfarer.api.campaign.CargoAPI.removeCrew</a></div><div class="ttdeci">void removeCrew(int quantity)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html">com.fs.starfarer.api.campaign.CargoStackAPI</a></div><div class="ttdef"><b>Definition</b> <a href="CargoStackAPI_8java_source.html#l00009">CargoStackAPI.java:9</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI_html_a00a6964e5ae45d004da6f13d5985a17e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#a00a6964e5ae45d004da6f13d5985a17e">com.fs.starfarer.api.campaign.CargoStackAPI.getSpecialItemSpecIfSpecial</a></div><div class="ttdeci">SpecialItemSpecAPI getSpecialItemSpecIfSpecial()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI_html_a3668af1871ad48d94c01baa4924bc028"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#a3668af1871ad48d94c01baa4924bc028">com.fs.starfarer.api.campaign.CargoStackAPI.getFighterWingSpecIfWing</a></div><div class="ttdeci">FighterWingSpecAPI getFighterWingSpecIfWing()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI_html_a3c1027b21f2ab64119279f8328355660"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#a3c1027b21f2ab64119279f8328355660">com.fs.starfarer.api.campaign.CargoStackAPI.getData</a></div><div class="ttdeci">Object getData()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI_html_ac9af2c034b1f6abf8dc215ffa1d046cf"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#ac9af2c034b1f6abf8dc215ffa1d046cf">com.fs.starfarer.api.campaign.CargoStackAPI.getType</a></div><div class="ttdeci">CargoAPI.CargoItemType getType()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI_html_addad5a46b3c5cfcea6deefe7117cee07"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#addad5a46b3c5cfcea6deefe7117cee07">com.fs.starfarer.api.campaign.CargoStackAPI.getCargo</a></div><div class="ttdeci">CargoAPI getCargo()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI_html_af59298590d57813bc1ac96d28c1d1cc1"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#af59298590d57813bc1ac96d28c1d1cc1">com.fs.starfarer.api.campaign.CargoStackAPI.getResourceIfResource</a></div><div class="ttdeci">CommoditySpecAPI getResourceIfResource()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI_html_af94da8f87974bcee5ac637c5382203be"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoStackAPI.html#af94da8f87974bcee5ac637c5382203be">com.fs.starfarer.api.campaign.CargoStackAPI.getWeaponSpecIfWeapon</a></div><div class="ttdeci">WeaponSpecAPI getWeaponSpecIfWeapon()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI</a></div><div class="ttdef"><b>Definition</b> <a href="EngagementResultForFleetAPI_8java_source.html#l00009">EngagementResultForFleetAPI.java:9</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html_a0adc7a9ff2303206743e41f26f6f6b3c"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a0adc7a9ff2303206743e41f26f6f6b3c">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI.getAllEverDeployedCopy</a></div><div class="ttdeci">List&lt; DeployedFleetMemberAPI &gt; getAllEverDeployedCopy()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html_a18a6efdd60e4042764ec61cb19e00a36"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a18a6efdd60e4042764ec61cb19e00a36">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI.getGoal</a></div><div class="ttdeci">FleetGoal getGoal()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html_a35d6ad5b72ff735c857531b192e54217"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a35d6ad5b72ff735c857531b192e54217">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI.getDestroyed</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; getDestroyed()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html_a5263ff9ae3cd5d881d3746b3c5be8882"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a5263ff9ae3cd5d881d3746b3c5be8882">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI.getDeployed</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; getDeployed()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html_a605d31938821fa6ee9643033bba92a56"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a605d31938821fa6ee9643033bba92a56">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI.getDisabled</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; getDisabled()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html_a6143e17a71a8664bf8ec99d00acc4209"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a6143e17a71a8664bf8ec99d00acc4209">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI.isPlayer</a></div><div class="ttdeci">boolean isPlayer()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html_a650a2b2f69e935e5bcdbebd20341c9ce"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#a650a2b2f69e935e5bcdbebd20341c9ce">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI.enemyCanCleanDisengage</a></div><div class="ttdeci">boolean enemyCanCleanDisengage()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html_aa23aae367c159e8f3b7155f511aa0436"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aa23aae367c159e8f3b7155f511aa0436">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI.getFleet</a></div><div class="ttdeci">CampaignFleetAPI getFleet()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html_aafa14ba86d4abbfc85d4ed5d5146bc24"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aafa14ba86d4abbfc85d4ed5d5146bc24">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI.getReserves</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; getReserves()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html_ac6fb2c14681e1edbf0aebd340bd87a86"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ac6fb2c14681e1edbf0aebd340bd87a86">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI.getRetreated</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; getRetreated()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html_ae387f6d2e4198371b57bedbca118174a"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#ae387f6d2e4198371b57bedbca118174a">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI.isWinner</a></div><div class="ttdeci">boolean isWinner()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI_html_aeaf4453fead90dbb52b6806faccc41a5"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html#aeaf4453fead90dbb52b6806faccc41a5">com.fs.starfarer.api.campaign.EngagementResultForFleetAPI.resetAllEverDeployed</a></div><div class="ttdeci">void resetAllEverDeployed()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FactionAPI_html_aa060ecf6eb94fc8749481b3646b3a17f"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FactionAPI.html#aa060ecf6eb94fc8749481b3646b3a17f">com.fs.starfarer.api.campaign.FactionAPI.knowsHullMod</a></div><div class="ttdeci">boolean knowsHullMod(String modId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FactionAPI_html_af016cc513682eb015b85966bd6af4162"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FactionAPI.html#af016cc513682eb015b85966bd6af4162">com.fs.starfarer.api.campaign.FactionAPI.isPlayerFaction</a></div><div class="ttdeci">boolean isPlayerFaction()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html">com.fs.starfarer.api.campaign.FleetDataAPI</a></div><div class="ttdef"><b>Definition</b> <a href="FleetDataAPI_8java_source.html#l00012">FleetDataAPI.java:12</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html_a7d50d41cec4bf05a87b1a80dd6730126"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#a7d50d41cec4bf05a87b1a80dd6730126">com.fs.starfarer.api.campaign.FleetDataAPI.getOfficerData</a></div><div class="ttdeci">OfficerDataAPI getOfficerData(PersonAPI person)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html_a8e12a29d860c1cc451079060c5ee00f4"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#a8e12a29d860c1cc451079060c5ee00f4">com.fs.starfarer.api.campaign.FleetDataAPI.getSnapshot</a></div><div class="ttdeci">ArrayList&lt; FleetMemberAPI &gt; getSnapshot()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html_aa8a92dfcdabaca844bc576c674d01656"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aa8a92dfcdabaca844bc576c674d01656">com.fs.starfarer.api.campaign.FleetDataAPI.getOfficersCopy</a></div><div class="ttdeci">List&lt; OfficerDataAPI &gt; getOfficersCopy()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html_aadb5afa47963d2ce331fa7f203f695e1"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aadb5afa47963d2ce331fa7f203f695e1">com.fs.starfarer.api.campaign.FleetDataAPI.getMinBurnLevel</a></div><div class="ttdeci">float getMinBurnLevel()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html_aae3057dba1c046f7e1bbe35de5f20119"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aae3057dba1c046f7e1bbe35de5f20119">com.fs.starfarer.api.campaign.FleetDataAPI.addFleetMember</a></div><div class="ttdeci">void addFleetMember(FleetMemberAPI member)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html_ac51be798a36b457ecf634051de22ee1a"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#ac51be798a36b457ecf634051de22ee1a">com.fs.starfarer.api.campaign.FleetDataAPI.getMaxBurnLevel</a></div><div class="ttdeci">float getMaxBurnLevel()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html_ac672b758ab99500a6dc92470d1215429"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#ac672b758ab99500a6dc92470d1215429">com.fs.starfarer.api.campaign.FleetDataAPI.removeFleetMember</a></div><div class="ttdeci">void removeFleetMember(FleetMemberAPI member)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html_ad3307d3970ed5df23e197b45c19f3c21"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#ad3307d3970ed5df23e197b45c19f3c21">com.fs.starfarer.api.campaign.FleetDataAPI.updateCargoCapacities</a></div><div class="ttdeci">void updateCargoCapacities()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html_adc56a9d07d63d453ce7d9550e5774e90"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#adc56a9d07d63d453ce7d9550e5774e90">com.fs.starfarer.api.campaign.FleetDataAPI.getCombatReadyMembersListCopy</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; getCombatReadyMembersListCopy()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html_aea5feaf14b5a26ae6ffca7abf9af0a09"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">com.fs.starfarer.api.campaign.FleetDataAPI.getMembersListCopy</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; getMembersListCopy()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a></div><div class="ttdef"><b>Definition</b> <a href="FleetEncounterContextPlugin_8java_source.html#l00018">FleetEncounterContextPlugin.java:18</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html">com.fs.starfarer.api.campaign.InteractionDialogAPI</a></div><div class="ttdef"><b>Definition</b> <a href="InteractionDialogAPI_8java_source.html#l00014">InteractionDialogAPI.java:14</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI_html_a52d00add8a9c52795f652f493ac37244"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html#a52d00add8a9c52795f652f493ac37244">com.fs.starfarer.api.campaign.InteractionDialogAPI.getTextPanel</a></div><div class="ttdeci">TextPanelAPI getTextPanel()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI_html_a00622d2cfb5e1b44aa97c8752135b0e9"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a00622d2cfb5e1b44aa97c8752135b0e9">com.fs.starfarer.api.campaign.SectorAPI.getPlayerFleet</a></div><div class="ttdeci">CampaignFleetAPI getPlayerFleet()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI_html_a062ca6b5bda91016a1af54bc51452ffc"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a062ca6b5bda91016a1af54bc51452ffc">com.fs.starfarer.api.campaign.SectorAPI.getEconomy</a></div><div class="ttdeci">EconomyAPI getEconomy()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI_html_a1c87c4354954a711b4b26f1a72296b64"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a1c87c4354954a711b4b26f1a72296b64">com.fs.starfarer.api.campaign.SectorAPI.reportPlayerEngagement</a></div><div class="ttdeci">void reportPlayerEngagement(EngagementResultAPI result)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI_html_a254a303dda0ab94233231615f0ebeee1"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a254a303dda0ab94233231615f0ebeee1">com.fs.starfarer.api.campaign.SectorAPI.adjustPlayerReputation</a></div><div class="ttdeci">ReputationAdjustmentResult adjustPlayerReputation(Object action, String factionId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI_html_a337e494f6f1704a914486866a82b6ba8"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a337e494f6f1704a914486866a82b6ba8">com.fs.starfarer.api.campaign.SectorAPI.getClock</a></div><div class="ttdeci">CampaignClockAPI getClock()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI_html_a3ab402c36759be309fd2e5b3bf9c0ca2"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a3ab402c36759be309fd2e5b3bf9c0ca2">com.fs.starfarer.api.campaign.SectorAPI.getPlayerBattleSeed</a></div><div class="ttdeci">long getPlayerBattleSeed()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI_html_a763cef46b40424475949be7d8b85d802"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a763cef46b40424475949be7d8b85d802">com.fs.starfarer.api.campaign.SectorAPI.getPlayerFaction</a></div><div class="ttdeci">FactionAPI getPlayerFaction()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI_html_a9977c6edf345ec5df10d0fe352d49184"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a9977c6edf345ec5df10d0fe352d49184">com.fs.starfarer.api.campaign.SectorAPI.getIntelManager</a></div><div class="ttdeci">IntelManagerAPI getIntelManager()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI_html_a9ea4efc2ffbcdaa27ef6cdbbece74e11"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#a9ea4efc2ffbcdaa27ef6cdbbece74e11">com.fs.starfarer.api.campaign.SectorAPI.reportBattleOccurred</a></div><div class="ttdeci">void reportBattleOccurred(CampaignFleetAPI primaryWinner, BattleAPI battle)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI_html_ab5c4b15c0fec901a49bd95b6983649e9"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#ab5c4b15c0fec901a49bd95b6983649e9">com.fs.starfarer.api.campaign.SectorAPI.getPlayerStats</a></div><div class="ttdeci">MutableCharacterStatsAPI getPlayerStats()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI_html_afa1677e682b8f66ea542a8f92ac30302"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorAPI.html#afa1677e682b8f66ea542a8f92ac30302">com.fs.starfarer.api.campaign.SectorAPI.reportBattleFinished</a></div><div class="ttdeci">void reportBattleFinished(CampaignFleetAPI primaryWinner, BattleAPI battle)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken_html_a8e791da6811cee24af4a1c3c30496ba8"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#a8e791da6811cee24af4a1c3c30496ba8">com.fs.starfarer.api.campaign.SectorEntityToken.getId</a></div><div class="ttdeci">String getId()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken_html_ab219cada372a13654e8e912aba977b05"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">com.fs.starfarer.api.campaign.SectorEntityToken.getCargo</a></div><div class="ttdeci">CargoAPI getCargo()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken_html_adcd558c1d95f9755066ddaf9a77311c1"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#adcd558c1d95f9755066ddaf9a77311c1">com.fs.starfarer.api.campaign.SectorEntityToken.getMemoryWithoutUpdate</a></div><div class="ttdeci">MemoryAPI getMemoryWithoutUpdate()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken_html_afb72bc74f75ccbbf240564b26b94e17b"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#afb72bc74f75ccbbf240564b26b94e17b">com.fs.starfarer.api.campaign.SectorEntityToken.getFaction</a></div><div class="ttdeci">FactionAPI getFaction()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SpecialItemSpecAPI_html_a0e066702f6c84ff651ea8b3725320b84"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SpecialItemSpecAPI.html#a0e066702f6c84ff651ea8b3725320b84">com.fs.starfarer.api.campaign.SpecialItemSpecAPI.hasTag</a></div><div class="ttdeci">boolean hasTag(String tag)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI.html">com.fs.starfarer.api.campaign.TextPanelAPI</a></div><div class="ttdef"><b>Definition</b> <a href="TextPanelAPI_8java_source.html#l00010">TextPanelAPI.java:10</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI_html_a984f6aa6cc7da2f39c9d3a2193fc1d58"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI.html#a984f6aa6cc7da2f39c9d3a2193fc1d58">com.fs.starfarer.api.campaign.TextPanelAPI.addParagraph</a></div><div class="ttdeci">LabelAPI addParagraph(String text)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1CampaignFleetAIAPI_html_a4507f5ebe919b592e759bfa8f8558ebf"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1CampaignFleetAIAPI.html#a4507f5ebe919b592e759bfa8f8558ebf">com.fs.starfarer.api.campaign.ai.CampaignFleetAIAPI.isCurrentAssignment</a></div><div class="ttdeci">boolean isCurrentAssignment(FleetAssignment assignment)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1CampaignFleetAIAPI_html_ab6b28f1fdf2c418078adbc9b6c829d2b"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1CampaignFleetAIAPI.html#ab6b28f1fdf2c418078adbc9b6c829d2b">com.fs.starfarer.api.campaign.ai.CampaignFleetAIAPI.addAssignmentAtStart</a></div><div class="ttdeci">void addAssignmentAtStart(FleetAssignment assignment, SectorEntityToken target, float maxDurationInDays, Script onCompletion)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1ModularFleetAIAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1ModularFleetAIAPI.html">com.fs.starfarer.api.campaign.ai.ModularFleetAIAPI</a></div><div class="ttdef"><b>Definition</b> <a href="ModularFleetAIAPI_8java_source.html#l00028">ModularFleetAIAPI.java:28</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1ModularFleetAIAPI_html_a389795b43721d407c17dbc61a9b53c82"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1ModularFleetAIAPI.html#a389795b43721d407c17dbc61a9b53c82">com.fs.starfarer.api.campaign.ai.ModularFleetAIAPI.getTacticalModule</a></div><div class="ttdeci">TacticalModulePlugin getTacticalModule()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1TacticalModulePlugin_html_a944822b953c14f87d4c7201370c7c980"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1TacticalModulePlugin.html#a944822b953c14f87d4c7201370c7c980">com.fs.starfarer.api.campaign.ai.TacticalModulePlugin.forceTargetReEval</a></div><div class="ttdeci">void forceTargetReEval()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1comm_1_1IntelManagerAPI_html_a37225680af10f2293bd171edc417ffb6"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1comm_1_1IntelManagerAPI.html#a37225680af10f2293bd171edc417ffb6">com.fs.starfarer.api.campaign.comm.IntelManagerAPI.addIntel</a></div><div class="ttdeci">void addIntel(IntelInfoPlugin plugin)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI.html">com.fs.starfarer.api.campaign.econ.CommoditySpecAPI</a></div><div class="ttdef"><b>Definition</b> <a href="CommoditySpecAPI_8java_source.html#l00008">CommoditySpecAPI.java:8</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI_html_a32669b3bd929df706958e478755defa5"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI.html#a32669b3bd929df706958e478755defa5">com.fs.starfarer.api.campaign.econ.CommoditySpecAPI.hasTag</a></div><div class="ttdeci">boolean hasTag(String tag)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI_html_a667cad9d981a043d6a4870a5313f4028"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1CommoditySpecAPI.html#a667cad9d981a043d6a4870a5313f4028">com.fs.starfarer.api.campaign.econ.CommoditySpecAPI.getBasePrice</a></div><div class="ttdeci">float getBasePrice()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1EconomyAPI_html_a0de8e86fe5378832931a8576cee5445c"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1econ_1_1EconomyAPI.html#a0de8e86fe5378832931a8576cee5445c">com.fs.starfarer.api.campaign.econ.EconomyAPI.getCommoditySpec</a></div><div class="ttdeci">CommoditySpecAPI getCommoditySpec(String commodityId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html">com.fs.starfarer.api.campaign.rules.MemoryAPI</a></div><div class="ttdef"><b>Definition</b> <a href="MemoryAPI_8java_source.html#l00012">MemoryAPI.java:12</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI_html_a28696c62412615a71c82cb78b143b0a4"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#a28696c62412615a71c82cb78b143b0a4">com.fs.starfarer.api.campaign.rules.MemoryAPI.getString</a></div><div class="ttdeci">String getString(String key)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI_html_a60c59adbba73fd159e49e3563116e6f1"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#a60c59adbba73fd159e49e3563116e6f1">com.fs.starfarer.api.campaign.rules.MemoryAPI.contains</a></div><div class="ttdeci">boolean contains(String key)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI_html_ab94576a339d4134d0f8be012f4381a8d"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#ab94576a339d4134d0f8be012f4381a8d">com.fs.starfarer.api.campaign.rules.MemoryAPI.getLong</a></div><div class="ttdeci">long getLong(String key)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI_html_adb833cc81359cc239a89eae309480fc9"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#adb833cc81359cc239a89eae309480fc9">com.fs.starfarer.api.campaign.rules.MemoryAPI.getBoolean</a></div><div class="ttdeci">boolean getBoolean(String key)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html">com.fs.starfarer.api.characters.MutableCharacterStatsAPI</a></div><div class="ttdef"><b>Definition</b> <a href="MutableCharacterStatsAPI_8java_source.html#l00012">MutableCharacterStatsAPI.java:12</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI_html_a4abbf01e8a84ced9a2e8e615effd0391"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a4abbf01e8a84ced9a2e8e615effd0391">com.fs.starfarer.api.characters.MutableCharacterStatsAPI.setBonusXPGainReason</a></div><div class="ttdeci">void setBonusXPGainReason(String bonusXPGainReason)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI_html_a728c877597c07f22513cc51e3e5b0286"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a728c877597c07f22513cc51e3e5b0286">com.fs.starfarer.api.characters.MutableCharacterStatsAPI.addXP</a></div><div class="ttdeci">void addXP(long xp, TextPanelAPI textPanel, boolean withMessage, boolean allowBonusXP, boolean withLevelUp)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI_html_a847115793695c3fdf2516d4568d48ef4"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a847115793695c3fdf2516d4568d48ef4">com.fs.starfarer.api.characters.MutableCharacterStatsAPI.setOnlyAddBonusXPDoNotSpendStoryPoints</a></div><div class="ttdeci">void setOnlyAddBonusXPDoNotSpendStoryPoints(boolean onlyAddBonusXPDoNotSpendStoryPoints)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI_html_a8fb2a58d2330352b4e902597112c9446"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a8fb2a58d2330352b4e902597112c9446">com.fs.starfarer.api.characters.MutableCharacterStatsAPI.spendStoryPoints</a></div><div class="ttdeci">void spendStoryPoints(int points, boolean withMessage, TextPanelAPI textPanel, boolean topScreenMessage, String logText)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI_html_a99062137ccce5dab93a79ff3812a3ecc"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#a99062137ccce5dab93a79ff3812a3ecc">com.fs.starfarer.api.characters.MutableCharacterStatsAPI.getMarineEffectivnessMult</a></div><div class="ttdeci">MutableStat getMarineEffectivnessMult()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI_html_adaf3ed178a5f665f8da4dd5641ac5855"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1MutableCharacterStatsAPI.html#adaf3ed178a5f665f8da4dd5641ac5855">com.fs.starfarer.api.characters.MutableCharacterStatsAPI.levelUpIfNeeded</a></div><div class="ttdeci">void levelUpIfNeeded()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1OfficerDataAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1OfficerDataAPI.html">com.fs.starfarer.api.characters.OfficerDataAPI</a></div><div class="ttdef"><b>Definition</b> <a href="OfficerDataAPI_8java_source.html#l00010">OfficerDataAPI.java:10</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1OfficerDataAPI_html_a66ce72ca011ffbea8cb34947cce245f8"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1OfficerDataAPI.html#a66ce72ca011ffbea8cb34947cce245f8">com.fs.starfarer.api.characters.OfficerDataAPI.addXP</a></div><div class="ttdeci">void addXP(long xp)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html">com.fs.starfarer.api.characters.PersonAPI</a></div><div class="ttdef"><b>Definition</b> <a href="PersonAPI_8java_source.html#l00021">PersonAPI.java:21</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI_html_a1cfdd64aa9c10e01055badd3c799fff3"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#a1cfdd64aa9c10e01055badd3c799fff3">com.fs.starfarer.api.characters.PersonAPI.getAICoreId</a></div><div class="ttdeci">String getAICoreId()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI_html_ab1dc0541432c8885b0e27cca0be945e8"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#ab1dc0541432c8885b0e27cca0be945e8">com.fs.starfarer.api.characters.PersonAPI.getStats</a></div><div class="ttdeci">MutableCharacterStatsAPI getStats()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI_html_abccf50492b3fcc15fe7be6afdff04eea"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#abccf50492b3fcc15fe7be6afdff04eea">com.fs.starfarer.api.characters.PersonAPI.getMemoryWithoutUpdate</a></div><div class="ttdeci">MemoryAPI getMemoryWithoutUpdate()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI_html_ace61d4ffe51dae330290b64b56ec3524"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1characters_1_1PersonAPI.html#ace61d4ffe51dae330290b64b56ec3524">com.fs.starfarer.api.characters.PersonAPI.isAICore</a></div><div class="ttdeci">boolean isAICore()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html">com.fs.starfarer.api.combat.DeployedFleetMemberAPI</a></div><div class="ttdef"><b>Definition</b> <a href="DeployedFleetMemberAPI_8java_source.html#l00014">DeployedFleetMemberAPI.java:14</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI_html_a14477d02aa14cf6d33e002d9ab46861f"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#a14477d02aa14cf6d33e002d9ab46861f">com.fs.starfarer.api.combat.DeployedFleetMemberAPI.getMember</a></div><div class="ttdeci">FleetMemberAPI getMember()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI_html_ab8bd06f904375d60d9d945d4796fcfc0"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#ab8bd06f904375d60d9d945d4796fcfc0">com.fs.starfarer.api.combat.DeployedFleetMemberAPI.getShip</a></div><div class="ttdeci">ShipAPI getShip()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI_html_abe0f6efd38657d8153cca15e97a08b9c"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1DeployedFleetMemberAPI.html#abe0f6efd38657d8153cca15e97a08b9c">com.fs.starfarer.api.combat.DeployedFleetMemberAPI.isFighterWing</a></div><div class="ttdeci">boolean isFighterWing()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">com.fs.starfarer.api.combat.EngagementResultAPI</a></div><div class="ttdef"><b>Definition</b> <a href="EngagementResultAPI_8java_source.html#l00007">EngagementResultAPI.java:7</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI_html_a346b9485bc2e469e99b053a3427e329e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a346b9485bc2e469e99b053a3427e329e">com.fs.starfarer.api.combat.EngagementResultAPI.getLoserResult</a></div><div class="ttdeci">EngagementResultForFleetAPI getLoserResult()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI_html_a38be74b85e76f164312345a458cd156f"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a38be74b85e76f164312345a458cd156f">com.fs.starfarer.api.combat.EngagementResultAPI.getWinnerResult</a></div><div class="ttdeci">EngagementResultForFleetAPI getWinnerResult()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI_html_a3a8f09a2a60ff5b967ca7013c9345fdf"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a3a8f09a2a60ff5b967ca7013c9345fdf">com.fs.starfarer.api.combat.EngagementResultAPI.getLastCombatDamageData</a></div><div class="ttdeci">CombatDamageData getLastCombatDamageData()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI_html_a971a538996c15ce03b100d0c412bb837"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html#a971a538996c15ce03b100d0c412bb837">com.fs.starfarer.api.combat.EngagementResultAPI.isPlayerOutBeforeEnd</a></div><div class="ttdeci">boolean isPlayerOutBeforeEnd()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1FighterLaunchBayAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1FighterLaunchBayAPI.html">com.fs.starfarer.api.combat.FighterLaunchBayAPI</a></div><div class="ttdef"><b>Definition</b> <a href="FighterLaunchBayAPI_8java_source.html#l00007">FighterLaunchBayAPI.java:7</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1HullModEffect_html_a5669810bb9a7e336db57dffc2f809e68"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1HullModEffect.html#a5669810bb9a7e336db57dffc2f809e68">com.fs.starfarer.api.combat.HullModEffect.getRequiredItem</a></div><div class="ttdeci">default CargoStackAPI getRequiredItem()</div><div class="ttdef"><b>Definition</b> <a href="HullModEffect_8java_source.html#l00139">HullModEffect.java:139</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI_html_a12f3514448185444c288377f366a2ed6"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a12f3514448185444c288377f366a2ed6">com.fs.starfarer.api.combat.MutableShipStatsAPI.getCrewLossMult</a></div><div class="ttdeci">MutableStat getCrewLossMult()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI_html_a4acb36c1ef7dc94f1202cceb1c36ac65"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a4acb36c1ef7dc94f1202cceb1c36ac65">com.fs.starfarer.api.combat.MutableShipStatsAPI.getDynamic</a></div><div class="ttdeci">DynamicStatsAPI getDynamic()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI_html_a5175b578b38a26acf679ec99352edbf7"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a5175b578b38a26acf679ec99352edbf7">com.fs.starfarer.api.combat.MutableShipStatsAPI.getCRPerDeploymentPercent</a></div><div class="ttdeci">StatBonus getCRPerDeploymentPercent()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI_html_a7e2068d10d01dc5b32f000de62977005"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1MutableShipStatsAPI.html#a7e2068d10d01dc5b32f000de62977005">com.fs.starfarer.api.combat.MutableShipStatsAPI.getFluxCapacity</a></div><div class="ttdeci">MutableStat getFluxCapacity()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html">com.fs.starfarer.api.combat.ShipAPI</a></div><div class="ttdef"><b>Definition</b> <a href="ShipAPI_8java_source.html#l00024">ShipAPI.java:24</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI_html_a03255d891aaa79de1ba0ebeac5d270d8"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a03255d891aaa79de1ba0ebeac5d270d8">com.fs.starfarer.api.combat.ShipAPI.getDisabledWeapons</a></div><div class="ttdeci">Set&lt; WeaponAPI &gt; getDisabledWeapons()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI_html_a3f675969b425cb1bdcb000eada3977de"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a3f675969b425cb1bdcb000eada3977de">com.fs.starfarer.api.combat.ShipAPI.getMutableStats</a></div><div class="ttdeci">MutableShipStatsAPI getMutableStats()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI_html_a4826189fb817424cdafcd16dfbd24e7b"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a4826189fb817424cdafcd16dfbd24e7b">com.fs.starfarer.api.combat.ShipAPI.getCurrentCR</a></div><div class="ttdeci">float getCurrentCR()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI_html_a50578a8ec0bdf70beb5e50968b9e48cf"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a50578a8ec0bdf70beb5e50968b9e48cf">com.fs.starfarer.api.combat.ShipAPI.getLowestHullLevelReached</a></div><div class="ttdeci">float getLowestHullLevelReached()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI_html_a69de0487e04078ddfd6c51de68ebcd3a"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a69de0487e04078ddfd6c51de68ebcd3a">com.fs.starfarer.api.combat.ShipAPI.getHullLevelAtDeployment</a></div><div class="ttdeci">float getHullLevelAtDeployment()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI_html_a7df724d8747c43fd0da6e1ec8df7140c"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#a7df724d8747c43fd0da6e1ec8df7140c">com.fs.starfarer.api.combat.ShipAPI.getWingCRAtDeployment</a></div><div class="ttdeci">float getWingCRAtDeployment()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI_html_aa5d786101d380df98ac79f0d1d2bbd0e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#aa5d786101d380df98ac79f0d1d2bbd0e">com.fs.starfarer.api.combat.ShipAPI.getAllWeapons</a></div><div class="ttdeci">List&lt; WeaponAPI &gt; getAllWeapons()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI_html_aa5de55c7deee8d5064cdb900ec42d0f6"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#aa5de55c7deee8d5064cdb900ec42d0f6">com.fs.starfarer.api.combat.ShipAPI.getVariant</a></div><div class="ttdeci">ShipVariantAPI getVariant()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI_html_abd4378a6fc667e8fd041b6fd5e9083d4"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#abd4378a6fc667e8fd041b6fd5e9083d4">com.fs.starfarer.api.combat.ShipAPI.getNumFlameouts</a></div><div class="ttdeci">int getNumFlameouts()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI_html_accb17eb6df7d0b347aa04b0dccd6e5ac"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipAPI.html#accb17eb6df7d0b347aa04b0dccd6e5ac">com.fs.starfarer.api.combat.ShipAPI.getLaunchBaysCopy</a></div><div class="ttdeci">List&lt; FighterLaunchBayAPI &gt; getLaunchBaysCopy()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI_html_a18240a4a6fbb6bf108f5f04ce1b2ac6d"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI.html#a18240a4a6fbb6bf108f5f04ce1b2ac6d">com.fs.starfarer.api.combat.ShipHullSpecAPI.getHullSize</a></div><div class="ttdeci">HullSize getHullSize()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI_html_a6ef316c1cca6df1ebbe1c9149c51a8c9"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI.html#a6ef316c1cca6df1ebbe1c9149c51a8c9">com.fs.starfarer.api.combat.ShipHullSpecAPI.getCRToDeploy</a></div><div class="ttdeci">float getCRToDeploy()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI_html_a7a5e4be13321e01e8d2aaa289beef3a4"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI.html#a7a5e4be13321e01e8d2aaa289beef3a4">com.fs.starfarer.api.combat.ShipHullSpecAPI.isBuiltInMod</a></div><div class="ttdeci">boolean isBuiltInMod(String modId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI_html_aabe26d1df8b0cfdc16677b124887ace1"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipHullSpecAPI.html#aabe26d1df8b0cfdc16677b124887ace1">com.fs.starfarer.api.combat.ShipHullSpecAPI.getOrdnancePoints</a></div><div class="ttdeci">int getOrdnancePoints(MutableCharacterStatsAPI stats)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">com.fs.starfarer.api.combat.ShipVariantAPI</a></div><div class="ttdef"><b>Definition</b> <a href="ShipVariantAPI_8java_source.html#l00021">ShipVariantAPI.java:21</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a03b8944bd46d33a247008dade28c7503"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a03b8944bd46d33a247008dade28c7503">com.fs.starfarer.api.combat.ShipVariantAPI.getHullMods</a></div><div class="ttdeci">Collection&lt; String &gt; getHullMods()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a0577d97264a45029982e5825bf652989"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a0577d97264a45029982e5825bf652989">com.fs.starfarer.api.combat.ShipVariantAPI.hasTag</a></div><div class="ttdeci">boolean hasTag(String tag)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a0e0dd1512188a554b481b5c8b700a8d1"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a0e0dd1512188a554b481b5c8b700a8d1">com.fs.starfarer.api.combat.ShipVariantAPI.getWeaponId</a></div><div class="ttdeci">String getWeaponId(String slotId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a0fdeadbc976e07744884cdb0b54913d5"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a0fdeadbc976e07744884cdb0b54913d5">com.fs.starfarer.api.combat.ShipVariantAPI.getStatsForOpCosts</a></div><div class="ttdeci">MutableShipStatsAPI getStatsForOpCosts()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a1f3d1f0c3278c3a820c9851592a1efcc"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a1f3d1f0c3278c3a820c9851592a1efcc">com.fs.starfarer.api.combat.ShipVariantAPI.getModuleSlots</a></div><div class="ttdeci">List&lt; String &gt; getModuleSlots()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a254d590296a7d84aaaef8d3ac339335d"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a254d590296a7d84aaaef8d3ac339335d">com.fs.starfarer.api.combat.ShipVariantAPI.getFittedWings</a></div><div class="ttdeci">List&lt; String &gt; getFittedWings()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a2e52cbdc849ea3ee1912ff183824752e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a2e52cbdc849ea3ee1912ff183824752e">com.fs.starfarer.api.combat.ShipVariantAPI.getSMods</a></div><div class="ttdeci">LinkedHashSet&lt; String &gt; getSMods()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a40b7919691b6e5cce493fb104916daa6"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a40b7919691b6e5cce493fb104916daa6">com.fs.starfarer.api.combat.ShipVariantAPI.clone</a></div><div class="ttdeci">ShipVariantAPI clone()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a431ec849ab1e4015cd3cfb00a6f58af5"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a431ec849ab1e4015cd3cfb00a6f58af5">com.fs.starfarer.api.combat.ShipVariantAPI.removePermaMod</a></div><div class="ttdeci">void removePermaMod(String modId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a460e20a0343c11f877e89c9c5d3e4c8a"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a460e20a0343c11f877e89c9c5d3e4c8a">com.fs.starfarer.api.combat.ShipVariantAPI.getStationModules</a></div><div class="ttdeci">Map&lt; String, String &gt; getStationModules()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a5fb159c301deb6e8bb278165c761e027"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a5fb159c301deb6e8bb278165c761e027">com.fs.starfarer.api.combat.ShipVariantAPI.clearSlot</a></div><div class="ttdeci">void clearSlot(String slotId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a6da38c12f692081e9843981fe9625c89"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a6da38c12f692081e9843981fe9625c89">com.fs.starfarer.api.combat.ShipVariantAPI.setWingId</a></div><div class="ttdeci">void setWingId(int index, String wingId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a6e848c1b09a06753d4073c13740fc8bb"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a6e848c1b09a06753d4073c13740fc8bb">com.fs.starfarer.api.combat.ShipVariantAPI.getModuleVariant</a></div><div class="ttdeci">ShipVariantAPI getModuleVariant(String slotId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a7e52bf51523e9cc8d016f3c7ef49d346"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a7e52bf51523e9cc8d016f3c7ef49d346">com.fs.starfarer.api.combat.ShipVariantAPI.setOriginalVariant</a></div><div class="ttdeci">void setOriginalVariant(String targetVariant)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a80f97d773b7bb00c2a9e175bc4cf11ea"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a80f97d773b7bb00c2a9e175bc4cf11ea">com.fs.starfarer.api.combat.ShipVariantAPI.getNonBuiltInWings</a></div><div class="ttdeci">List&lt; String &gt; getNonBuiltInWings()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a88fb55e65c74f293fc9098b2553bbe1c"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a88fb55e65c74f293fc9098b2553bbe1c">com.fs.starfarer.api.combat.ShipVariantAPI.getHullSpec</a></div><div class="ttdeci">ShipHullSpecAPI getHullSpec()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a8e96f2b7dbb8d6025624e4291c9ffdfd"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a8e96f2b7dbb8d6025624e4291c9ffdfd">com.fs.starfarer.api.combat.ShipVariantAPI.setNumFluxVents</a></div><div class="ttdeci">void setNumFluxVents(int vents)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_a98e82a07eeee2063307b62db27f73fe9"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#a98e82a07eeee2063307b62db27f73fe9">com.fs.starfarer.api.combat.ShipVariantAPI.setModuleVariant</a></div><div class="ttdeci">void setModuleVariant(String slotId, ShipVariantAPI variant)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_aa61e424eb732a8428727fe0b9678cb1c"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#aa61e424eb732a8428727fe0b9678cb1c">com.fs.starfarer.api.combat.ShipVariantAPI.getNonBuiltInWeaponSlots</a></div><div class="ttdeci">List&lt; String &gt; getNonBuiltInWeaponSlots()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_aa93cf815bf895b9f465f9fe30fbe692e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#aa93cf815bf895b9f465f9fe30fbe692e">com.fs.starfarer.api.combat.ShipVariantAPI.setSource</a></div><div class="ttdeci">void setSource(VariantSource source)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_abb9e436adb3c410db19a5a8acdffc3c9"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#abb9e436adb3c410db19a5a8acdffc3c9">com.fs.starfarer.api.combat.ShipVariantAPI.setNumFluxCapacitors</a></div><div class="ttdeci">void setNumFluxCapacitors(int capacitors)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_ac8f1a832a1b92692d16b5036c948d34a"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#ac8f1a832a1b92692d16b5036c948d34a">com.fs.starfarer.api.combat.ShipVariantAPI.removeMod</a></div><div class="ttdeci">void removeMod(String modId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_ac9f8c4babdee19e16ee984b1c7235a92"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#ac9f8c4babdee19e16ee984b1c7235a92">com.fs.starfarer.api.combat.ShipVariantAPI.clearHullMods</a></div><div class="ttdeci">void clearHullMods()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_ae355e6dbee8ecb6431086eab7f2c72a0"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#ae355e6dbee8ecb6431086eab7f2c72a0">com.fs.starfarer.api.combat.ShipVariantAPI.getSlot</a></div><div class="ttdeci">WeaponSlotAPI getSlot(String slotId)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI_html_afcc32ff3e9684b1dffd1aa90c692af58"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html#afcc32ff3e9684b1dffd1aa90c692af58">com.fs.starfarer.api.combat.ShipVariantAPI.addTag</a></div><div class="ttdeci">void addTag(String tag)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1WeaponAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1WeaponAPI.html">com.fs.starfarer.api.combat.WeaponAPI</a></div><div class="ttdef"><b>Definition</b> <a href="WeaponAPI_8java_source.html#l00020">WeaponAPI.java:20</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">com.fs.starfarer.api.fleet.CrewCompositionAPI</a></div><div class="ttdef"><b>Definition</b> <a href="CrewCompositionAPI_8java_source.html#l00005">CrewCompositionAPI.java:5</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_a0a4d5e9ee9a492baa0cd0838c4e96dbc"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a0a4d5e9ee9a492baa0cd0838c4e96dbc">com.fs.starfarer.api.fleet.CrewCompositionAPI.removeAll</a></div><div class="ttdeci">void removeAll(CrewCompositionAPI other)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_a30987803f1e663834e2bdde17e4445de"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a30987803f1e663834e2bdde17e4445de">com.fs.starfarer.api.fleet.CrewCompositionAPI.setMarines</a></div><div class="ttdeci">void setMarines(float marines)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_a31be5bb0ed544f99b901ee8d1cfc35af"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a31be5bb0ed544f99b901ee8d1cfc35af">com.fs.starfarer.api.fleet.CrewCompositionAPI.addToCargo</a></div><div class="ttdeci">void addToCargo(CargoAPI cargo)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_a45db8718abaf3f6f6e3a053fa233f27d"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a45db8718abaf3f6f6e3a053fa233f27d">com.fs.starfarer.api.fleet.CrewCompositionAPI.getCrew</a></div><div class="ttdeci">float getCrew()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_a4b8caac979f4f37c904e25570ebdb546"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a4b8caac979f4f37c904e25570ebdb546">com.fs.starfarer.api.fleet.CrewCompositionAPI.addAll</a></div><div class="ttdeci">void addAll(CrewCompositionAPI other)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_a5b20d2480ff6bb6cc97346ee0a4650e4"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5b20d2480ff6bb6cc97346ee0a4650e4">com.fs.starfarer.api.fleet.CrewCompositionAPI.addCrew</a></div><div class="ttdeci">void addCrew(float quantity)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_a5e1ca9f384ef07e3c55d1f84c83c90e1"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a5e1ca9f384ef07e3c55d1f84c83c90e1">com.fs.starfarer.api.fleet.CrewCompositionAPI.getMarines</a></div><div class="ttdeci">float getMarines()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_a6139cce9489d025c4c624621e06c87b6"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a6139cce9489d025c4c624621e06c87b6">com.fs.starfarer.api.fleet.CrewCompositionAPI.multiplyBy</a></div><div class="ttdeci">void multiplyBy(float mult)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_a86214ffdba5579fbac6ba5c315280531"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#a86214ffdba5579fbac6ba5c315280531">com.fs.starfarer.api.fleet.CrewCompositionAPI.addMarines</a></div><div class="ttdeci">void addMarines(float marines)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_ab042e3743b5178d5e72828f292307979"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#ab042e3743b5178d5e72828f292307979">com.fs.starfarer.api.fleet.CrewCompositionAPI.transfer</a></div><div class="ttdeci">void transfer(float quantity, CrewCompositionAPI dest)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_aba603683ff8d65553fc189eef90e7f45"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#aba603683ff8d65553fc189eef90e7f45">com.fs.starfarer.api.fleet.CrewCompositionAPI.removeAllCrew</a></div><div class="ttdeci">void removeAllCrew()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_aed36abc6525fae23823558ed15463e6e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#aed36abc6525fae23823558ed15463e6e">com.fs.starfarer.api.fleet.CrewCompositionAPI.setCrew</a></div><div class="ttdeci">void setCrew(float quantity)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI_html_afdb817b836a7980c5b57ab2418a9a8b5"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html#afdb817b836a7980c5b57ab2418a9a8b5">com.fs.starfarer.api.fleet.CrewCompositionAPI.clear</a></div><div class="ttdeci">void clear()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">com.fs.starfarer.api.fleet.FleetMemberAPI</a></div><div class="ttdef"><b>Definition</b> <a href="FleetMemberAPI_8java_source.html#l00018">FleetMemberAPI.java:18</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a02c1f3832b64a501d673590d57ddfa68"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a02c1f3832b64a501d673590d57ddfa68">com.fs.starfarer.api.fleet.FleetMemberAPI.getBuffManager</a></div><div class="ttdeci">BuffManagerAPI getBuffManager()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a04d298fe8266beb8440baa6f700b1812"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a04d298fe8266beb8440baa6f700b1812">com.fs.starfarer.api.fleet.FleetMemberAPI.isFighterWing</a></div><div class="ttdeci">boolean isFighterWing()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a05a912fabc276d29f6d548fb6e8a93ad"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a05a912fabc276d29f6d548fb6e8a93ad">com.fs.starfarer.api.fleet.FleetMemberAPI.getFleetCommander</a></div><div class="ttdeci">PersonAPI getFleetCommander()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a1230c04f66b7ca8a4a0d859f6602d7d7"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a1230c04f66b7ca8a4a0d859f6602d7d7">com.fs.starfarer.api.fleet.FleetMemberAPI.getVariant</a></div><div class="ttdeci">ShipVariantAPI getVariant()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a13eb0519006764001bf3514c70f1fb16"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a13eb0519006764001bf3514c70f1fb16">com.fs.starfarer.api.fleet.FleetMemberAPI.getId</a></div><div class="ttdeci">String getId()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a306fe7ab88ee3eaa89423f8213b83663"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a306fe7ab88ee3eaa89423f8213b83663">com.fs.starfarer.api.fleet.FleetMemberAPI.getCaptain</a></div><div class="ttdeci">PersonAPI getCaptain()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a37d951e6db6adbe77f121c499951f0c5"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a37d951e6db6adbe77f121c499951f0c5">com.fs.starfarer.api.fleet.FleetMemberAPI.getDeployCost</a></div><div class="ttdeci">float getDeployCost()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a3c3481b84456cfcdc0c1079c62a30a99"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a3c3481b84456cfcdc0c1079c62a30a99">com.fs.starfarer.api.fleet.FleetMemberAPI.isFrigate</a></div><div class="ttdeci">boolean isFrigate()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a40ca097d94ecea6251565ab38622bd0e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a40ca097d94ecea6251565ab38622bd0e">com.fs.starfarer.api.fleet.FleetMemberAPI.getFleetData</a></div><div class="ttdeci">FleetDataAPI getFleetData()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a6af174dcf80ed1dbfeeecc231ba7eeaa"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a6af174dcf80ed1dbfeeecc231ba7eeaa">com.fs.starfarer.api.fleet.FleetMemberAPI.getMinCrew</a></div><div class="ttdeci">float getMinCrew()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a746c0756db05b1bdbea1f822601b143f"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a746c0756db05b1bdbea1f822601b143f">com.fs.starfarer.api.fleet.FleetMemberAPI.setCaptain</a></div><div class="ttdeci">void setCaptain(PersonAPI commander)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a8e9ac6cd346011a8c831ac31d9349874"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a8e9ac6cd346011a8c831ac31d9349874">com.fs.starfarer.api.fleet.FleetMemberAPI.isStation</a></div><div class="ttdeci">boolean isStation()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_a9dc49129979cb5b595a5b5601aafdaff"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#a9dc49129979cb5b595a5b5601aafdaff">com.fs.starfarer.api.fleet.FleetMemberAPI.isDestroyer</a></div><div class="ttdeci">boolean isDestroyer()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_aa29509d96fe7ecf25e470bc6b4799f40"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aa29509d96fe7ecf25e470bc6b4799f40">com.fs.starfarer.api.fleet.FleetMemberAPI.isCapital</a></div><div class="ttdeci">boolean isCapital()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_aae897f8cf2d57239d6740b128254c5ae"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aae897f8cf2d57239d6740b128254c5ae">com.fs.starfarer.api.fleet.FleetMemberAPI.getCrewComposition</a></div><div class="ttdeci">CrewCompositionAPI getCrewComposition()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_abb80a64884429b37aa0c3a845c295f56"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#abb80a64884429b37aa0c3a845c295f56">com.fs.starfarer.api.fleet.FleetMemberAPI.getStatus</a></div><div class="ttdeci">FleetMemberStatusAPI getStatus()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_ad70eba90ebbd5691b064ae9c2695a966"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#ad70eba90ebbd5691b064ae9c2695a966">com.fs.starfarer.api.fleet.FleetMemberAPI.getRepairTracker</a></div><div class="ttdeci">RepairTrackerAPI getRepairTracker()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_aed4840689dd62fda2062830118fabd8a"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#aed4840689dd62fda2062830118fabd8a">com.fs.starfarer.api.fleet.FleetMemberAPI.getNumFightersInWing</a></div><div class="ttdeci">int getNumFightersInWing()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_af485a48c157fbe17d0968e14904341c2"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#af485a48c157fbe17d0968e14904341c2">com.fs.starfarer.api.fleet.FleetMemberAPI.getHullSpec</a></div><div class="ttdeci">ShipHullSpecAPI getHullSpec()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_af5f062a0ac9b9ace548f342fe808ac51"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#af5f062a0ac9b9ace548f342fe808ac51">com.fs.starfarer.api.fleet.FleetMemberAPI.setVariant</a></div><div class="ttdeci">void setVariant(ShipVariantAPI variant, boolean withRefit, boolean withStatsUpdate)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_afa0c82b3d232012077bb68ee1cd95a9e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afa0c82b3d232012077bb68ee1cd95a9e">com.fs.starfarer.api.fleet.FleetMemberAPI.isCruiser</a></div><div class="ttdeci">boolean isCruiser()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_afc5494c88f9095e674a60c2bd4fab516"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afc5494c88f9095e674a60c2bd4fab516">com.fs.starfarer.api.fleet.FleetMemberAPI.setOwner</a></div><div class="ttdeci">void setOwner(int owner)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI_html_afd9dd6acbc98d9e404a3254ebeec29d7"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html#afd9dd6acbc98d9e404a3254ebeec29d7">com.fs.starfarer.api.fleet.FleetMemberAPI.getStats</a></div><div class="ttdeci">MutableShipStatsAPI getStats()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI_html_a0a03d5a5c5230ace2a9b2cf58f13c13d"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#a0a03d5a5c5230ace2a9b2cf58f13c13d">com.fs.starfarer.api.fleet.FleetMemberStatusAPI.setDetached</a></div><div class="ttdeci">void setDetached(int index, Boolean detached)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI_html_a0c670219a4921261e879550a2294bcf7"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#a0c670219a4921261e879550a2294bcf7">com.fs.starfarer.api.fleet.FleetMemberStatusAPI.getArmorDamageTaken</a></div><div class="ttdeci">float getArmorDamageTaken()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI_html_a4726b09d82c1f4be5cd320bd28d89359"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#a4726b09d82c1f4be5cd320bd28d89359">com.fs.starfarer.api.fleet.FleetMemberStatusAPI.disable</a></div><div class="ttdeci">void disable()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI_html_aa659d3ddd5edece1ec3618641cb61f34"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#aa659d3ddd5edece1ec3618641cb61f34">com.fs.starfarer.api.fleet.FleetMemberStatusAPI.getHullDamageTaken</a></div><div class="ttdeci">float getHullDamageTaken()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI_html_ab89460a090db255e49c39029332981d9"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#ab89460a090db255e49c39029332981d9">com.fs.starfarer.api.fleet.FleetMemberStatusAPI.repairHullFraction</a></div><div class="ttdeci">void repairHullFraction(float fraction)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI_html_ac333b13a2dc70c4c13c218acd2d3caba"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#ac333b13a2dc70c4c13c218acd2d3caba">com.fs.starfarer.api.fleet.FleetMemberStatusAPI.setHullFraction</a></div><div class="ttdeci">void setHullFraction(float fraction)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI_html_ad7224ac4976df121bfc4e18b2d653d2e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberStatusAPI.html#ad7224ac4976df121bfc4e18b2d653d2e">com.fs.starfarer.api.fleet.FleetMemberStatusAPI.repairArmorAllCells</a></div><div class="ttdeci">void repairArmorAllCells(float fraction)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI_html_a96ff7a59fdeee626045b3f1461d674a2"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1MutableFleetStatsAPI.html#a96ff7a59fdeee626045b3f1461d674a2">com.fs.starfarer.api.fleet.MutableFleetStatsAPI.getDynamic</a></div><div class="ttdeci">DynamicStatsAPI getDynamic()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI_html_a0abf00e55db7bdf47429286a5b4d2aa8"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#a0abf00e55db7bdf47429286a5b4d2aa8">com.fs.starfarer.api.fleet.RepairTrackerAPI.setMothballed</a></div><div class="ttdeci">void setMothballed(boolean mothballed)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI_html_a1238ad515072fb792ed380005630d01c"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#a1238ad515072fb792ed380005630d01c">com.fs.starfarer.api.fleet.RepairTrackerAPI.getCR</a></div><div class="ttdeci">float getCR()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI_html_a2e5fc52f1201722b757a0301f8bd0a76"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#a2e5fc52f1201722b757a0301f8bd0a76">com.fs.starfarer.api.fleet.RepairTrackerAPI.applyCREvent</a></div><div class="ttdeci">void applyCREvent(float crChange, String description)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI_html_aec5f1812706ae1c5638541f4ff0045a2"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1RepairTrackerAPI.html#aec5f1812706ae1c5638541f4ff0045a2">com.fs.starfarer.api.fleet.RepairTrackerAPI.getBaseCR</a></div><div class="ttdeci">float getBaseCR()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1FighterWingSpecAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1FighterWingSpecAPI.html">com.fs.starfarer.api.loading.FighterWingSpecAPI</a></div><div class="ttdef"><b>Definition</b> <a href="FighterWingSpecAPI_8java_source.html#l00009">FighterWingSpecAPI.java:9</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1FighterWingSpecAPI_html_a5a9f5ab43f83ef1d5d7f5ae8901cd810"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1FighterWingSpecAPI.html#a5a9f5ab43f83ef1d5d7f5ae8901cd810">com.fs.starfarer.api.loading.FighterWingSpecAPI.hasTag</a></div><div class="ttdeci">boolean hasTag(String tag)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI.html">com.fs.starfarer.api.loading.HullModSpecAPI</a></div><div class="ttdef"><b>Definition</b> <a href="HullModSpecAPI_8java_source.html#l00009">HullModSpecAPI.java:9</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI_html_a2b6b3f5df990a814e8551fa743a5bd7a"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI.html#a2b6b3f5df990a814e8551fa743a5bd7a">com.fs.starfarer.api.loading.HullModSpecAPI.hasTag</a></div><div class="ttdeci">boolean hasTag(String tag)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI_html_a6d7669cf88a4eac363e50df38b134c49"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI.html#a6d7669cf88a4eac363e50df38b134c49">com.fs.starfarer.api.loading.HullModSpecAPI.isHiddenEverywhere</a></div><div class="ttdeci">boolean isHiddenEverywhere()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI_html_a82c01fb1fb2e689b19ff4ef031e47ef9"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI.html#a82c01fb1fb2e689b19ff4ef031e47ef9">com.fs.starfarer.api.loading.HullModSpecAPI.isHidden</a></div><div class="ttdeci">boolean isHidden()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI_html_af3d374dd0ea115dc31e4adcfba0c8b79"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1HullModSpecAPI.html#af3d374dd0ea115dc31e4adcfba0c8b79">com.fs.starfarer.api.loading.HullModSpecAPI.getEffect</a></div><div class="ttdeci">HullModEffect getEffect()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSlotAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSlotAPI.html">com.fs.starfarer.api.loading.WeaponSlotAPI</a></div><div class="ttdef"><b>Definition</b> <a href="WeaponSlotAPI_8java_source.html#l00011">WeaponSlotAPI.java:11</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSlotAPI_html_a92d4287d558a37c3ae7d07428f21d38e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSlotAPI.html#a92d4287d558a37c3ae7d07428f21d38e">com.fs.starfarer.api.loading.WeaponSlotAPI.isStationModule</a></div><div class="ttdeci">boolean isStationModule()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSpecAPI_html"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSpecAPI.html">com.fs.starfarer.api.loading.WeaponSpecAPI</a></div><div class="ttdef"><b>Definition</b> <a href="WeaponSpecAPI_8java_source.html#l00019">WeaponSpecAPI.java:19</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSpecAPI_html_a002c8c4e42e973c53d1a90fd5af50e07"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1loading_1_1WeaponSpecAPI.html#a002c8c4e42e973c53d1a90fd5af50e07">com.fs.starfarer.api.loading.WeaponSpecAPI.hasTag</a></div><div class="ttdeci">boolean hasTag(String tag)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI_html_a73ee4989e89b94b194c02666c712c07e"><div class="ttname"><a href="interfacecom_1_1fs_1_1starfarer_1_1api_1_1util_1_1DynamicStatsAPI.html#a73ee4989e89b94b194c02666c712c07e">com.fs.starfarer.api.util.DynamicStatsAPI.getValue</a></div><div class="ttdeci">float getValue(String id)</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_541eb0a6c58a7690acc5b848a4b1b724.html">com</a></li><li class="navelem"><a class="el" href="dir_8f3d35488c966fc64958d80d14839327.html">fs</a></li><li class="navelem"><a class="el" href="dir_64034c0f649e387127e16745f5dc8f08.html">starfarer</a></li><li class="navelem"><a class="el" href="dir_daee354c68042104fe1be7809ba01a34.html">api</a></li><li class="navelem"><a class="el" href="dir_c3e44a2cb6539bce566030a8124b24f6.html">impl</a></li><li class="navelem"><a class="el" href="dir_a97849aa00b4b350353d218b866e6277.html">campaign</a></li><li class="navelem"><a class="el" href="FleetEncounterContext_8java.html">FleetEncounterContext.java</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
