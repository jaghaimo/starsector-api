<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Starsector API: com.fs.starfarer.api.impl.campaign.FleetEncounterContext Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Starsector API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d5/d5d/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">com.fs.starfarer.api.impl.campaign.FleetEncounterContext Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for com.fs.starfarer.api.impl.campaign.FleetEncounterContext:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/de1/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext__inherit__graph.svg" width="232" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for com.fs.starfarer.api.impl.campaign.FleetEncounterContext:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d8/d24/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext__coll__graph.svg" width="718" height="630"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>BoardingAttackType</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>BoardingOutcome</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>BoardingResult</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>EngageBoardableOutcome</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>LootableCargoStack</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>LossFraction</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4ea007b28fa7e66f8b9bf585f8fdc974"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4ea007b28fa7e66f8b9bf585f8fdc974">FleetEncounterContext</a> ()</td></tr>
<tr class="separator:a4ea007b28fa7e66f8b9bf585f8fdc974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ca62c0f5eb95ca18ee610a2ec2f25a"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac8ca62c0f5eb95ca18ee610a2ec2f25a">isAutoresolve</a> ()</td></tr>
<tr class="separator:ac8ca62c0f5eb95ca18ee610a2ec2f25a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9044fa2147f8545e36a6c86ba55f5f11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9044fa2147f8545e36a6c86ba55f5f11">setAutoresolve</a> (boolean <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">isAutoresolve</a>)</td></tr>
<tr class="separator:a9044fa2147f8545e36a6c86ba55f5f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381e607369769826578a1760f9ca0305"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a> ()</td></tr>
<tr class="separator:a381e607369769826578a1760f9ca0305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af161b5553653341badf848a9574267b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af161b5553653341badf848a9574267b6">setBattle</a> (<a class="el" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a> <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>)</td></tr>
<tr class="separator:af161b5553653341badf848a9574267b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a789f8a2356e270a6c24749a637e2097e"><td class="memItemLeft" align="right" valign="top">DataForEncounterSide&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a> (<a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> participantOrCombined)</td></tr>
<tr class="separator:a789f8a2356e270a6c24749a637e2097e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdada664ff95e13bb05f64a01f35507b"><td class="memItemLeft" align="right" valign="top">DataForEncounterSide&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a> ()</td></tr>
<tr class="separator:acdada664ff95e13bb05f64a01f35507b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263ae72ae33afdfab40048c4b75c10b5"><td class="memItemLeft" align="right" valign="top">DataForEncounterSide&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a> ()</td></tr>
<tr class="separator:a263ae72ae33afdfab40048c4b75c10b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa433b4940ea0c102bea1980edce68b61"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa433b4940ea0c102bea1980edce68b61">isEngagedInHostilities</a> ()</td></tr>
<tr class="separator:aa433b4940ea0c102bea1980edce68b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb855a39698e3241ac484a8f3df9a329"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#afb855a39698e3241ac484a8f3df9a329">setEngagedInHostilities</a> (boolean <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a>)</td></tr>
<tr class="separator:afb855a39698e3241ac484a8f3df9a329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f01515bb012a4ecec853fc10d5d172"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a65f01515bb012a4ecec853fc10d5d172">setOtherFleetHarriedPlayer</a> (boolean <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a622f25000d780d58fb5af7ef355a428d">otherFleetHarriedPlayer</a>)</td></tr>
<tr class="separator:a65f01515bb012a4ecec853fc10d5d172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b2d76a4b1b4a74d8f95d4af61562ce1"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4b2d76a4b1b4a74d8f95d4af61562ce1">isOtherFleetHarriedPlayer</a> ()</td></tr>
<tr class="separator:a4b2d76a4b1b4a74d8f95d4af61562ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c5949fe670201d6051c086adca25ba"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a59c5949fe670201d6051c086adca25ba">isEngagedInActualBattle</a> ()</td></tr>
<tr class="separator:a59c5949fe670201d6051c086adca25ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab597f5466ec975f40d5920ba3fbbed5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aab597f5466ec975f40d5920ba3fbbed5">setEngagedInActualBattle</a> (boolean <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">engagedInActualBattle</a>)</td></tr>
<tr class="separator:aab597f5466ec975f40d5920ba3fbbed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e6049ced9ef64fdc197186cc808cdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af4e6049ced9ef64fdc197186cc808cdc">processEngagementResults</a> (<a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result)</td></tr>
<tr class="separator:af4e6049ced9ef64fdc197186cc808cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8947c054f842d88b2ae053650ff1d3ce"><td class="memItemLeft" align="right" valign="top">PursueAvailability&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8947c054f842d88b2ae053650ff1d3ce">getPursuitAvailability</a> (<a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> otherFleet)</td></tr>
<tr class="separator:a8947c054f842d88b2ae053650ff1d3ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf85c7f6b044b4b6a8d46b29309b783d"><td class="memItemLeft" align="right" valign="top">DisengageHarryAvailability&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acf85c7f6b044b4b6a8d46b29309b783d">getDisengageHarryAvailability</a> (<a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> otherFleet)</td></tr>
<tr class="separator:acf85c7f6b044b4b6a8d46b29309b783d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2bd1e7c4546d77cd2433ed0f996a41b"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">getDeployCost</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member)</td></tr>
<tr class="separator:ad2bd1e7c4546d77cd2433ed0f996a41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855c871e3e911fe7d3120d988be3e60e"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a855c871e3e911fe7d3120d988be3e60e">isLowRepImpact</a> ()</td></tr>
<tr class="separator:a855c871e3e911fe7d3120d988be3e60e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33be18c67e2c0aed2e95799be7488588"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33be18c67e2c0aed2e95799be7488588">isNoRepImpact</a> ()</td></tr>
<tr class="separator:a33be18c67e2c0aed2e95799be7488588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28c6b7366c0368028794f745eeed89ad"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a28c6b7366c0368028794f745eeed89ad">adjustPlayerReputation</a> (<a class="el" href="../../da/d82/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html">InteractionDialogAPI</a> dialog, String ffText)</td></tr>
<tr class="separator:a28c6b7366c0368028794f745eeed89ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6bd654cda50c5962ef742f22200edf1"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac6bd654cda50c5962ef742f22200edf1">adjustPlayerReputation</a> (<a class="el" href="../../da/d82/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html">InteractionDialogAPI</a> dialog, String ffText, boolean okToAdjustAlly, boolean okToAdjustEnemy)</td></tr>
<tr class="separator:ac6bd654cda50c5962ef742f22200edf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6bd36dfdd0a8f2db7bb0457770a307e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/ddc/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI.html">TextPanelAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac6bd36dfdd0a8f2db7bb0457770a307e">getTextPanelForXPGain</a> ()</td></tr>
<tr class="separator:ac6bd36dfdd0a8f2db7bb0457770a307e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a238b22364359664b10ce834e3fe98624"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a238b22364359664b10ce834e3fe98624">setTextPanelForXPGain</a> (<a class="el" href="../../d4/ddc/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI.html">TextPanelAPI</a> <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>)</td></tr>
<tr class="separator:a238b22364359664b10ce834e3fe98624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54737242ac099e9dc420bab76306946b"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54737242ac099e9dc420bab76306946b">isNoHarryBecauseOfStation</a> ()</td></tr>
<tr class="separator:a54737242ac099e9dc420bab76306946b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19912c0a411dad78f4c5c3d6c3bf327a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a19912c0a411dad78f4c5c3d6c3bf327a">setNoHarryBecauseOfStation</a> (boolean <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">noHarryBecauseOfStation</a>)</td></tr>
<tr class="separator:a19912c0a411dad78f4c5c3d6c3bf327a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a494d964ac4f5c92fa01971e52f51d655"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a494d964ac4f5c92fa01971e52f51d655">applyAfterBattleEffectsIfThereWasABattle</a> ()</td></tr>
<tr class="separator:a494d964ac4f5c92fa01971e52f51d655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb0f56073b77ade1d8155013d603647"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8cb0f56073b77ade1d8155013d603647">performPostVictoryRecovery</a> (<a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result)</td></tr>
<tr class="separator:a8cb0f56073b77ade1d8155013d603647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f493c97affe8d8dcf6e44a4987925ca"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5f493c97affe8d8dcf6e44a4987925ca">performPostEngagementRecoveryBoth</a> (<a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result)</td></tr>
<tr class="separator:a5f493c97affe8d8dcf6e44a4987925ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee25f6b85f85660ed294042c5dc3b25"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0ee25f6b85f85660ed294042c5dc3b25">performPostVictoryRecovery</a> (<a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> winnerResult, <a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> loserResult)</td></tr>
<tr class="separator:a0ee25f6b85f85660ed294042c5dc3b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d5e1d5b9288539a914fcf5cd50eb854"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a3d5e1d5b9288539a914fcf5cd50eb854">applyPursuitOption</a> (<a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> pursuingFleet, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> otherFleet, PursuitOption pursuitOption)</td></tr>
<tr class="separator:a3d5e1d5b9288539a914fcf5cd50eb854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb348aca27209d591db60bec597e72a"><td class="memItemLeft" align="right" valign="top">EngagementOutcome&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdb348aca27209d591db60bec597e72a">getLastEngagementOutcome</a> ()</td></tr>
<tr class="separator:acdb348aca27209d591db60bec597e72a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef5cbe50c9878737ad102be7ab8e55d5"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aef5cbe50c9878737ad102be7ab8e55d5">isBattleOver</a> ()</td></tr>
<tr class="separator:aef5cbe50c9878737ad102be7ab8e55d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29840ae2276ddd5d108438c68826ab62"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a29840ae2276ddd5d108438c68826ab62">wasLastEngagementEscape</a> ()</td></tr>
<tr class="separator:a29840ae2276ddd5d108438c68826ab62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a6228ccf761948efd358d6a0dd0f9a"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af2a6228ccf761948efd358d6a0dd0f9a">didPlayerWinLastEngagement</a> ()</td></tr>
<tr class="separator:af2a6228ccf761948efd358d6a0dd0f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d6babca0a60e9da9153bb4c87d5a4b"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6babca0a60e9da9153bb4c87d5a4b">didPlayerWinMostRecentBattleOfEncounter</a> ()</td></tr>
<tr class="separator:a16d6babca0a60e9da9153bb4c87d5a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60bc99bbe5230ff9215e4fb9f420ef79"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a60bc99bbe5230ff9215e4fb9f420ef79">didPlayerWinEncounterOutright</a> ()</td></tr>
<tr class="separator:a60bc99bbe5230ff9215e4fb9f420ef79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad10ab02ee6fe61dcf544f2a9e6ae9e52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad10ab02ee6fe61dcf544f2a9e6ae9e52">getCreditsLooted</a> ()</td></tr>
<tr class="separator:ad10ab02ee6fe61dcf544f2a9e6ae9e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d6d487cd720e2081fb64cd6427d231"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6d487cd720e2081fb64cd6427d231">getSalvageMult</a> (Status status)</td></tr>
<tr class="separator:a16d6d487cd720e2081fb64cd6427d231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2afc066cdd9155e4197c0036918d2852"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2afc066cdd9155e4197c0036918d2852">getCargoLootMult</a> (Status status)</td></tr>
<tr class="separator:a2afc066cdd9155e4197c0036918d2852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa54544acd2e820f6413833a0bba313b7"><td class="memItemLeft" align="right" valign="top">EngageBoardableOutcome&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa54544acd2e820f6413833a0bba313b7">engageBoardableShip</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> toBoard, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleetItBelongsTo, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> attackingFleet)</td></tr>
<tr class="separator:aa54544acd2e820f6413833a0bba313b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6392fb04ef8030b549150362859efd55"><td class="memItemLeft" align="right" valign="top">BoardingResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6392fb04ef8030b549150362859efd55">boardShip</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> attacker, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> defender)</td></tr>
<tr class="separator:a6392fb04ef8030b549150362859efd55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a716db89fe71ef13da8f83e564822520d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a716db89fe71ef13da8f83e564822520d">getBoardingSuccessPercent</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> attacker, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> defender)</td></tr>
<tr class="separator:a716db89fe71ef13da8f83e564822520d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ea1f32307606f32320c8116c39bd7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af6ea1f32307606f32320c8116c39bd7f">letBoardableGo</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> toBoard, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleetItBelongsTo, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> attackingFleet)</td></tr>
<tr class="separator:af6ea1f32307606f32320c8116c39bd7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c0cd3ca075fff451980242fbaa507d8"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6c0cd3ca075fff451980242fbaa507d8">getStoryRecoverableShips</a> ()</td></tr>
<tr class="separator:a6c0cd3ca075fff451980242fbaa507d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01cea5d0a5dd74d201e0588390054030"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a01cea5d0a5dd74d201e0588390054030">getRecoverableShips</a> (<a class="el" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a> <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> winningFleet, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> otherFleet)</td></tr>
<tr class="separator:a01cea5d0a5dd74d201e0588390054030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c4aa47c971be667a4a1c4bded5410e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c4aa47c971be667a4a1c4bded5410e2">gainXP</a> ()</td></tr>
<tr class="separator:a5c4aa47c971be667a4a1c4bded5410e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25003f8f4281087a614f7ad1bacbca5"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad25003f8f4281087a614f7ad1bacbca5">getPlayerFPHullDamageToEnemies</a> ()</td></tr>
<tr class="separator:ad25003f8f4281087a614f7ad1bacbca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab071fcf5aac2c3a7d5a031a2f91b289d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab071fcf5aac2c3a7d5a031a2f91b289d">setPlayerFPHullDamageToEnemies</a> (float <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a>)</td></tr>
<tr class="separator:ab071fcf5aac2c3a7d5a031a2f91b289d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49896c340e7e7ca2925f8a355c66080c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a49896c340e7e7ca2925f8a355c66080c">getAllyFPHullDamageToEnemies</a> ()</td></tr>
<tr class="separator:a49896c340e7e7ca2925f8a355c66080c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2164dbd9910b266e1a79b91d4fe92d03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2164dbd9910b266e1a79b91d4fe92d03">setAllyFPHullDamageToEnemies</a> (float <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a>)</td></tr>
<tr class="separator:a2164dbd9910b266e1a79b91d4fe92d03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a546ec66d0b3b0946f0433194879082e9"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a> ()</td></tr>
<tr class="separator:a546ec66d0b3b0946f0433194879082e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e5b583e4e093a16c7cff304dda995c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a13e5b583e4e093a16c7cff304dda995c">addPotentialOfficer</a> ()</td></tr>
<tr class="separator:a13e5b583e4e093a16c7cff304dda995c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124d38d8bb1d4310d2202a3a8dbc3ef5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a124d38d8bb1d4310d2202a3a8dbc3ef5">generateLoot</a> (List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt; recoveredShips, boolean withCredits)</td></tr>
<tr class="separator:a124d38d8bb1d4310d2202a3a8dbc3ef5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a824383f5415c79d2148be39d6e4a1982"><td class="memItemLeft" align="right" valign="top">Random&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a824383f5415c79d2148be39d6e4a1982">getSalvageRandom</a> ()</td></tr>
<tr class="separator:a824383f5415c79d2148be39d6e4a1982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220809257f18720b79de09323306999e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a220809257f18720b79de09323306999e">setSalvageRandom</a> (Random salvageRandom)</td></tr>
<tr class="separator:a220809257f18720b79de09323306999e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88438e3d6dfc59eea1b2b8dc7ead2ecb"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88438e3d6dfc59eea1b2b8dc7ead2ecb">getSalvageValueModPlayerShips</a> ()</td></tr>
<tr class="separator:a88438e3d6dfc59eea1b2b8dc7ead2ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a042e693cf1b8e7484da958c994716f1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a042e693cf1b8e7484da958c994716f1f">getLoot</a> ()</td></tr>
<tr class="separator:a042e693cf1b8e7484da958c994716f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eeaf622ef8c1125ddb7df2641823c3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5eeaf622ef8c1125ddb7df2641823c3d">autoLoot</a> ()</td></tr>
<tr class="separator:a5eeaf622ef8c1125ddb7df2641823c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917f4b9d4203ec3f96661478e23a96b9"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a917f4b9d4203ec3f96661478e23a96b9">hasWinnerAndLoser</a> ()</td></tr>
<tr class="separator:a917f4b9d4203ec3f96661478e23a96b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54c1f6b7440de836d86691a023f884ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54c1f6b7440de836d86691a023f884ee">getWinner</a> ()</td></tr>
<tr class="separator:a54c1f6b7440de836d86691a023f884ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac27a8d55eb981edf43aff8769bfd4907"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac27a8d55eb981edf43aff8769bfd4907">getLoser</a> ()</td></tr>
<tr class="separator:ac27a8d55eb981edf43aff8769bfd4907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9246960440885932918f318ccedc93c2"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9246960440885932918f318ccedc93c2">canOutrunOtherFleet</a> (<a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> other)</td></tr>
<tr class="separator:a9246960440885932918f318ccedc93c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad26b65ade1dd723b3b64cc72d9a6e75b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad26b65ade1dd723b3b64cc72d9a6e75b">fixFighters</a> (<a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result)</td></tr>
<tr class="separator:ad26b65ade1dd723b3b64cc72d9a6e75b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded179a09a0c0709bd866bc3044a94e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aded179a09a0c0709bd866bc3044a94e2">calculateAndApplyCrewLosses</a> (<a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result, boolean playerInvolved)</td></tr>
<tr class="separator:aded179a09a0c0709bd866bc3044a94e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e826619c41b8305657e7088b57c6102"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6e826619c41b8305657e7088b57c6102">recoverCrew</a> (<a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet)</td></tr>
<tr class="separator:a6e826619c41b8305657e7088b57c6102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac637fb9d93a578b2f1e5b38884abf2b1"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac637fb9d93a578b2f1e5b38884abf2b1">getDifficulty</a> ()</td></tr>
<tr class="separator:ac637fb9d93a578b2f1e5b38884abf2b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a374884c7e7fab772ccec3056070ae6e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a374884c7e7fab772ccec3056070ae6e9">setDifficulty</a> (float <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>)</td></tr>
<tr class="separator:a374884c7e7fab772ccec3056070ae6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0143337e3d81f6542e6cab99c14979a"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab0143337e3d81f6542e6cab99c14979a">isComputedDifficulty</a> ()</td></tr>
<tr class="separator:ab0143337e3d81f6542e6cab99c14979a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a51a28f6cb1f1b0efc9653f9f13152b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6a51a28f6cb1f1b0efc9653f9f13152b">setComputedDifficulty</a> (boolean <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">computedDifficulty</a>)</td></tr>
<tr class="separator:a6a51a28f6cb1f1b0efc9653f9f13152b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee8885eb5143a124e99ab54675c0633"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ee8885eb5143a124e99ab54675c0633">computeBattleDifficulty</a> ()</td></tr>
<tr class="separator:a6ee8885eb5143a124e99ab54675c0633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f20aa593298458b6b44be3f3b6811af"><td class="memItemLeft" align="right" valign="top">DataForEncounterSide&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a5f20aa593298458b6b44be3f3b6811af">getDataFor</a> (<a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet)</td></tr>
<tr class="separator:a5f20aa593298458b6b44be3f3b6811af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa00368d1a857de9762522d803dded885"><td class="memItemLeft" align="right" valign="top">DataForEncounterSide&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#aa00368d1a857de9762522d803dded885">getWinnerData</a> ()</td></tr>
<tr class="separator:aa00368d1a857de9762522d803dded885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88cd94821c9556e015707a8acbd7462a"><td class="memItemLeft" align="right" valign="top">DataForEncounterSide&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a88cd94821c9556e015707a8acbd7462a">getLoserData</a> ()</td></tr>
<tr class="separator:a88cd94821c9556e015707a8acbd7462a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1844084fdc2e87b2352f96b33a0712c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a1844084fdc2e87b2352f96b33a0712c7">getWinner</a> ()</td></tr>
<tr class="separator:a1844084fdc2e87b2352f96b33a0712c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2073bd42cb7bba55d0b69f3142ec554e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a2073bd42cb7bba55d0b69f3142ec554e">getLoser</a> ()</td></tr>
<tr class="separator:a2073bd42cb7bba55d0b69f3142ec554e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adee9a4706a1769ab3e811964f061d399"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#adee9a4706a1769ab3e811964f061d399">isEngagedInHostilities</a> ()</td></tr>
<tr class="separator:adee9a4706a1769ab3e811964f061d399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9437fe64639c401aea2ad41453b3a2a2"><td class="memItemLeft" align="right" valign="top">EngagementOutcome&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a9437fe64639c401aea2ad41453b3a2a2">getLastEngagementOutcome</a> ()</td></tr>
<tr class="separator:a9437fe64639c401aea2ad41453b3a2a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acccf623538f6889ac2b465e64ecba6f1"><td class="memItemLeft" align="right" valign="top">PursueAvailability&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#acccf623538f6889ac2b465e64ecba6f1">getPursuitAvailability</a> (<a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> otherFleet)</td></tr>
<tr class="separator:acccf623538f6889ac2b465e64ecba6f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9585c71c9e1b4f70e543ed97b10de611"><td class="memItemLeft" align="right" valign="top">DisengageHarryAvailability&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a9585c71c9e1b4f70e543ed97b10de611">getDisengageHarryAvailability</a> (<a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> fleet, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> otherFleet)</td></tr>
<tr class="separator:a9585c71c9e1b4f70e543ed97b10de611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336b6b4f4619b7dc472dbc2d51b3f4fb"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a336b6b4f4619b7dc472dbc2d51b3f4fb">performPostVictoryRecovery</a> (<a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result)</td></tr>
<tr class="separator:a336b6b4f4619b7dc472dbc2d51b3f4fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a603e3b397f34106e1fd9c1f08d0b7ead"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a603e3b397f34106e1fd9c1f08d0b7ead">getBattle</a> ()</td></tr>
<tr class="separator:a603e3b397f34106e1fd9c1f08d0b7ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd0be257ba82f3e1227a5c6545501368"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#afd0be257ba82f3e1227a5c6545501368">setOtherFleetHarriedPlayer</a> (boolean otherFleetHarriedPlayer)</td></tr>
<tr class="separator:afd0be257ba82f3e1227a5c6545501368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb51e5246d771b7509bf677b64c563e"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#aeeb51e5246d771b7509bf677b64c563e">isOtherFleetHarriedPlayer</a> ()</td></tr>
<tr class="separator:aeeb51e5246d771b7509bf677b64c563e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac24e62b0ba373dad4acbe44eee7f5776"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#ac24e62b0ba373dad4acbe44eee7f5776">adjustPlayerReputation</a> (<a class="el" href="../../da/d82/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html">InteractionDialogAPI</a> dialog, String ffText)</td></tr>
<tr class="separator:ac24e62b0ba373dad4acbe44eee7f5776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874d49f9efae65eca87505d9623bf2cc"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a874d49f9efae65eca87505d9623bf2cc">computePlayerContribFraction</a> ()</td></tr>
<tr class="separator:a874d49f9efae65eca87505d9623bf2cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a820b898359071f1a178859a6a6582782"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a820b898359071f1a178859a6a6582782">recoverShips</a> (List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt; ships, <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html">FleetEncounterContext</a> context, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> winningFleet, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> otherFleet)</td></tr>
<tr class="separator:a820b898359071f1a178859a6a6582782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7578c47873e1e682571cd4bea8c6ca03"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a7578c47873e1e682571cd4bea8c6ca03">prepareShipForRecovery</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, boolean retainAllHullmods, boolean retainKnownHullmods, boolean clearSMods, float weaponRetainProb, float wingRetainProb, Random salvageRandom)</td></tr>
<tr class="separator:a7578c47873e1e682571cd4bea8c6ca03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65d24aed1b8bb535302e5a095a041fff"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a65d24aed1b8bb535302e5a095a041fff">prepareModuleForRecovery</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, String moduleSlotId, boolean retainAllHullmods, boolean retainKnownHullmods, boolean clearSMods, float weaponRetainProb, float wingRetainProb, Random salvageRandom)</td></tr>
<tr class="separator:a65d24aed1b8bb535302e5a095a041fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a910ada010506f7050ca1b1cc524a8913"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/ddc/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI.html">TextPanelAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a> = null</td></tr>
<tr class="separator:a910ada010506f7050ca1b1cc524a8913"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ac70bc2c5d395bae2a66bfd7ae92b9e82"><td class="memItemLeft" align="right" valign="top">static final float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac70bc2c5d395bae2a66bfd7ae92b9e82">SELF_DESTRUCT_CHANCE</a> = 0.25f</td></tr>
<tr class="separator:ac70bc2c5d395bae2a66bfd7ae92b9e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fbb3e0fde5e5324e45ea347ad2c4de7"><td class="memItemLeft" align="right" valign="top">static final float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a7fbb3e0fde5e5324e45ea347ad2c4de7">CIV_SELF_DESTRUCT_CHANCE</a> = 0.05f</td></tr>
<tr class="separator:a7fbb3e0fde5e5324e45ea347ad2c4de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73dee6280666365aa3db13f5a41bcdfe"><td class="memItemLeft" align="right" valign="top">static final float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73dee6280666365aa3db13f5a41bcdfe">ENGAGE_ESCAPE_CHANCE</a> = 0.25f</td></tr>
<tr class="separator:a73dee6280666365aa3db13f5a41bcdfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a230abb96b3b20fb578c144fb6f495532"><td class="memItemLeft" align="right" valign="top">static final float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a230abb96b3b20fb578c144fb6f495532">ENGAGE_DISABLE_CHANCE</a> = 0.5f</td></tr>
<tr class="separator:a230abb96b3b20fb578c144fb6f495532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4467f5e99f2dffb06b84249466eeb88e"><td class="memItemLeft" align="right" valign="top">static final float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4467f5e99f2dffb06b84249466eeb88e">ENGAGE_DESTROY_CHANCE</a> = 0.25f</td></tr>
<tr class="separator:a4467f5e99f2dffb06b84249466eeb88e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b7182d119267f57ae9408276b88d6d"><td class="memItemLeft" align="right" valign="top">static final float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae0b7182d119267f57ae9408276b88d6d">LAUNCH_CLEAN_ESCAPE_CHANCE</a> = 0.5f</td></tr>
<tr class="separator:ae0b7182d119267f57ae9408276b88d6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c676597d812ac6f2074e6515b8d3a8a"><td class="memItemLeft" align="right" valign="top">static final float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c676597d812ac6f2074e6515b8d3a8a">DOCK_SUCCESS_CHANCE</a> = 0.5f</td></tr>
<tr class="separator:a5c676597d812ac6f2074e6515b8d3a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a920151d2f84ddc310d0d84f175bf2017"><td class="memItemLeft" align="right" valign="top">static final float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a920151d2f84ddc310d0d84f175bf2017">LAUNCH_SUCCESS_CHANCE</a> = 0.25f</td></tr>
<tr class="separator:a920151d2f84ddc310d0d84f175bf2017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76cdb9a2026348dcf4bfb31227c934a"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af76cdb9a2026348dcf4bfb31227c934a">MAX_XP_MULT</a> = 6f</td></tr>
<tr class="separator:af76cdb9a2026348dcf4bfb31227c934a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a6ac11805834d81c987e7c06e45c3e529"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ac11805834d81c987e7c06e45c3e529">updateDeployedMap</a> (<a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result)</td></tr>
<tr class="separator:a6ac11805834d81c987e7c06e45c3e529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a894e47d162794f5428b18b95945cd9ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a894e47d162794f5428b18b95945cd9ea">clearNoSourceMembers</a> (<a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result)</td></tr>
<tr class="separator:a894e47d162794f5428b18b95945cd9ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18389daf6c77f30b0d7ad43e69839b9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a18389daf6c77f30b0d7ad43e69839b9c">tallyOfficerTime</a> (DataForEncounterSide data, <a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result)</td></tr>
<tr class="separator:a18389daf6c77f30b0d7ad43e69839b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8435db25101ca050840816ea2da92866"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8435db25101ca050840816ea2da92866">computeMissedLaunchLosses</a> (BoardingResult result, <a class="el" href="../../d6/db8/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> boardingParty)</td></tr>
<tr class="separator:a8435db25101ca050840816ea2da92866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8be6559e8f57371ab859d0eaedd3e2e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8be6559e8f57371ab859d0eaedd3e2e8">computeCrewLossFromBoarding</a> (BoardingResult result, <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="el" href="../../d6/db8/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> boardingParty, float attackerStr, float defenderStr)</td></tr>
<tr class="separator:a8be6559e8f57371ab859d0eaedd3e2e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93fc31b43c898dd58a3a6c75a3c17caa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a93fc31b43c898dd58a3a6c75a3c17caa">applyBoardingSelfDestruct</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="el" href="../../d6/db8/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a> boardingParty, BoardingAttackType attackType, List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt; boardingTaskForce, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> attacker, <a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> defender, BoardingResult result)</td></tr>
<tr class="separator:a93fc31b43c898dd58a3a6c75a3c17caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2161b54b093294c2e5695a2e0fb1abc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2161b54b093294c2e5695a2e0fb1abc7">gainOfficerXP</a> (DataForEncounterSide data, float xp)</td></tr>
<tr class="separator:a2161b54b093294c2e5695a2e0fb1abc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae04a1b1e1f39e90a9c61b3ad688a447"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aae04a1b1e1f39e90a9c61b3ad688a447">computeFPHullDamage</a> ()</td></tr>
<tr class="separator:aae04a1b1e1f39e90a9c61b3ad688a447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b7d89ed9a1c0620bc8989bee9f23a58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5b7d89ed9a1c0620bc8989bee9f23a58">gainXP</a> (DataForEncounterSide side, DataForEncounterSide otherSide)</td></tr>
<tr class="separator:a5b7d89ed9a1c0620bc8989bee9f23a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad44183b2b1301b24a9554579ec2a5675"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad44183b2b1301b24a9554579ec2a5675">generatePlayerLoot</a> (List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt; recoveredShips, boolean withCredits)</td></tr>
<tr class="separator:ad44183b2b1301b24a9554579ec2a5675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f4a87c4cfe1918267f81969e494fc2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8f4a87c4cfe1918267f81969e494fc2c">handleCargoLooting</a> (List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt; recoveredShips, boolean takingFromPlayer)</td></tr>
<tr class="separator:a8f4a87c4cfe1918267f81969e494fc2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a274c24ec32886d4926bafb01906150e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a274c24ec32886d4926bafb01906150e9">lootHullMods</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="el" href="../../d7/d04/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a> variant, float mult)</td></tr>
<tr class="separator:a274c24ec32886d4926bafb01906150e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b3bf7dfe563c9dc263819f15e92a4d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b3bf7dfe563c9dc263819f15e92a4d5">lootWings</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="el" href="../../d7/d04/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a> variant, boolean own, float mult)</td></tr>
<tr class="separator:a0b3bf7dfe563c9dc263819f15e92a4d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae54c050fde572233113faa6de5833307"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae54c050fde572233113faa6de5833307">lootWeapons</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="el" href="../../d7/d04/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a> variant, boolean own, float mult, boolean lootingModule)</td></tr>
<tr class="separator:ae54c050fde572233113faa6de5833307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab60e1b424706649832f9fd9fa80197e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab60e1b424706649832f9fd9fa80197e3">applyResultToFleets</a> (<a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result)</td></tr>
<tr class="separator:ab60e1b424706649832f9fd9fa80197e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0114107a345ab53e29d2fc2185510dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa0114107a345ab53e29d2fc2185510dc">applyCrewLosses</a> (<a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result)</td></tr>
<tr class="separator:aa0114107a345ab53e29d2fc2185510dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17ec4b8987783f4720cc420b490d519e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a17ec4b8987783f4720cc420b490d519e">applyShipLosses</a> (<a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a> result)</td></tr>
<tr class="separator:a17ec4b8987783f4720cc420b490d519e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b16b7b09022902e5d8904edf7e9079b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a1b16b7b09022902e5d8904edf7e9079b">applyCREffect</a> (<a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result)</td></tr>
<tr class="separator:a1b16b7b09022902e5d8904edf7e9079b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b4530b6a62be2bd068593469d6cd3ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9b4530b6a62be2bd068593469d6cd3ff">applyExtendedCRLossIfNeeded</a> (<a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result, <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member)</td></tr>
<tr class="separator:a9b4530b6a62be2bd068593469d6cd3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90baa7c1682521b6fbf0f2551e8676b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a90baa7c1682521b6fbf0f2551e8676b2">applyShipLosses</a> (<a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result)</td></tr>
<tr class="separator:a90baa7c1682521b6fbf0f2551e8676b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b41ca54a5848a0849d021c3fa275279"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279">computeLossFraction</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result, float hullFraction, float hullDamage)</td></tr>
<tr class="separator:a0b41ca54a5848a0849d021c3fa275279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff14e6983105183182def17e63e36282"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aff14e6983105183182def17e63e36282">computeRecoverableFraction</a> (<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> member, <a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a> result, float hullFraction, float hullDamage)</td></tr>
<tr class="separator:aff14e6983105183182def17e63e36282"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac2f7f0224640b2aceedfcd98d5a95c36"><td class="memItemLeft" align="right" valign="top">List&lt; DataForEncounterSide &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a> = new ArrayList&lt;DataForEncounterSide&gt;()</td></tr>
<tr class="separator:ac2f7f0224640b2aceedfcd98d5a95c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab379609c976bdf7ea38f195fd0d0dc10"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a> = false</td></tr>
<tr class="separator:ab379609c976bdf7ea38f195fd0d0dc10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a96a30a1b9c497887bdfde7bac9106"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">engagedInActualBattle</a> = false</td></tr>
<tr class="separator:a15a96a30a1b9c497887bdfde7bac9106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a043b12ebb9addd2620f15faba59623a8"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">playerOnlyRetreated</a> = true</td></tr>
<tr class="separator:a043b12ebb9addd2620f15faba59623a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73bdc2181f26f4f1c440b60838f6996b"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73bdc2181f26f4f1c440b60838f6996b">playerPursued</a> = false</td></tr>
<tr class="separator:a73bdc2181f26f4f1c440b60838f6996b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6cd59a17ae1851086701391fd5367d"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c6cd59a17ae1851086701391fd5367d">playerDidSeriousDamage</a> = false</td></tr>
<tr class="separator:a5c6cd59a17ae1851086701391fd5367d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a726e2274cae7cfcf8ba85948e1073a29"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a></td></tr>
<tr class="separator:a726e2274cae7cfcf8ba85948e1073a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a622f25000d780d58fb5af7ef355a428d"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a622f25000d780d58fb5af7ef355a428d">otherFleetHarriedPlayer</a> = false</td></tr>
<tr class="separator:a622f25000d780d58fb5af7ef355a428d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16949991b9097d37f0b3601cf6560082"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16949991b9097d37f0b3601cf6560082">ongoingBattle</a> = false</td></tr>
<tr class="separator:a16949991b9097d37f0b3601cf6560082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dec6defad11beafe5e437303f7a95ac"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">isAutoresolve</a> = false</td></tr>
<tr class="separator:a4dec6defad11beafe5e437303f7a95ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab32155e313a9d3109e7919bee27fca81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/df9/classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html">CombatDamageData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a> = null</td></tr>
<tr class="separator:ab32155e313a9d3109e7919bee27fca81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75c9efd6252ae40170a6b2b215806cbd"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a75c9efd6252ae40170a6b2b215806cbd">alreadyAdjustedRep</a> = false</td></tr>
<tr class="separator:a75c9efd6252ae40170a6b2b215806cbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1761f41cd1c8d9c9d9e16dcd77fe2e"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">noHarryBecauseOfStation</a> = false</td></tr>
<tr class="separator:abd1761f41cd1c8d9c9d9e16dcd77fe2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79bca736338facf7c468e42312c94197"><td class="memItemLeft" align="right" valign="top">EngagementOutcome&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = null</td></tr>
<tr class="separator:a79bca736338facf7c468e42312c94197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4651bd161abe00bb31c825d54ccdab"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab">recoverableShips</a> = new ArrayList&lt;<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&gt;()</td></tr>
<tr class="separator:a2a4651bd161abe00bb31c825d54ccdab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7e7f3ed853d5a385d12885f4d59fb36"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">storyRecoverableShips</a> = new ArrayList&lt;<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&gt;()</td></tr>
<tr class="separator:ac7e7f3ed853d5a385d12885f4d59fb36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33eddabaaa90178365af579aabd8ffb5"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a> = 0f</td></tr>
<tr class="separator:a33eddabaaa90178365af579aabd8ffb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8813163ce64c189b81fa6133794a846"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a> = 0f</td></tr>
<tr class="separator:ad8813163ce64c189b81fa6133794a846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab120d5e23f478d181afc180072afab8a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab120d5e23f478d181afc180072afab8a">playerFPHullDamageToAllies</a> = 0f</td></tr>
<tr class="separator:ab120d5e23f478d181afc180072afab8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4727fed30fbc87f19c6eebbe4ddd0ca0"><td class="memItemLeft" align="right" valign="top">Map&lt; <a class="el" href="../../dd/d35/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FactionAPI.html">FactionAPI</a>, Float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">playerFPHullDamageToAlliesByFaction</a> = new HashMap&lt;<a class="el" href="../../dd/d35/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FactionAPI.html">FactionAPI</a>, Float&gt;()</td></tr>
<tr class="separator:a4727fed30fbc87f19c6eebbe4ddd0ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fcfb978de8b0185648d5ab94365b12e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2fcfb978de8b0185648d5ab94365b12e">xpGained</a> = 0</td></tr>
<tr class="separator:a2fcfb978de8b0185648d5ab94365b12e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b33f41e79f3c37f8959b793ed77c66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a> = <a class="el" href="../../d6/d20/classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">Global.getFactory</a>().createCargo(false)</td></tr>
<tr class="separator:a81b33f41e79f3c37f8959b793ed77c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88d1cabb6ccee858a72bc53e232c5fb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">creditsLooted</a> = 0</td></tr>
<tr class="separator:a88d1cabb6ccee858a72bc53e232c5fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a854bd1a92d475fac4a320a872d4d30fa"><td class="memItemLeft" align="right" valign="top">Map&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>, Float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa">preEngagementCRForWinner</a> = new HashMap&lt;<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>, Float&gt;()</td></tr>
<tr class="separator:a854bd1a92d475fac4a320a872d4d30fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22aac77a36309fdf8129a81d64d253b2"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> = 1f</td></tr>
<tr class="separator:a22aac77a36309fdf8129a81d64d253b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4226783f38eff3a0ce314585c844f83"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">computedDifficulty</a> = false</td></tr>
<tr class="separator:ab4226783f38eff3a0ce314585c844f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00070">70</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4ea007b28fa7e66f8b9bf585f8fdc974" name="a4ea007b28fa7e66f8b9bf585f8fdc974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea007b28fa7e66f8b9bf585f8fdc974">&#9670;&#160;</a></span>FleetEncounterContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.FleetEncounterContext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00087">87</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span>                                   {</div>
<div class="line"><span class="lineno">   88</span>        </div>
<div class="line"><span class="lineno">   89</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a13e5b583e4e093a16c7cff304dda995c" name="a13e5b583e4e093a16c7cff304dda995c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13e5b583e4e093a16c7cff304dda995c">&#9670;&#160;</a></span>addPotentialOfficer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.addPotentialOfficer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02097">2097</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2097</span>                                      {</div>
<div class="line"><span class="lineno"> 2098</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa433b4940ea0c102bea1980edce68b61">isEngagedInHostilities</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2099</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2fcfb978de8b0185648d5ab94365b12e">xpGained</a> &lt;= 0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2100</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.size() != 2) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2101</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2102</span> </div>
<div class="line"><span class="lineno"> 2103</span>        DataForEncounterSide sideOne = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.get(0);</div>
<div class="line"><span class="lineno"> 2104</span>        DataForEncounterSide sideTwo = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.get(1);</div>
<div class="line"><span class="lineno"> 2105</span>        </div>
<div class="line"><span class="lineno"> 2106</span>        DataForEncounterSide player = sideOne;</div>
<div class="line"><span class="lineno"> 2107</span>        DataForEncounterSide enemy = sideTwo;</div>
<div class="line"><span class="lineno"> 2108</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(sideTwo.getFleet()))) {</div>
<div class="line"><span class="lineno"> 2109</span>            player = sideTwo;</div>
<div class="line"><span class="lineno"> 2110</span>            enemy = sideOne;</div>
<div class="line"><span class="lineno"> 2111</span>        }</div>
<div class="line"><span class="lineno"> 2112</span>        </div>
<div class="line"><span class="lineno"> 2113</span>        <span class="keywordtype">float</span> fpDestroyed = 0;</div>
<div class="line"><span class="lineno"> 2114</span>        <span class="keywordflow">for</span> (FleetMemberData data : enemy.getOwnCasualties()) {</div>
<div class="line"><span class="lineno"> 2115</span>            <span class="keywordtype">float</span> fp = data.getMember().getFleetPointCost();</div>
<div class="line"><span class="lineno"> 2116</span>            fp *= 1f + data.getMember().getCaptain().getStats().getLevel() / 5f;</div>
<div class="line"><span class="lineno"> 2117</span>            fpDestroyed += fp;</div>
<div class="line"><span class="lineno"> 2118</span>        }</div>
<div class="line"><span class="lineno"> 2119</span>        fpDestroyed *= <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>();</div>
<div class="line"><span class="lineno"> 2120</span>        <span class="keywordflow">for</span> (FleetMemberData data : player.getOwnCasualties()) {</div>
<div class="line"><span class="lineno"> 2121</span>            <span class="keywordflow">if</span> (data.getMember().isAlly()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2122</span>            <span class="keywordtype">float</span> fp = data.getMember().getFleetPointCost();</div>
<div class="line"><span class="lineno"> 2123</span>            fp *= 1f + data.getMember().getCaptain().getStats().getLevel() / 5f;</div>
<div class="line"><span class="lineno"> 2124</span>            fpDestroyed += fp;</div>
<div class="line"><span class="lineno"> 2125</span>        }</div>
<div class="line"><span class="lineno"> 2126</span>        </div>
<div class="line"><span class="lineno"> 2127</span>        <span class="keywordtype">float</span> fpInFleet = 0f;</div>
<div class="line"><span class="lineno"> 2128</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : Global.getSector().getPlayerFleet().getFleetData().getMembersListCopy()) {</div>
<div class="line"><span class="lineno"> 2129</span>            <span class="keywordtype">float</span> fp = member.getFleetPointCost();</div>
<div class="line"><span class="lineno"> 2130</span>            fp *= 1f + member.getCaptain().getStats().getLevel() / 5f;</div>
<div class="line"><span class="lineno"> 2131</span>            fpInFleet += fp;</div>
<div class="line"><span class="lineno"> 2132</span>        }</div>
<div class="line"><span class="lineno"> 2133</span>        </div>
<div class="line"><span class="lineno"> 2134</span>        </div>
<div class="line"><span class="lineno"> 2135</span>        <span class="keywordtype">float</span> maxProb = Global.getSettings().getFloat(<span class="stringliteral">&quot;maxOfficerPromoteProb&quot;</span>);</div>
<div class="line"><span class="lineno"> 2136</span>        <span class="keywordtype">float</span> probMult = Global.getSettings().getFloat(<span class="stringliteral">&quot;officerPromoteProbMult&quot;</span>);</div>
<div class="line"><span class="lineno"> 2137</span>        <span class="keywordtype">int</span> max = Misc.getMaxOfficers(Global.getSector().getPlayerFleet());</div>
<div class="line"><span class="lineno"> 2138</span>        <span class="keywordtype">int</span> curr = Misc.getNumNonMercOfficers(Global.getSector().getPlayerFleet());</div>
<div class="line"><span class="lineno"> 2139</span> </div>
<div class="line"><span class="lineno"> 2140</span>        <span class="keywordtype">float</span> prob = fpDestroyed / (Math.max(1f, fpInFleet));</div>
<div class="line"><span class="lineno"> 2141</span>        <span class="comment">//prob /= 5f;</span></div>
<div class="line"><span class="lineno"> 2142</span>        prob *= probMult;</div>
<div class="line"><span class="lineno"> 2143</span>        </div>
<div class="line"><span class="lineno"> 2144</span>        <span class="keywordflow">if</span> (curr &gt;= max) prob *= 0.5f;</div>
<div class="line"><span class="lineno"> 2145</span>        <span class="keywordflow">if</span> (prob &gt; maxProb) prob = maxProb;</div>
<div class="line"><span class="lineno"> 2146</span>        </div>
<div class="line"><span class="lineno"> 2147</span>        Random random = Misc.random;</div>
<div class="line"><span class="lineno"> 2148</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 2149</span>            random = salvageRandom;</div>
<div class="line"><span class="lineno"> 2150</span>        }</div>
<div class="line"><span class="lineno"> 2151</span>        </div>
<div class="line"><span class="lineno"> 2152</span>        <span class="keywordflow">if</span> (TutorialMissionIntel.isTutorialInProgress()) {</div>
<div class="line"><span class="lineno"> 2153</span>            prob = 0f;</div>
<div class="line"><span class="lineno"> 2154</span>        }</div>
<div class="line"><span class="lineno"> 2155</span>        </div>
<div class="line"><span class="lineno"> 2156</span>        <span class="keywordflow">if</span> (random.nextFloat() &lt; prob) {</div>
<div class="line"><span class="lineno"> 2157</span>            PromoteOfficerIntel intel = <span class="keyword">new</span> PromoteOfficerIntel(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>);</div>
<div class="line"><span class="lineno"> 2158</span>            Global.getSector().getIntelManager().addIntel(intel, <span class="keyword">false</span>, <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>);</div>
<div class="line"><span class="lineno"> 2159</span>        }</div>
<div class="line"><span class="lineno"> 2160</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a2fcfb978de8b0185648d5ab94365b12e"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2fcfb978de8b0185648d5ab94365b12e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.xpGained</a></div><div class="ttdeci">float xpGained</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02042">FleetEncounterContext.java:2042</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a546ec66d0b3b0946f0433194879082e9"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computePlayerContribFraction</a></div><div class="ttdeci">float computePlayerContribFraction()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02020">FleetEncounterContext.java:2020</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a726e2274cae7cfcf8ba85948e1073a29"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.battle</a></div><div class="ttdeci">BattleAPI battle</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00078">FleetEncounterContext.java:78</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a910ada010506f7050ca1b1cc524a8913"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.textPanelForXPGain</a></div><div class="ttdeci">TextPanelAPI textPanelForXPGain</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00734">FleetEncounterContext.java:734</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_aa433b4940ea0c102bea1980edce68b61"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa433b4940ea0c102bea1980edce68b61">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isEngagedInHostilities</a></div><div class="ttdeci">boolean isEngagedInHostilities()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00140">FleetEncounterContext.java:140</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ac2f7f0224640b2aceedfcd98d5a95c36"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.sideData</a></div><div class="ttdeci">List&lt; DataForEncounterSide &gt; sideData</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00072">FleetEncounterContext.java:72</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a3810d282eac961ac6438719b5a385662"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">com.fs.starfarer.api.campaign.BattleAPI.getSideFor</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getSideFor(CampaignFleetAPI participantOrCombined)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_ab3ab3bc04a65bd4c01f91972f81173ed"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">com.fs.starfarer.api.campaign.BattleAPI.isPlayerInvolved</a></div><div class="ttdeci">boolean isPlayerInvolved()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_af63dcd9bc785001d3afe266e524db8bf"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">com.fs.starfarer.api.campaign.BattleAPI.isPlayerSide</a></div><div class="ttdeci">boolean isPlayerSide(EngagementResultForFleetAPI side)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a28c6b7366c0368028794f745eeed89ad" name="a28c6b7366c0368028794f745eeed89ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28c6b7366c0368028794f745eeed89ad">&#9670;&#160;</a></span>adjustPlayerReputation() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.adjustPlayerReputation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d82/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html">InteractionDialogAPI</a>&#160;</td>
          <td class="paramname"><em>dialog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>ffText</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#ac24e62b0ba373dad4acbe44eee7f5776">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00543">543</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  543</span>                                                                                      {</div>
<div class="line"><span class="lineno">  544</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a28c6b7366c0368028794f745eeed89ad">adjustPlayerReputation</a>(dialog, ffText, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  545</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a28c6b7366c0368028794f745eeed89ad"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a28c6b7366c0368028794f745eeed89ad">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.adjustPlayerReputation</a></div><div class="ttdeci">boolean adjustPlayerReputation(InteractionDialogAPI dialog, String ffText)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00543">FleetEncounterContext.java:543</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6bd654cda50c5962ef742f22200edf1" name="ac6bd654cda50c5962ef742f22200edf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6bd654cda50c5962ef742f22200edf1">&#9670;&#160;</a></span>adjustPlayerReputation() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.adjustPlayerReputation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d82/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1InteractionDialogAPI.html">InteractionDialogAPI</a>&#160;</td>
          <td class="paramname"><em>dialog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>ffText</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>okToAdjustAlly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>okToAdjustEnemy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00546">546</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  546</span>                                                                                                                                       {</div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a75c9efd6252ae40170a6b2b215806cbd">alreadyAdjustedRep</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  548</span>        </div>
<div class="line"><span class="lineno">  549</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span> &amp;&amp; <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>() &amp;&amp; <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a>) {</div>
<div class="line"><span class="lineno">  550</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a75c9efd6252ae40170a6b2b215806cbd">alreadyAdjustedRep</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  551</span>            </div>
<div class="line"><span class="lineno">  552</span>            <span class="keywordtype">boolean</span> printedAdjustmentText = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  553</span>            </div>
<div class="line"><span class="lineno">  554</span>            <span class="keywordtype">boolean</span> playerWon = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6babca0a60e9da9153bb4c87d5a4b">didPlayerWinMostRecentBattleOfEncounter</a>();</div>
<div class="line"><span class="lineno">  555</span>            List&lt;CampaignFleetAPI&gt; playerSide = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af89feeda43f98a05fcefc5d8ea340d3e">getPlayerSide</a>();</div>
<div class="line"><span class="lineno">  556</span>            List&lt;CampaignFleetAPI&gt; enemySide = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ad9e20801d4b57ae3d0f93db96fbb0829">getNonPlayerSide</a>();</div>
<div class="line"><span class="lineno">  557</span>            </div>
<div class="line"><span class="lineno">  558</span>            CampaignFleetAPI pf = Global.getSector().getPlayerFleet();</div>
<div class="line"><span class="lineno">  559</span>            pf.setMoveDestination(pf.getLocation().x, pf.getLocation().y);</div>
<div class="line"><span class="lineno">  560</span>            </div>
<div class="line"><span class="lineno">  561</span>            <span class="comment">// cases to cover: 1) player destroyed ships 2) player harried/harassed 3) player pursued</span></div>
<div class="line"><span class="lineno">  562</span>            <span class="comment">// i.e. anything other than a non-destructive retreat, w/o an engagement</span></div>
<div class="line"><span class="lineno">  563</span>            <span class="keywordtype">boolean</span> playerWasAggressive = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c6cd59a17ae1851086701391fd5367d">playerDidSeriousDamage</a> || !<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">playerOnlyRetreated</a>;</div>
<div class="line"><span class="lineno">  564</span>            RepActions action = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  565</span><span class="comment">//          if (engagedInHostilities) {</span></div>
<div class="line"><span class="lineno">  566</span><span class="comment">//              action = RepActions.COMBAT_NO_DAMAGE_ESCAPE;</span></div>
<div class="line"><span class="lineno">  567</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno">  568</span>            <span class="keywordtype">boolean</span> knowsWhoPlayerIs = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#aaf1b93dd37f7760ffccc83fe3b5bafc7">knowsWhoPlayerIs</a>(enemySide);</div>
<div class="line"><span class="lineno">  569</span>            <span class="comment">//boolean lowImpact = battle.getNonPlayerCombined().getMemoryWithoutUpdate().getBoolean(MemFlags.MEMORY_KEY_LOW_REP_IMPACT) == true;</span></div>
<div class="line"><span class="lineno">  570</span>            <span class="keywordtype">boolean</span> lowImpact = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a855c871e3e911fe7d3120d988be3e60e">isLowRepImpact</a>();</div>
<div class="line"><span class="lineno">  571</span>            <span class="keywordflow">if</span> (lowImpact) {</div>
<div class="line"><span class="lineno">  572</span>                <span class="keywordflow">for</span> (CampaignFleetAPI enemy : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">getSnapshotFor</a>(enemySide)) {</div>
<div class="line"><span class="lineno">  573</span>                    Misc.makeLowRepImpact(enemy, <span class="stringliteral">&quot;battleOnLowImpactSide&quot;</span>);</div>
<div class="line"><span class="lineno">  574</span>                }</div>
<div class="line"><span class="lineno">  575</span>            }</div>
<div class="line"><span class="lineno">  576</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73bdc2181f26f4f1c440b60838f6996b">playerPursued</a> &amp;&amp; playerWon) {</div>
<div class="line"><span class="lineno">  577</span>                <span class="keywordflow">if</span> (knowsWhoPlayerIs &amp;&amp; !lowImpact) {</div>
<div class="line"><span class="lineno">  578</span>                    action = RepActions.COMBAT_AGGRESSIVE;</div>
<div class="line"><span class="lineno">  579</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  580</span>                    action = RepActions.COMBAT_AGGRESSIVE_TOFF;</div>
<div class="line"><span class="lineno">  581</span>                }</div>
<div class="line"><span class="lineno">  582</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (playerWasAggressive) {</div>
<div class="line"><span class="lineno">  583</span>                <span class="keywordflow">if</span> (knowsWhoPlayerIs &amp;&amp; !lowImpact) {</div>
<div class="line"><span class="lineno">  584</span>                    action = RepActions.COMBAT_NORMAL;</div>
<div class="line"><span class="lineno">  585</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  586</span>                    action = RepActions.COMBAT_NORMAL_TOFF;</div>
<div class="line"><span class="lineno">  587</span>                }</div>
<div class="line"><span class="lineno">  588</span>            }</div>
<div class="line"><span class="lineno">  589</span>            </div>
<div class="line"><span class="lineno">  590</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33be18c67e2c0aed2e95799be7488588">isNoRepImpact</a>()) {</div>
<div class="line"><span class="lineno">  591</span>                action = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  592</span>            }</div>
<div class="line"><span class="lineno">  593</span>            </div>
<div class="line"><span class="lineno">  594</span>            <span class="keywordflow">if</span> (!okToAdjustEnemy) action = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  595</span>            </div>
<div class="line"><span class="lineno">  596</span>            Set&lt;String&gt; seen = <span class="keyword">new</span> HashSet&lt;String&gt;();</div>
<div class="line"><span class="lineno">  597</span>            <span class="keywordflow">if</span> (action != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  598</span>                <span class="comment">// use snapshot: ensure loss of reputation with factions if their fleets were destroyed</span></div>
<div class="line"><span class="lineno">  599</span>                <span class="keywordflow">for</span> (CampaignFleetAPI enemy : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">getSnapshotFor</a>(enemySide)) {</div>
<div class="line"><span class="lineno">  600</span>                    String factionId = enemy.getFaction().getId();</div>
<div class="line"><span class="lineno">  601</span>                    <span class="keywordflow">if</span> (seen.contains(factionId)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  602</span>                    seen.add(factionId);</div>
<div class="line"><span class="lineno">  603</span>                    Global.getSector().adjustPlayerReputation(<span class="keyword">new</span> RepActionEnvelope(action, <span class="keyword">null</span>, dialog.getTextPanel()), factionId);</div>
<div class="line"><span class="lineno">  604</span>                    printedAdjustmentText = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  605</span>                }</div>
<div class="line"><span class="lineno">  606</span>            }</div>
<div class="line"><span class="lineno">  607</span>            </div>
<div class="line"><span class="lineno">  608</span>            <span class="comment">//if (playerWon) {</span></div>
<div class="line"><span class="lineno">  609</span>                action = RepActions.COMBAT_HELP_MINOR;</div>
<div class="line"><span class="lineno">  610</span>                <span class="keywordtype">float</span> playerFP = 0;</div>
<div class="line"><span class="lineno">  611</span>                <span class="keywordtype">float</span> allyFP = 0;</div>
<div class="line"><span class="lineno">  612</span>                <span class="keywordtype">float</span> enemyFP = 0;</div>
<div class="line"><span class="lineno">  613</span>                <span class="keywordflow">for</span> (CampaignFleetAPI fleet : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">getSnapshotFor</a>(playerSide)) {</div>
<div class="line"><span class="lineno">  614</span>                    <span class="keywordflow">for</span> (FleetMemberAPI member : fleet.getFleetData().getSnapshot()) {</div>
<div class="line"><span class="lineno">  615</span>                        <span class="keywordflow">if</span> (fleet.isPlayerFleet()) {</div>
<div class="line"><span class="lineno">  616</span>                            playerFP += member.getFleetPointCost();</div>
<div class="line"><span class="lineno">  617</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  618</span>                            allyFP += member.getFleetPointCost();</div>
<div class="line"><span class="lineno">  619</span>                        }</div>
<div class="line"><span class="lineno">  620</span>                    }</div>
<div class="line"><span class="lineno">  621</span>                }</div>
<div class="line"><span class="lineno">  622</span>                <span class="keywordflow">for</span> (CampaignFleetAPI fleet : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">getSnapshotFor</a>(enemySide)) {</div>
<div class="line"><span class="lineno">  623</span>                    <span class="keywordflow">for</span> (FleetMemberAPI member : fleet.getFleetData().getSnapshot()) {</div>
<div class="line"><span class="lineno">  624</span>                        enemyFP += member.getFleetPointCost();</div>
<div class="line"><span class="lineno">  625</span>                    }</div>
<div class="line"><span class="lineno">  626</span>                }</div>
<div class="line"><span class="lineno">  627</span>                <span class="keywordflow">if</span> (allyFP &gt; enemyFP || !playerWon) {</div>
<div class="line"><span class="lineno">  628</span>                    action = RepActions.COMBAT_HELP_MINOR;</div>
<div class="line"><span class="lineno">  629</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (allyFP &lt; enemyFP * 0.5f) {</div>
<div class="line"><span class="lineno">  630</span>                    action = RepActions.COMBAT_HELP_CRITICAL;</div>
<div class="line"><span class="lineno">  631</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  632</span>                    action = RepActions.COMBAT_HELP_MAJOR;</div>
<div class="line"><span class="lineno">  633</span>                }</div>
<div class="line"><span class="lineno">  634</span>                </div>
<div class="line"><span class="lineno">  635</span><span class="comment">//              if (playerFPHullDamageToEnemies &lt;= 0) {</span></div>
<div class="line"><span class="lineno">  636</span><span class="comment">//                  action = null;</span></div>
<div class="line"><span class="lineno">  637</span><span class="comment">//              } else if (playerFPHullDamageToEnemies &lt; allyFPHullDamageToEnemies * 0.1f) {</span></div>
<div class="line"><span class="lineno">  638</span><span class="comment">//                  action = RepActions.COMBAT_HELP_MINOR;</span></div>
<div class="line"><span class="lineno">  639</span><span class="comment">//              }</span></div>
<div class="line"><span class="lineno">  640</span>                <span class="keywordtype">float</span> f = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>();</div>
<div class="line"><span class="lineno">  641</span>                <span class="keywordflow">if</span> (f &lt;= 0) {</div>
<div class="line"><span class="lineno">  642</span>                    action = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  643</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (f &lt; 0.1f) {</div>
<div class="line"><span class="lineno">  644</span>                    action = RepActions.COMBAT_HELP_MINOR;</div>
<div class="line"><span class="lineno">  645</span>                }</div>
<div class="line"><span class="lineno">  646</span>                </div>
<div class="line"><span class="lineno">  647</span>                <span class="keywordflow">if</span> (action != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  648</span>                    <span class="keywordtype">float</span> totalDam = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a> + <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a>;</div>
<div class="line"><span class="lineno">  649</span>                    <span class="keywordflow">if</span> (totalDam &lt; 10) {</div>
<div class="line"><span class="lineno">  650</span>                        action = RepActions.COMBAT_HELP_MINOR;</div>
<div class="line"><span class="lineno">  651</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (totalDam &lt; 20 &amp;&amp; action == RepActions.COMBAT_HELP_CRITICAL) {</div>
<div class="line"><span class="lineno">  652</span>                        action = RepActions.COMBAT_HELP_MAJOR;</div>
<div class="line"><span class="lineno">  653</span>                    }</div>
<div class="line"><span class="lineno">  654</span>                }</div>
<div class="line"><span class="lineno">  655</span>                </div>
<div class="line"><span class="lineno">  656</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a02ea35ccf1b0016169d51e5cffbb5da8">isPlayerInvolvedAtStart</a>() &amp;&amp; action != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  657</span>                    <span class="comment">//action = RepActions.COMBAT_HELP_MINOR;</span></div>
<div class="line"><span class="lineno">  658</span>                    action = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  659</span>                }</div>
<div class="line"><span class="lineno">  660</span>                </div>
<div class="line"><span class="lineno">  661</span>                <span class="keywordflow">if</span> (!okToAdjustAlly) action = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  662</span><span class="comment">//              if (leavingEarly) {</span></div>
<div class="line"><span class="lineno">  663</span><span class="comment">//                  action = null;</span></div>
<div class="line"><span class="lineno">  664</span><span class="comment">//              }</span></div>
<div class="line"><span class="lineno">  665</span>                </div>
<div class="line"><span class="lineno">  666</span>                <span class="comment">// rep increases</span></div>
<div class="line"><span class="lineno">  667</span>                seen.clear();</div>
<div class="line"><span class="lineno">  668</span>                <span class="keywordflow">for</span> (CampaignFleetAPI ally : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">getSnapshotFor</a>(playerSide)) {</div>
<div class="line"><span class="lineno">  669</span>                    <span class="keywordflow">if</span> (ally.isPlayerFleet()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  670</span>                    </div>
<div class="line"><span class="lineno">  671</span>                    String factionId = ally.getFaction().getId();</div>
<div class="line"><span class="lineno">  672</span>                    <span class="keywordflow">if</span> (seen.contains(factionId)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  673</span>                    seen.add(factionId);</div>
<div class="line"><span class="lineno">  674</span>                    </div>
<div class="line"><span class="lineno">  675</span>                    Float friendlyFPHull = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">playerFPHullDamageToAlliesByFaction</a>.get(ally.getFaction());</div>
<div class="line"><span class="lineno">  676</span>                    <span class="keywordtype">float</span> threshold = 2f;</div>
<div class="line"><span class="lineno">  677</span>                    <span class="keywordflow">if</span> (action == RepActions.COMBAT_HELP_MAJOR) {</div>
<div class="line"><span class="lineno">  678</span>                        threshold = 5f;</div>
<div class="line"><span class="lineno">  679</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == RepActions.COMBAT_HELP_CRITICAL) {</div>
<div class="line"><span class="lineno">  680</span>                        threshold = 10f;</div>
<div class="line"><span class="lineno">  681</span>                    }</div>
<div class="line"><span class="lineno">  682</span>                    <span class="keywordflow">if</span> (friendlyFPHull != <span class="keyword">null</span> &amp;&amp; friendlyFPHull &gt; threshold) {</div>
<div class="line"><span class="lineno">  683</span>                        <span class="comment">// can lose reputation with sides that didn&#39;t survive</span></div>
<div class="line"><span class="lineno">  684</span>                        <span class="comment">//Global.getSector().adjustPlayerReputation(new RepActionEnvelope(RepActions.COMBAT_FRIENDLY_FIRE, (friendlyFPHull - threshold), dialog.getTextPanel()), factionId);</span></div>
<div class="line"><span class="lineno">  685</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action != <span class="keyword">null</span> &amp;&amp; playerSide.contains(ally)) {</div>
<div class="line"><span class="lineno">  686</span>                        <span class="comment">// only gain reputation with factions whose fleets actually survived</span></div>
<div class="line"><span class="lineno">  687</span>                        Global.getSector().adjustPlayerReputation(<span class="keyword">new</span> RepActionEnvelope(action, <span class="keyword">null</span>, dialog.getTextPanel()), factionId);</div>
<div class="line"><span class="lineno">  688</span>                        printedAdjustmentText = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  689</span>                    }</div>
<div class="line"><span class="lineno">  690</span>                }</div>
<div class="line"><span class="lineno">  691</span>                </div>
<div class="line"><span class="lineno">  692</span>                </div>
<div class="line"><span class="lineno">  693</span>                <span class="comment">// friendly fire rep decreases</span></div>
<div class="line"><span class="lineno">  694</span>                <span class="keywordflow">if</span> (okToAdjustAlly) {</div>
<div class="line"><span class="lineno">  695</span>                    <span class="keywordtype">boolean</span> first = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  696</span>                    seen.clear();</div>
<div class="line"><span class="lineno">  697</span>                    <span class="keywordflow">for</span> (CampaignFleetAPI ally : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">getSnapshotFor</a>(playerSide)) {</div>
<div class="line"><span class="lineno">  698</span>                        <span class="keywordflow">if</span> (ally.isPlayerFleet()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  699</span>                        </div>
<div class="line"><span class="lineno">  700</span>                        String factionId = ally.getFaction().getId();</div>
<div class="line"><span class="lineno">  701</span>                        <span class="keywordflow">if</span> (Factions.PLAYER.equals(factionId)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  702</span>                        <span class="keywordflow">if</span> (seen.contains(factionId)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  703</span>                        seen.add(factionId);</div>
<div class="line"><span class="lineno">  704</span>                        </div>
<div class="line"><span class="lineno">  705</span>                        Float friendlyFPHull = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">playerFPHullDamageToAlliesByFaction</a>.get(ally.getFaction());</div>
<div class="line"><span class="lineno">  706</span>                        <span class="keywordtype">float</span> threshold = 2f;</div>
<div class="line"><span class="lineno">  707</span>                        <span class="keywordflow">if</span> (action == RepActions.COMBAT_HELP_MAJOR) {</div>
<div class="line"><span class="lineno">  708</span>                            threshold = 5f;</div>
<div class="line"><span class="lineno">  709</span>                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == RepActions.COMBAT_HELP_CRITICAL) {</div>
<div class="line"><span class="lineno">  710</span>                            threshold = 10f;</div>
<div class="line"><span class="lineno">  711</span>                        }</div>
<div class="line"><span class="lineno">  712</span>                        <span class="keywordflow">if</span> (friendlyFPHull != <span class="keyword">null</span> &amp;&amp; friendlyFPHull &gt; threshold) {</div>
<div class="line"><span class="lineno">  713</span>                            <span class="keywordflow">if</span> (first &amp;&amp; ffText != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  714</span>                                first = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  715</span>                                dialog.getTextPanel().addParagraph(ffText);</div>
<div class="line"><span class="lineno">  716</span>                            }</div>
<div class="line"><span class="lineno">  717</span>                            <span class="comment">// can lose reputation with sides that didn&#39;t survive</span></div>
<div class="line"><span class="lineno">  718</span>                            Global.getSector().adjustPlayerReputation(<span class="keyword">new</span> RepActionEnvelope(RepActions.COMBAT_FRIENDLY_FIRE, (friendlyFPHull - threshold), dialog.getTextPanel()), factionId);</div>
<div class="line"><span class="lineno">  719</span>                            printedAdjustmentText = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  720</span>                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action != <span class="keyword">null</span> &amp;&amp; playerSide.contains(ally)) {</div>
<div class="line"><span class="lineno">  721</span>                            <span class="comment">// only gain reputation with factions whose fleets actually survived</span></div>
<div class="line"><span class="lineno">  722</span>                            <span class="comment">//Global.getSector().adjustPlayerReputation(new RepActionEnvelope(action, null, dialog.getTextPanel()), factionId);</span></div>
<div class="line"><span class="lineno">  723</span>                        }</div>
<div class="line"><span class="lineno">  724</span>                    }</div>
<div class="line"><span class="lineno">  725</span>                }</div>
<div class="line"><span class="lineno">  726</span>            <span class="comment">//}</span></div>
<div class="line"><span class="lineno">  727</span>            <span class="keywordflow">return</span> printedAdjustmentText;</div>
<div class="line"><span class="lineno">  728</span>        }</div>
<div class="line"><span class="lineno">  729</span>        </div>
<div class="line"><span class="lineno">  730</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  731</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a043b12ebb9addd2620f15faba59623a8"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerOnlyRetreated</a></div><div class="ttdeci">boolean playerOnlyRetreated</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00075">FleetEncounterContext.java:75</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a16d6babca0a60e9da9153bb4c87d5a4b"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6babca0a60e9da9153bb4c87d5a4b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.didPlayerWinMostRecentBattleOfEncounter</a></div><div class="ttdeci">boolean didPlayerWinMostRecentBattleOfEncounter()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01000">FleetEncounterContext.java:1000</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a33be18c67e2c0aed2e95799be7488588"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33be18c67e2c0aed2e95799be7488588">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isNoRepImpact</a></div><div class="ttdeci">boolean isNoRepImpact()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00535">FleetEncounterContext.java:535</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a33eddabaaa90178365af579aabd8ffb5"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerFPHullDamageToEnemies</a></div><div class="ttdeci">float playerFPHullDamageToEnemies</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01958">FleetEncounterContext.java:1958</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a4727fed30fbc87f19c6eebbe4ddd0ca0"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerFPHullDamageToAlliesByFaction</a></div><div class="ttdeci">Map&lt; FactionAPI, Float &gt; playerFPHullDamageToAlliesByFaction</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01961">FleetEncounterContext.java:1961</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a5c6cd59a17ae1851086701391fd5367d"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c6cd59a17ae1851086701391fd5367d">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerDidSeriousDamage</a></div><div class="ttdeci">boolean playerDidSeriousDamage</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00077">FleetEncounterContext.java:77</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a73bdc2181f26f4f1c440b60838f6996b"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73bdc2181f26f4f1c440b60838f6996b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerPursued</a></div><div class="ttdeci">boolean playerPursued</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00076">FleetEncounterContext.java:76</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a75c9efd6252ae40170a6b2b215806cbd"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a75c9efd6252ae40170a6b2b215806cbd">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.alreadyAdjustedRep</a></div><div class="ttdeci">boolean alreadyAdjustedRep</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00542">FleetEncounterContext.java:542</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a855c871e3e911fe7d3120d988be3e60e"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a855c871e3e911fe7d3120d988be3e60e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isLowRepImpact</a></div><div class="ttdeci">boolean isLowRepImpact()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00529">FleetEncounterContext.java:529</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ab379609c976bdf7ea38f195fd0d0dc10"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.engagedInHostilities</a></div><div class="ttdeci">boolean engagedInHostilities</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00073">FleetEncounterContext.java:73</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ad8813163ce64c189b81fa6133794a846"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.allyFPHullDamageToEnemies</a></div><div class="ttdeci">float allyFPHullDamageToEnemies</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01959">FleetEncounterContext.java:1959</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a02ea35ccf1b0016169d51e5cffbb5da8"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a02ea35ccf1b0016169d51e5cffbb5da8">com.fs.starfarer.api.campaign.BattleAPI.isPlayerInvolvedAtStart</a></div><div class="ttdeci">boolean isPlayerInvolvedAtStart()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a8d03fa06449d1ef3edc3118d3d22cfb9"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a8d03fa06449d1ef3edc3118d3d22cfb9">com.fs.starfarer.api.campaign.BattleAPI.getSnapshotFor</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getSnapshotFor(List&lt; CampaignFleetAPI &gt; side)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_aaf1b93dd37f7760ffccc83fe3b5bafc7"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#aaf1b93dd37f7760ffccc83fe3b5bafc7">com.fs.starfarer.api.campaign.BattleAPI.knowsWhoPlayerIs</a></div><div class="ttdeci">boolean knowsWhoPlayerIs(List&lt; CampaignFleetAPI &gt; side)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_ad9e20801d4b57ae3d0f93db96fbb0829"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ad9e20801d4b57ae3d0f93db96fbb0829">com.fs.starfarer.api.campaign.BattleAPI.getNonPlayerSide</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getNonPlayerSide()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_af89feeda43f98a05fcefc5d8ea340d3e"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af89feeda43f98a05fcefc5d8ea340d3e">com.fs.starfarer.api.campaign.BattleAPI.getPlayerSide</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getPlayerSide()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a494d964ac4f5c92fa01971e52f51d655" name="a494d964ac4f5c92fa01971e52f51d655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a494d964ac4f5c92fa01971e52f51d655">&#9670;&#160;</a></span>applyAfterBattleEffectsIfThereWasABattle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyAfterBattleEffectsIfThereWasABattle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00751">751</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  751</span>                                                           {</div>
<div class="line"><span class="lineno">  752</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a917f4b9d4203ec3f96661478e23a96b9">hasWinnerAndLoser</a>() || !<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a>) {</div>
<div class="line"><span class="lineno">  753</span>            <span class="keywordflow">for</span> (FleetMemberAPI member : Global.getSector().getPlayerFleet().getFleetData().getMembersListCopy()) {</div>
<div class="line"><span class="lineno">  754</span>                member.getStatus().resetAmmoState();</div>
<div class="line"><span class="lineno">  755</span>            }</div>
<div class="line"><span class="lineno">  756</span>            </div>
<div class="line"><span class="lineno">  757</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">noHarryBecauseOfStation</a> &amp;&amp; <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  758</span>                List&lt;CampaignFleetAPI&gt; otherSide = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ad9e20801d4b57ae3d0f93db96fbb0829">getNonPlayerSide</a>();</div>
<div class="line"><span class="lineno">  759</span>                CampaignFleetAPI fleet = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(otherSide);</div>
<div class="line"><span class="lineno">  760</span>                <span class="keywordflow">if</span> (fleet.getAI() != <span class="keyword">null</span> &amp;&amp; </div>
<div class="line"><span class="lineno">  761</span>                        !fleet.getAI().isCurrentAssignment(FleetAssignment.STANDING_DOWN)) {</div>
<div class="line"><span class="lineno">  762</span>                    fleet.<a class="code hl_function" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a33bfcfbc5371e5c5736058a57ac8c7ad">getAI</a>().<a class="code hl_function" href="../../d4/d22/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1CampaignFleetAIAPI.html#ab6b28f1fdf2c418078adbc9b6c829d2b">addAssignmentAtStart</a>(FleetAssignment.STANDING_DOWN, fleet, 0.5f + 0.5f * (<span class="keywordtype">float</span>) Math.random(), <span class="keyword">null</span>);</div>
<div class="line"><span class="lineno">  763</span>                }</div>
<div class="line"><span class="lineno">  764</span>            }</div>
<div class="line"><span class="lineno">  765</span>            </div>
<div class="line"><span class="lineno">  766</span>            <span class="comment">//Global.getSector().setLastPlayerBattleTimestamp(Global.getSector().getClock().getTimestamp());</span></div>
<div class="line"><span class="lineno">  767</span>            Global.getSector().getPlayerFleet().setNoEngaging(3f);</div>
<div class="line"><span class="lineno">  768</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  769</span>        }</div>
<div class="line"><span class="lineno">  770</span>        </div>
<div class="line"><span class="lineno">  771</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c4aa47c971be667a4a1c4bded5410e2">gainXP</a>();</div>
<div class="line"><span class="lineno">  772</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a13e5b583e4e093a16c7cff304dda995c">addPotentialOfficer</a>();</div>
<div class="line"><span class="lineno">  773</span>        </div>
<div class="line"><span class="lineno">  774</span><span class="comment">//      CampaignFleetAPI winner = getWinnerData().getFleet();</span></div>
<div class="line"><span class="lineno">  775</span><span class="comment">//      CampaignFleetAPI loser = getLoserData().getFleet();</span></div>
<div class="line"><span class="lineno">  776</span><span class="comment">//      List&lt;CampaignFleetAPI&gt; winners = battle.getSideFor(getWinnerData().getFleet());</span></div>
<div class="line"><span class="lineno">  777</span><span class="comment">//      List&lt;CampaignFleetAPI&gt; losers = battle.getSideFor(getLoserData().getFleet());</span></div>
<div class="line"><span class="lineno">  778</span>        List&lt;CampaignFleetAPI&gt; winners = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a079e00738984aef9c8b22a779951c44b">getSnapshotSideFor</a>(<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>().getFleet());</div>
<div class="line"><span class="lineno">  779</span>        List&lt;CampaignFleetAPI&gt; losers = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a079e00738984aef9c8b22a779951c44b">getSnapshotSideFor</a>(<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>().getFleet());</div>
<div class="line"><span class="lineno">  780</span>        <span class="keywordflow">if</span> (winners == <span class="keyword">null</span> || losers == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  781</span>        </div>
<div class="line"><span class="lineno">  782</span>        <span class="keywordflow">for</span> (CampaignFleetAPI loser : losers) {</div>
<div class="line"><span class="lineno">  783</span>            <span class="keywordflow">for</span> (FleetMemberAPI member : loser.getFleetData().getMembersListCopy()) {</div>
<div class="line"><span class="lineno">  784</span>                member.getStatus().resetAmmoState();</div>
<div class="line"><span class="lineno">  785</span>            }</div>
<div class="line"><span class="lineno">  786</span>            </div>
<div class="line"><span class="lineno">  787</span>            loser.getVelocity().set(0, 0);</div>
<div class="line"><span class="lineno">  788</span>            <span class="keywordflow">if</span> (loser.isPlayerFleet()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  789</span>            <span class="keywordflow">if</span> (loser.isPlayerFleet()) loser.setNoEngaging(3f);</div>
<div class="line"><span class="lineno">  790</span>            </div>
<div class="line"><span class="lineno">  791</span>        }</div>
<div class="line"><span class="lineno">  792</span>        <span class="keywordflow">for</span> (CampaignFleetAPI winner : winners) {</div>
<div class="line"><span class="lineno">  793</span>            <span class="keywordflow">for</span> (FleetMemberAPI member : winner.getFleetData().getMembersListCopy()) {</div>
<div class="line"><span class="lineno">  794</span>                member.getStatus().resetAmmoState();</div>
<div class="line"><span class="lineno">  795</span>            }</div>
<div class="line"><span class="lineno">  796</span>            </div>
<div class="line"><span class="lineno">  797</span>            winner.getVelocity().set(0, 0);</div>
<div class="line"><span class="lineno">  798</span>            <span class="keywordflow">if</span> (winner.isPlayerFleet()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  799</span>            <span class="keywordflow">if</span> (winner.isPlayerFleet()) winner.setNoEngaging(3f);</div>
<div class="line"><span class="lineno">  800</span>            </div>
<div class="line"><span class="lineno">  801</span>        }</div>
<div class="line"><span class="lineno">  802</span>        </div>
<div class="line"><span class="lineno">  803</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(winners)) {</div>
<div class="line"><span class="lineno">  804</span>            <span class="keywordflow">for</span> (CampaignFleetAPI fleet : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af89feeda43f98a05fcefc5d8ea340d3e">getPlayerSide</a>()) {</div>
<div class="line"><span class="lineno">  805</span>                <span class="keywordflow">if</span> (fleet.isPlayerFleet()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  806</span>                </div>
<div class="line"><span class="lineno">  807</span>                Misc.forgetAboutTransponder(fleet);</div>
<div class="line"><span class="lineno">  808</span>            }</div>
<div class="line"><span class="lineno">  809</span>        }</div>
<div class="line"><span class="lineno">  810</span>        </div>
<div class="line"><span class="lineno">  811</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a6c6a8bb5399dde80dcf32cc8438d132c">setPlayerInvolvementFraction</a>(<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>());</div>
<div class="line"><span class="lineno">  812</span>        </div>
<div class="line"><span class="lineno">  813</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">isAutoresolve</a> &amp;&amp; <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">engagedInActualBattle</a>) {</div>
<div class="line"><span class="lineno">  814</span>            Global.getSector().reportBattleOccurred(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(winners), <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>);</div>
<div class="line"><span class="lineno">  815</span>            Global.getSector().reportBattleFinished(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(winners), <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>);</div>
<div class="line"><span class="lineno">  816</span>        }</div>
<div class="line"><span class="lineno">  817</span>        </div>
<div class="line"><span class="lineno">  818</span>        CampaignFleetAPI largestWinner = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(winners);</div>
<div class="line"><span class="lineno">  819</span>        <span class="keywordflow">for</span> (CampaignFleetAPI loser : losers) {</div>
<div class="line"><span class="lineno">  820</span>            <span class="keywordflow">if</span> (loser.getFleetData().getMembersListCopy().isEmpty()) {</div>
<div class="line"><span class="lineno">  821</span>                <span class="comment">//Global.getSector().reportFleetDewspawned(loser, FleetDespawnReason.DESTROYED_BY_FLEET, winner);</span></div>
<div class="line"><span class="lineno">  822</span>                loser.<a class="code hl_function" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#afaa58f8e61f1eadc9223fb58c5275108">despawn</a>(FleetDespawnReason.DESTROYED_BY_BATTLE, <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>);</div>
<div class="line"><span class="lineno">  823</span>            }</div>
<div class="line"><span class="lineno">  824</span>        }</div>
<div class="line"><span class="lineno">  825</span>        </div>
<div class="line"><span class="lineno">  826</span>        <span class="keywordflow">for</span> (CampaignFleetAPI winner : winners) {</div>
<div class="line"><span class="lineno">  827</span>            <span class="keywordflow">if</span> (winner.getFleetData().getMembersListCopy().isEmpty()) {</div>
<div class="line"><span class="lineno">  828</span>                <span class="comment">//Global.getSector().reportFleetDewspawned(loser, FleetDespawnReason.DESTROYED_BY_FLEET, winner);</span></div>
<div class="line"><span class="lineno">  829</span>                winner.despawn(FleetDespawnReason.DESTROYED_BY_BATTLE, <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>);</div>
<div class="line"><span class="lineno">  830</span>            }</div>
<div class="line"><span class="lineno">  831</span>        }</div>
<div class="line"><span class="lineno">  832</span>        </div>
<div class="line"><span class="lineno">  833</span>        <span class="keywordflow">for</span> (CampaignFleetAPI enemy : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#abe620da6424fde52f5084ae9468b730a">getBothSides</a>()) {</div>
<div class="line"><span class="lineno">  834</span>            <span class="keywordflow">if</span> (enemy.getAI() instanceof ModularFleetAIAPI) {</div>
<div class="line"><span class="lineno">  835</span>                ModularFleetAIAPI mAI = (ModularFleetAIAPI) enemy.getAI();</div>
<div class="line"><span class="lineno">  836</span>                mAI.getTacticalModule().forceTargetReEval();</div>
<div class="line"><span class="lineno">  837</span>            }</div>
<div class="line"><span class="lineno">  838</span>        }</div>
<div class="line"><span class="lineno">  839</span> </div>
<div class="line"><span class="lineno">  840</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a13e5b583e4e093a16c7cff304dda995c"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a13e5b583e4e093a16c7cff304dda995c">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.addPotentialOfficer</a></div><div class="ttdeci">void addPotentialOfficer()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02097">FleetEncounterContext.java:2097</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a15a96a30a1b9c497887bdfde7bac9106"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.engagedInActualBattle</a></div><div class="ttdeci">boolean engagedInActualBattle</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00074">FleetEncounterContext.java:74</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a263ae72ae33afdfab40048c4b75c10b5"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getLoserData</a></div><div class="ttdeci">DataForEncounterSide getLoserData()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00131">FleetEncounterContext.java:131</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a4dec6defad11beafe5e437303f7a95ac"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isAutoresolve</a></div><div class="ttdeci">boolean isAutoresolve</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00082">FleetEncounterContext.java:82</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a5c4aa47c971be667a4a1c4bded5410e2"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c4aa47c971be667a4a1c4bded5410e2">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.gainXP</a></div><div class="ttdeci">void gainXP()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01908">FleetEncounterContext.java:1908</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a917f4b9d4203ec3f96661478e23a96b9"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a917f4b9d4203ec3f96661478e23a96b9">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.hasWinnerAndLoser</a></div><div class="ttdeci">boolean hasWinnerAndLoser()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02736">FleetEncounterContext.java:2736</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_abd1761f41cd1c8d9c9d9e16dcd77fe2e"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.noHarryBecauseOfStation</a></div><div class="ttdeci">boolean noHarryBecauseOfStation</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00743">FleetEncounterContext.java:743</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_acdada664ff95e13bb05f64a01f35507b"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getWinnerData</a></div><div class="ttdeci">DataForEncounterSide getWinnerData()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00122">FleetEncounterContext.java:122</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a079e00738984aef9c8b22a779951c44b"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a079e00738984aef9c8b22a779951c44b">com.fs.starfarer.api.campaign.BattleAPI.getSnapshotSideFor</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getSnapshotSideFor(CampaignFleetAPI participantOrCombined)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a3389318628d0c974cf945a9fc40d5453"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">com.fs.starfarer.api.campaign.BattleAPI.getPrimary</a></div><div class="ttdeci">CampaignFleetAPI getPrimary(List&lt; CampaignFleetAPI &gt; side)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a6c6a8bb5399dde80dcf32cc8438d132c"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a6c6a8bb5399dde80dcf32cc8438d132c">com.fs.starfarer.api.campaign.BattleAPI.setPlayerInvolvementFraction</a></div><div class="ttdeci">void setPlayerInvolvementFraction(float playerInvolvementFraction)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_abe620da6424fde52f5084ae9468b730a"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#abe620da6424fde52f5084ae9468b730a">com.fs.starfarer.api.campaign.BattleAPI.getBothSides</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getBothSides()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_a33bfcfbc5371e5c5736058a57ac8c7ad"><div class="ttname"><a href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a33bfcfbc5371e5c5736058a57ac8c7ad">com.fs.starfarer.api.campaign.CampaignFleetAPI.getAI</a></div><div class="ttdeci">CampaignFleetAIAPI getAI()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_afaa58f8e61f1eadc9223fb58c5275108"><div class="ttname"><a href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#afaa58f8e61f1eadc9223fb58c5275108">com.fs.starfarer.api.campaign.CampaignFleetAPI.despawn</a></div><div class="ttdeci">void despawn()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1CampaignFleetAIAPI_html_ab6b28f1fdf2c418078adbc9b6c829d2b"><div class="ttname"><a href="../../d4/d22/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1ai_1_1CampaignFleetAIAPI.html#ab6b28f1fdf2c418078adbc9b6c829d2b">com.fs.starfarer.api.campaign.ai.CampaignFleetAIAPI.addAssignmentAtStart</a></div><div class="ttdeci">void addAssignmentAtStart(FleetAssignment assignment, SectorEntityToken target, float maxDurationInDays, Script onCompletion)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a93fc31b43c898dd58a3a6c75a3c17caa" name="a93fc31b43c898dd58a3a6c75a3c17caa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93fc31b43c898dd58a3a6c75a3c17caa">&#9670;&#160;</a></span>applyBoardingSelfDestruct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyBoardingSelfDestruct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/db8/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a>&#160;</td>
          <td class="paramname"><em>boardingParty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BoardingAttackType&#160;</td>
          <td class="paramname"><em>attackType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt;&#160;</td>
          <td class="paramname"><em>boardingTaskForce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>attacker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>defender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BoardingResult&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01327">1327</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1331</span>                                    {</div>
<div class="line"><span class="lineno"> 1332</span>        </div>
<div class="line"><span class="lineno"> 1333</span>        DataForEncounterSide attackerSide = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(attacker);</div>
<div class="line"><span class="lineno"> 1334</span>        DataForEncounterSide defenderSide = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(defender);</div>
<div class="line"><span class="lineno"> 1335</span>        </div>
<div class="line"><span class="lineno"> 1336</span>        attackerSide.changeEnemy(member, Status.DESTROYED);</div>
<div class="line"><span class="lineno"> 1337</span>        defenderSide.changeOwn(member, Status.DESTROYED);</div>
<div class="line"><span class="lineno"> 1338</span> </div>
<div class="line"><span class="lineno"> 1339</span>        </div>
<div class="line"><span class="lineno"> 1340</span>        CrewCompositionAPI total = Global.getFactory().createCrewComposition();</div>
<div class="line"><span class="lineno"> 1341</span>        </div>
<div class="line"><span class="lineno"> 1342</span>        <span class="keywordflow">if</span> (attackType == BoardingAttackType.SHIP_TO_SHIP) {</div>
<div class="line"><span class="lineno"> 1343</span>            <span class="keywordflow">for</span> (FleetMemberAPI fm : boardingTaskForce) {</div>
<div class="line"><span class="lineno"> 1344</span>                <span class="keywordtype">float</span> damage = member.getStats().getFluxCapacity().getModifiedValue() * (1f + (float) Math.random() * 0.5f);</div>
<div class="line"><span class="lineno"> 1345</span>                <span class="keywordtype">float</span> hull = fm.getStatus().getHullFraction();</div>
<div class="line"><span class="lineno"> 1346</span>                <span class="keywordtype">float</span> hullDamageFactor = 0f;</div>
<div class="line"><span class="lineno"> 1347</span>                fm.getStatus().applyDamage(damage);</div>
<div class="line"><span class="lineno"> 1348</span>                <span class="keywordflow">if</span> (fm.getStatus().getHullFraction() &lt;= 0) {</div>
<div class="line"><span class="lineno"> 1349</span>                    fm.getStatus().disable();</div>
<div class="line"><span class="lineno"> 1350</span>                    attacker.getFleetData().removeFleetMember(fm);</div>
<div class="line"><span class="lineno"> 1351</span>                    attackerSide.addOwn(fm, Status.DESTROYED);</div>
<div class="line"><span class="lineno"> 1352</span>                    <span class="comment">//total.addAll(fm.getCrewComposition());</span></div>
<div class="line"><span class="lineno"> 1353</span>                    </div>
<div class="line"><span class="lineno"> 1354</span>                    attackerSide.getRetreatedFromLastEngagement().remove(fm);</div>
<div class="line"><span class="lineno"> 1355</span>                    attackerSide.getInReserveDuringLastEngagement().remove(fm);</div>
<div class="line"><span class="lineno"> 1356</span>                    attackerSide.getDeployedInLastEngagement().remove(fm);</div>
<div class="line"><span class="lineno"> 1357</span>                    attackerSide.getDestroyedInLastEngagement().add(fm);</div>
<div class="line"><span class="lineno"> 1358</span>                    </div>
<div class="line"><span class="lineno"> 1359</span>                    result.getLostInSelfDestruct().add(fm);</div>
<div class="line"><span class="lineno"> 1360</span>                    </div>
<div class="line"><span class="lineno"> 1361</span>                    hullDamageFactor = 1f;</div>
<div class="line"><span class="lineno"> 1362</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1363</span>                    <span class="keywordtype">float</span> newHull = fm.getStatus().getHullFraction();</div>
<div class="line"><span class="lineno"> 1364</span>                    <span class="keywordtype">float</span> diff = hull - newHull;</div>
<div class="line"><span class="lineno"> 1365</span>                    <span class="keywordflow">if</span> (diff &lt; 0) diff = 0;</div>
<div class="line"><span class="lineno"> 1366</span>                    hullDamageFactor = diff;</div>
<div class="line"><span class="lineno"> 1367</span>                }</div>
<div class="line"><span class="lineno"> 1368</span>                CrewCompositionAPI temp = Global.getFactory().createCrewComposition();</div>
<div class="line"><span class="lineno"> 1369</span>                temp.addAll(fm.getCrewComposition());</div>
<div class="line"><span class="lineno"> 1370</span>                <span class="keywordtype">float</span> lossFraction = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279">computeLossFraction</a>(fm, <span class="keyword">null</span>, fm.getStatus().getHullFraction(), hullDamageFactor);</div>
<div class="line"><span class="lineno"> 1371</span>                temp.multiplyBy(lossFraction);</div>
<div class="line"><span class="lineno"> 1372</span>                total.addAll(temp);</div>
<div class="line"><span class="lineno"> 1373</span>            }</div>
<div class="line"><span class="lineno"> 1374</span>            <span class="comment">//total.removeAll(boardingParty);</span></div>
<div class="line"><span class="lineno"> 1375</span>        }</div>
<div class="line"><span class="lineno"> 1376</span>        </div>
<div class="line"><span class="lineno"> 1377</span>        <span class="keywordtype">float</span> lossFraction = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279">computeLossFraction</a>(<span class="keyword">null</span>, <span class="keyword">null</span>, 0f, 1f);</div>
<div class="line"><span class="lineno"> 1378</span>        total.setMarines(Math.round(Math.max(total.getMarines(), boardingParty.getMarines() * lossFraction)));</div>
<div class="line"><span class="lineno"> 1379</span>        total.setCrew(Math.round(Math.max(total.getCrew(), boardingParty.getCrew() * lossFraction)));</div>
<div class="line"><span class="lineno"> 1380</span>        </div>
<div class="line"><span class="lineno"> 1381</span>        <span class="comment">//result.getAttackerLosses().addAll(boardingParty);</span></div>
<div class="line"><span class="lineno"> 1382</span><span class="comment">//      float lossFraction = computeLossFraction(boardingTaskForce.get(0), 0f, 1f);</span></div>
<div class="line"><span class="lineno"> 1383</span><span class="comment">//      total.multiplyBy(lossFraction);</span></div>
<div class="line"><span class="lineno"> 1384</span>        </div>
<div class="line"><span class="lineno"> 1385</span>        result.getAttackerLosses().addAll(total);</div>
<div class="line"><span class="lineno"> 1386</span>        result.getDefenderLosses().addAll(member.getCrewComposition());</div>
<div class="line"><span class="lineno"> 1387</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a0b41ca54a5848a0849d021c3fa275279"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeLossFraction</a></div><div class="ttdeci">float computeLossFraction(FleetMemberAPI member, EngagementResultForFleetAPI result, float hullFraction, float hullDamage)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l03045">FleetEncounterContext.java:3045</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a789f8a2356e270a6c24749a637e2097e"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getDataFor</a></div><div class="ttdeci">DataForEncounterSide getDataFor(CampaignFleetAPI participantOrCombined)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00107">FleetEncounterContext.java:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b16b7b09022902e5d8904edf7e9079b" name="a1b16b7b09022902e5d8904edf7e9079b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b16b7b09022902e5d8904edf7e9079b">&#9670;&#160;</a></span>applyCREffect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyCREffect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02839">2839</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2839</span>                                                                     {</div>
<div class="line"><span class="lineno"> 2840</span>        <span class="keywordtype">boolean</span> wonBattle = result.isWinner();</div>
<div class="line"><span class="lineno"> 2841</span>        <span class="keywordflow">if</span> (wonBattle) {</div>
<div class="line"><span class="lineno"> 2842</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa">preEngagementCRForWinner</a>.clear();</div>
<div class="line"><span class="lineno"> 2843</span>            <span class="keywordflow">for</span> (FleetMemberAPI member : result.getFleet().getFleetData().getMembersListCopy()) {</div>
<div class="line"><span class="lineno"> 2844</span>                <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa">preEngagementCRForWinner</a>.put(member, member.getRepairTracker().getCR());</div>
<div class="line"><span class="lineno"> 2845</span>            }</div>
<div class="line"><span class="lineno"> 2846</span>        }</div>
<div class="line"><span class="lineno"> 2847</span>        </div>
<div class="line"><span class="lineno"> 2848</span>        List&lt;FleetMemberAPI&gt; applyDeployCostTo = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;(result.getDeployed());</div>
<div class="line"><span class="lineno"> 2849</span>        </div>
<div class="line"><span class="lineno"> 2850</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : result.getDisabled()) {</div>
<div class="line"><span class="lineno"> 2851</span>            <span class="comment">// does not work, needs more things changed to work</span></div>
<div class="line"><span class="lineno"> 2852</span>            <span class="comment">//float mult = member.getStats().getDynamic().getValue(Stats.CR_LOSS_WHEN_DISABLED_MULT);</span></div>
<div class="line"><span class="lineno"> 2853</span>            <span class="keywordtype">float</span> mult = 1f;</div>
<div class="line"><span class="lineno"> 2854</span>            <span class="keywordflow">if</span> (mult &gt; 0) {</div>
<div class="line"><span class="lineno"> 2855</span>                member.getRepairTracker().applyCREvent(-1f * mult, <span class="stringliteral">&quot;disabled in combat&quot;</span>);</div>
<div class="line"><span class="lineno"> 2856</span>            }</div>
<div class="line"><span class="lineno"> 2857</span>            <span class="keywordflow">if</span> (mult &lt; 1) {</div>
<div class="line"><span class="lineno"> 2858</span>                applyDeployCostTo.add(member);</div>
<div class="line"><span class="lineno"> 2859</span>            }</div>
<div class="line"><span class="lineno"> 2860</span>        }</div>
<div class="line"><span class="lineno"> 2861</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : result.getDestroyed()) {</div>
<div class="line"><span class="lineno"> 2862</span><span class="comment">//          if (member.getHullId().equals(&quot;vanguard_pirates&quot;)) {</span></div>
<div class="line"><span class="lineno"> 2863</span><span class="comment">//              System.out.println(&quot;efwefwef&quot;);</span></div>
<div class="line"><span class="lineno"> 2864</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 2865</span>            <span class="comment">//float mult = member.getStats().getDynamic().getValue(Stats.CR_LOSS_WHEN_DISABLED_MULT);</span></div>
<div class="line"><span class="lineno"> 2866</span>            <span class="keywordtype">float</span> mult = 1f;</div>
<div class="line"><span class="lineno"> 2867</span>            <span class="keywordflow">if</span> (mult &gt; 0) {</div>
<div class="line"><span class="lineno"> 2868</span>                member.getRepairTracker().applyCREvent(-1f * mult, <span class="stringliteral">&quot;disabled in combat&quot;</span>);</div>
<div class="line"><span class="lineno"> 2869</span>            }</div>
<div class="line"><span class="lineno"> 2870</span>            <span class="keywordflow">if</span> (mult &lt; 1) {</div>
<div class="line"><span class="lineno"> 2871</span>                applyDeployCostTo.add(member);</div>
<div class="line"><span class="lineno"> 2872</span>            }</div>
<div class="line"><span class="lineno"> 2873</span>        }</div>
<div class="line"><span class="lineno"> 2874</span>        </div>
<div class="line"><span class="lineno"> 2875</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : applyDeployCostTo) {</div>
<div class="line"><span class="lineno"> 2876</span>            <span class="keywordtype">float</span> deployCost = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">getDeployCost</a>(member);</div>
<div class="line"><span class="lineno"> 2877</span>            <span class="keywordflow">if</span> (member.isFighterWing()) {</div>
<div class="line"><span class="lineno"> 2878</span>                member.getRepairTracker().applyCREvent(-deployCost, <span class="stringliteral">&quot;wing deployed in combat&quot;</span>);</div>
<div class="line"><span class="lineno"> 2879</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2880</span>                member.getRepairTracker().applyCREvent(-deployCost, <span class="stringliteral">&quot;deployed in combat&quot;</span>);</div>
<div class="line"><span class="lineno"> 2881</span>            }</div>
<div class="line"><span class="lineno"> 2882</span>            </div>
<div class="line"><span class="lineno"> 2883</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9b4530b6a62be2bd068593469d6cd3ff">applyExtendedCRLossIfNeeded</a>(result, member);</div>
<div class="line"><span class="lineno"> 2884</span>        }</div>
<div class="line"><span class="lineno"> 2885</span>        </div>
<div class="line"><span class="lineno"> 2886</span>        <span class="comment">//float retreatLossMult = StarfarerSettings.getCRLossMultForRetreatInLoss();</span></div>
<div class="line"><span class="lineno"> 2887</span>        <span class="keywordtype">float</span> retreatLossMult = Global.getSettings().getFloat(<span class="stringliteral">&quot;crLossMultForRetreatInLoss&quot;</span>);</div>
<div class="line"><span class="lineno"> 2888</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : result.getRetreated()) {</div>
<div class="line"><span class="lineno"> 2889</span>            <span class="keywordtype">float</span> deployCost = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">getDeployCost</a>(member);</div>
<div class="line"><span class="lineno"> 2890</span>            <span class="keywordflow">if</span> (member.isFighterWing()) {</div>
<div class="line"><span class="lineno"> 2891</span>                member.getRepairTracker().applyCREvent(-deployCost, <span class="stringliteral">&quot;wing deployed in combat&quot;</span>);</div>
<div class="line"><span class="lineno"> 2892</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2893</span>                member.getRepairTracker().applyCREvent(-deployCost, <span class="stringliteral">&quot;deployed in combat&quot;</span>);</div>
<div class="line"><span class="lineno"> 2894</span>            }</div>
<div class="line"><span class="lineno"> 2895</span>            </div>
<div class="line"><span class="lineno"> 2896</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9b4530b6a62be2bd068593469d6cd3ff">applyExtendedCRLossIfNeeded</a>(result, member);</div>
<div class="line"><span class="lineno"> 2897</span>            </div>
<div class="line"><span class="lineno"> 2898</span>            <span class="keywordflow">if</span> (!wonBattle &amp;&amp; result.getGoal() != FleetGoal.ESCAPE) {</div>
<div class="line"><span class="lineno"> 2899</span>                <span class="keywordtype">float</span> retreatCost = deployCost * retreatLossMult;</div>
<div class="line"><span class="lineno"> 2900</span>                <span class="keywordflow">if</span> (retreatCost &gt; 0) {</div>
<div class="line"><span class="lineno"> 2901</span>                    member.getRepairTracker().applyCREvent(-retreatCost, <span class="stringliteral">&quot;retreated from lost engagement&quot;</span>);</div>
<div class="line"><span class="lineno"> 2902</span>                }</div>
<div class="line"><span class="lineno"> 2903</span>            }</div>
<div class="line"><span class="lineno"> 2904</span>        }</div>
<div class="line"><span class="lineno"> 2905</span>        </div>
<div class="line"><span class="lineno"> 2906</span><span class="comment">//      // important, so that in-combat Ship objects can be garbage collected.</span></div>
<div class="line"><span class="lineno"> 2907</span><span class="comment">//      // Probably some combat engine references in there, too. </span></div>
<div class="line"><span class="lineno"> 2908</span><span class="comment">//      // NOTE: moved this elsewhere in this class</span></div>
<div class="line"><span class="lineno"> 2909</span><span class="comment">//      result.resetAllEverDeployed();</span></div>
<div class="line"><span class="lineno"> 2910</span><span class="comment">//      getDataFor(result.getFleet()).getMemberToDeployedMap().clear();</span></div>
<div class="line"><span class="lineno"> 2911</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a854bd1a92d475fac4a320a872d4d30fa"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.preEngagementCRForWinner</a></div><div class="ttdeci">Map&lt; FleetMemberAPI, Float &gt; preEngagementCRForWinner</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02838">FleetEncounterContext.java:2838</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a9b4530b6a62be2bd068593469d6cd3ff"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9b4530b6a62be2bd068593469d6cd3ff">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyExtendedCRLossIfNeeded</a></div><div class="ttdeci">void applyExtendedCRLossIfNeeded(EngagementResultForFleetAPI result, FleetMemberAPI member)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02929">FleetEncounterContext.java:2929</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ad2bd1e7c4546d77cd2433ed0f996a41b"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getDeployCost</a></div><div class="ttdeci">float getDeployCost(FleetMemberAPI member)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00525">FleetEncounterContext.java:525</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0114107a345ab53e29d2fc2185510dc" name="aa0114107a345ab53e29d2fc2185510dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0114107a345ab53e29d2fc2185510dc">&#9670;&#160;</a></span>applyCrewLosses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyCrewLosses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02814">2814</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2814</span>                                                               {</div>
<div class="line"><span class="lineno"> 2815</span>        EngagementResultForFleetAPI winner = result.getWinnerResult();</div>
<div class="line"><span class="lineno"> 2816</span>        EngagementResultForFleetAPI loser = result.getLoserResult();</div>
<div class="line"><span class="lineno"> 2817</span>        </div>
<div class="line"><span class="lineno"> 2818</span>        <span class="comment">//boolean playerInvolved = winner.getFleet().isPlayerFleet() || loser.getFleet().isPlayerFleet();</span></div>
<div class="line"><span class="lineno"> 2819</span>        <span class="keywordtype">boolean</span> playerInvolved = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>();</div>
<div class="line"><span class="lineno"> 2820</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aded179a09a0c0709bd866bc3044a94e2">calculateAndApplyCrewLosses</a>(winner, playerInvolved);</div>
<div class="line"><span class="lineno"> 2821</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aded179a09a0c0709bd866bc3044a94e2">calculateAndApplyCrewLosses</a>(loser, playerInvolved);</div>
<div class="line"><span class="lineno"> 2822</span>        </div>
<div class="line"><span class="lineno"> 2823</span><span class="comment">//      applyCrewLosses(winner);</span></div>
<div class="line"><span class="lineno"> 2824</span><span class="comment">//      applyCrewLosses(loser);</span></div>
<div class="line"><span class="lineno"> 2825</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_aded179a09a0c0709bd866bc3044a94e2"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aded179a09a0c0709bd866bc3044a94e2">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.calculateAndApplyCrewLosses</a></div><div class="ttdeci">void calculateAndApplyCrewLosses(EngagementResultForFleetAPI result, boolean playerInvolved)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l03124">FleetEncounterContext.java:3124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b4530b6a62be2bd068593469d6cd3ff" name="a9b4530b6a62be2bd068593469d6cd3ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b4530b6a62be2bd068593469d6cd3ff">&#9670;&#160;</a></span>applyExtendedCRLossIfNeeded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyExtendedCRLossIfNeeded </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a>&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Only matters in non-auto-resolved battles. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">member</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02929">2929</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2929</span>                                                                                                          {</div>
<div class="line"><span class="lineno"> 2930</span>        DeployedFleetMemberAPI dfm = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(result.getFleet()).getMemberToDeployedMap().get(member);</div>
<div class="line"><span class="lineno"> 2931</span>        <span class="keywordflow">if</span> (dfm == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2932</span>        </div>
<div class="line"><span class="lineno"> 2933</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span> &amp;&amp; <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 2934</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2935</span>        }</div>
<div class="line"><span class="lineno"> 2936</span>        <span class="keywordflow">if</span> (member.getFleetCommander() == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 2937</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2938</span>        }</div>
<div class="line"><span class="lineno"> 2939</span>        </div>
<div class="line"><span class="lineno"> 2940</span>        <span class="keywordflow">if</span> (dfm.getMember() == member &amp;&amp; dfm.isFighterWing()) {</div>
<div class="line"><span class="lineno"> 2941</span>            <span class="comment">//float finalCR = dfm.getShip().getRemainingWingCR();</span></div>
<div class="line"><span class="lineno"> 2942</span>            <span class="keywordtype">float</span> cr = member.getRepairTracker().getBaseCR();</div>
<div class="line"><span class="lineno"> 2943</span>            <span class="keywordtype">float</span> finalCR = cr;</div>
<div class="line"><span class="lineno"> 2944</span>            <span class="keywordflow">if</span> (cr &gt; finalCR) {</div>
<div class="line"><span class="lineno"> 2945</span>                member.getRepairTracker().applyCREvent(-(cr - finalCR), <span class="stringliteral">&quot;deployed replacement chassis in combat&quot;</span>);</div>
<div class="line"><span class="lineno"> 2946</span>            }</div>
<div class="line"><span class="lineno"> 2947</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2948</span>        }</div>
<div class="line"><span class="lineno"> 2949</span>        <span class="keywordflow">if</span> (dfm.getMember() == member &amp;&amp; !dfm.isFighterWing()) {</div>
<div class="line"><span class="lineno"> 2950</span>            <span class="keywordtype">float</span> deployCost = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">getDeployCost</a>(member);</div>
<div class="line"><span class="lineno"> 2951</span>            <span class="keywordtype">float</span> endOfCombatCR = dfm.getShip().getCurrentCR() - deployCost;</div>
<div class="line"><span class="lineno"> 2952</span>            <span class="keywordtype">float</span> cr = member.getRepairTracker().getCR();</div>
<div class="line"><span class="lineno"> 2953</span>            <span class="keywordflow">if</span> (cr &gt; endOfCombatCR) {</div>
<div class="line"><span class="lineno"> 2954</span>                member.getRepairTracker().applyCREvent(-(cr - endOfCombatCR), <span class="stringliteral">&quot;extended deployment&quot;</span>);</div>
<div class="line"><span class="lineno"> 2955</span>            }</div>
<div class="line"><span class="lineno"> 2956</span>            </div>
<div class="line"><span class="lineno"> 2957</span>            ShipAPI ship = dfm.getShip();</div>
<div class="line"><span class="lineno"> 2958</span>            <span class="keywordflow">if</span> (dfm.getShip() != <span class="keyword">null</span> &amp;&amp; !dfm.isFighterWing()) {</div>
<div class="line"><span class="lineno"> 2959</span>                <span class="keywordtype">float</span> wMult = Global.getSettings().getFloat(<span class="stringliteral">&quot;crLossMultForWeaponDisabled&quot;</span>);</div>
<div class="line"><span class="lineno"> 2960</span>                <span class="keywordtype">float</span> eMult = Global.getSettings().getFloat(<span class="stringliteral">&quot;crLossMultForFlameout&quot;</span>);</div>
<div class="line"><span class="lineno"> 2961</span>                <span class="keywordtype">float</span> mMult = Global.getSettings().getFloat(<span class="stringliteral">&quot;crLossMultForMissilesFired&quot;</span>);</div>
<div class="line"><span class="lineno"> 2962</span>                <span class="keywordtype">float</span> hMult = Global.getSettings().getFloat(<span class="stringliteral">&quot;crLossMultForHullDamage&quot;</span>);</div>
<div class="line"><span class="lineno"> 2963</span>                </div>
<div class="line"><span class="lineno"> 2964</span>                <span class="keywordtype">float</span> hullDamageFraction = ship.getHullLevelAtDeployment() - ship.getLowestHullLevelReached();</div>
<div class="line"><span class="lineno"> 2965</span>                <span class="keywordtype">float</span> hullDamageCRLoss = hullDamageFraction * hMult;</div>
<div class="line"><span class="lineno"> 2966</span>                hullDamageCRLoss *= ship.getMutableStats().getDynamic().getValue(Stats.HULL_DAMAGE_CR_LOSS);</div>
<div class="line"><span class="lineno"> 2967</span>                <span class="keywordflow">if</span> (hullDamageCRLoss &gt; 0) {</div>
<div class="line"><span class="lineno"> 2968</span>                    member.getRepairTracker().applyCREvent(-hullDamageCRLoss, <span class="stringliteral">&quot;hull damage sustained&quot;</span>);</div>
<div class="line"><span class="lineno"> 2969</span>                }</div>
<div class="line"><span class="lineno"> 2970</span>                </div>
<div class="line"><span class="lineno"> 2971</span>                member.getStatus().setHullFraction(ship.getLowestHullLevelReached());</div>
<div class="line"><span class="lineno"> 2972</span>                </div>
<div class="line"><span class="lineno"> 2973</span>                </div>
<div class="line"><span class="lineno"> 2974</span>                <span class="keywordtype">float</span> instaRepairFraction = member.getStats().getDynamic().getValue(Stats.INSTA_REPAIR_FRACTION, 0f);</div>
<div class="line"><span class="lineno"> 2975</span>                <span class="keywordflow">if</span> (instaRepairFraction &gt; 0) {</div>
<div class="line"><span class="lineno"> 2976</span>                    <span class="keywordtype">float</span> hullDamage = member.getStatus().getHullDamageTaken();</div>
<div class="line"><span class="lineno"> 2977</span>                    <span class="keywordtype">float</span> armorDamage = member.getStatus().getArmorDamageTaken();</div>
<div class="line"><span class="lineno"> 2978</span>                    </div>
<div class="line"><span class="lineno"> 2979</span>                    member.getStatus().repairArmorAllCells(armorDamage * instaRepairFraction); </div>
<div class="line"><span class="lineno"> 2980</span>                    member.getStatus().repairHullFraction(hullDamage * instaRepairFraction); </div>
<div class="line"><span class="lineno"> 2981</span>                }</div>
<div class="line"><span class="lineno"> 2982</span>                </div>
<div class="line"><span class="lineno"> 2983</span>                </div>
<div class="line"><span class="lineno"> 2984</span>                <span class="keywordtype">float</span> totalDisabled = 0f;</div>
<div class="line"><span class="lineno"> 2985</span>                MutableCharacterStatsAPI stats = member.getFleetCommander().getStats();</div>
<div class="line"><span class="lineno"> 2986</span>                <span class="keywordtype">float</span> maxOP = ship.getVariant().getHullSpec().getOrdnancePoints(stats);</div>
<div class="line"><span class="lineno"> 2987</span>                <span class="keywordflow">if</span> (maxOP &lt;= 1) maxOP = 1;</div>
<div class="line"><span class="lineno"> 2988</span>                </div>
<div class="line"><span class="lineno"> 2989</span>                <span class="keywordflow">for</span> (WeaponAPI w : ship.getDisabledWeapons()) {</div>
<div class="line"><span class="lineno"> 2990</span>                    totalDisabled += w.getSpec().getOrdnancePointCost(stats, ship.getVariant().getStatsForOpCosts()) * wMult;</div>
<div class="line"><span class="lineno"> 2991</span>                }</div>
<div class="line"><span class="lineno"> 2992</span>                <span class="keywordflow">if</span> (ship.getNumFlameouts() &gt; 0) {</div>
<div class="line"><span class="lineno"> 2993</span>                    totalDisabled += maxOP * eMult;</div>
<div class="line"><span class="lineno"> 2994</span>                }</div>
<div class="line"><span class="lineno"> 2995</span>                </div>
<div class="line"><span class="lineno"> 2996</span>                <span class="keywordtype">float</span> damageBasedCRLoss = Math.min(1f, totalDisabled / maxOP);</div>
<div class="line"><span class="lineno"> 2997</span>                <span class="keywordflow">if</span> (damageBasedCRLoss &gt; 0) {</div>
<div class="line"><span class="lineno"> 2998</span>                    member.getRepairTracker().applyCREvent(-damageBasedCRLoss, <span class="stringliteral">&quot;weapon and engine damage sustained&quot;</span>);</div>
<div class="line"><span class="lineno"> 2999</span>                }</div>
<div class="line"><span class="lineno"> 3000</span>                </div>
<div class="line"><span class="lineno"> 3001</span>                <span class="keywordtype">float</span> missileReloadOP = 0f;</div>
<div class="line"><span class="lineno"> 3002</span>                <span class="keywordflow">for</span> (WeaponAPI w : ship.getAllWeapons()) {</div>
<div class="line"><span class="lineno"> 3003</span>                    <span class="keywordflow">if</span> (w.getType() == WeaponType.MISSILE &amp;&amp; w.usesAmmo()) {</div>
<div class="line"><span class="lineno"> 3004</span>                        missileReloadOP += (1f - (float) w.getAmmo() / (float) w.getMaxAmmo()) * w.getSpec().getOrdnancePointCost(stats, ship.getVariant().getStatsForOpCosts()) * mMult;</div>
<div class="line"><span class="lineno"> 3005</span>                    }</div>
<div class="line"><span class="lineno"> 3006</span>                }</div>
<div class="line"><span class="lineno"> 3007</span>                </div>
<div class="line"><span class="lineno"> 3008</span>                <span class="keywordtype">float</span> missileReloadLoss = Math.min(1f, missileReloadOP / maxOP);</div>
<div class="line"><span class="lineno"> 3009</span>                <span class="keywordflow">if</span> (missileReloadLoss &gt; 0) {</div>
<div class="line"><span class="lineno"> 3010</span>                    member.getRepairTracker().applyCREvent(-missileReloadLoss, <span class="stringliteral">&quot;missile weapons used in combat&quot;</span>);</div>
<div class="line"><span class="lineno"> 3011</span>                }</div>
<div class="line"><span class="lineno"> 3012</span>            }</div>
<div class="line"><span class="lineno"> 3013</span>            </div>
<div class="line"><span class="lineno"> 3014</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3015</span>        }</div>
<div class="line"><span class="lineno"> 3016</span>    }</div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a977520ed5d70862c8f72a051da58a03f"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">com.fs.starfarer.api.campaign.BattleAPI.getSourceFleet</a></div><div class="ttdeci">CampaignFleetAPI getSourceFleet(FleetMemberAPI member)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d5e1d5b9288539a914fcf5cd50eb854" name="a3d5e1d5b9288539a914fcf5cd50eb854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d5e1d5b9288539a914fcf5cd50eb854">&#9670;&#160;</a></span>applyPursuitOption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyPursuitOption </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>pursuingFleet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>otherFleet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PursuitOption&#160;</td>
          <td class="paramname"><em>pursuitOption</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00939">939</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  939</span>                                                                                                                             {</div>
<div class="line"><span class="lineno">  940</span>        </div>
<div class="line"><span class="lineno">  941</span>        <span class="keywordflow">if</span> (Misc.isPlayerOrCombinedPlayerPrimary(pursuingFleet) &amp;&amp; pursuitOption != PursuitOption.LET_THEM_GO) {</div>
<div class="line"><span class="lineno">  942</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">playerOnlyRetreated</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  943</span>        }</div>
<div class="line"><span class="lineno">  944</span>        </div>
<div class="line"><span class="lineno">  945</span>        DataForEncounterSide pursuer = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(pursuingFleet);</div>
<div class="line"><span class="lineno">  946</span>        DataForEncounterSide other = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(otherFleet);</div>
<div class="line"><span class="lineno">  947</span>        </div>
<div class="line"><span class="lineno">  948</span>        <span class="keywordflow">if</span> (pursuitOption == PursuitOption.HARRY) {</div>
<div class="line"><span class="lineno">  949</span>            <span class="keywordflow">for</span> (FleetMemberAPI member : otherFleet.getFleetData().getMembersListCopy()) {</div>
<div class="line"><span class="lineno">  950</span>                <span class="keywordtype">float</span> deployCost = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">getDeployCost</a>(member);</div>
<div class="line"><span class="lineno">  951</span>                </div>
<div class="line"><span class="lineno">  952</span>                <span class="keywordtype">float</span> harryCost = deployCost * 1f;</div>
<div class="line"><span class="lineno">  953</span>                member.getRepairTracker().applyCREvent(-harryCost, <span class="stringliteral">&quot;harried while disengaging&quot;</span>);</div>
<div class="line"><span class="lineno">  954</span>            }</div>
<div class="line"><span class="lineno">  955</span>        }</div>
<div class="line"><span class="lineno">  956</span>    }   </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab60e1b424706649832f9fd9fa80197e3" name="ab60e1b424706649832f9fd9fa80197e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab60e1b424706649832f9fd9fa80197e3">&#9670;&#160;</a></span>applyResultToFleets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyResultToFleets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02752">2752</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2752</span>                                                                   {</div>
<div class="line"><span class="lineno"> 2753</span><span class="comment">//      applyCrewAndShipLosses(result);</span></div>
<div class="line"><span class="lineno"> 2754</span><span class="comment">//      fixFighters(result.getWinnerResult());</span></div>
<div class="line"><span class="lineno"> 2755</span><span class="comment">//      fixFighters(result.getLoserResult());</span></div>
<div class="line"><span class="lineno"> 2756</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a17ec4b8987783f4720cc420b490d519e">applyShipLosses</a>(result);    </div>
<div class="line"><span class="lineno"> 2757</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa0114107a345ab53e29d2fc2185510dc">applyCrewLosses</a>(result);</div>
<div class="line"><span class="lineno"> 2758</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a17ec4b8987783f4720cc420b490d519e"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a17ec4b8987783f4720cc420b490d519e">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyShipLosses</a></div><div class="ttdeci">void applyShipLosses(EngagementResultAPI result)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02827">FleetEncounterContext.java:2827</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_aa0114107a345ab53e29d2fc2185510dc"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aa0114107a345ab53e29d2fc2185510dc">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyCrewLosses</a></div><div class="ttdeci">void applyCrewLosses(EngagementResultAPI result)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02814">FleetEncounterContext.java:2814</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a17ec4b8987783f4720cc420b490d519e" name="a17ec4b8987783f4720cc420b490d519e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17ec4b8987783f4720cc420b490d519e">&#9670;&#160;</a></span>applyShipLosses() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyShipLosses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02827">2827</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2827</span>                                                               {</div>
<div class="line"><span class="lineno"> 2828</span>        EngagementResultForFleetAPI winner = result.getWinnerResult();</div>
<div class="line"><span class="lineno"> 2829</span>        EngagementResultForFleetAPI loser = result.getLoserResult();</div>
<div class="line"><span class="lineno"> 2830</span>        </div>
<div class="line"><span class="lineno"> 2831</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a17ec4b8987783f4720cc420b490d519e">applyShipLosses</a>(winner);</div>
<div class="line"><span class="lineno"> 2832</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a17ec4b8987783f4720cc420b490d519e">applyShipLosses</a>(loser);</div>
<div class="line"><span class="lineno"> 2833</span>        </div>
<div class="line"><span class="lineno"> 2834</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a1b16b7b09022902e5d8904edf7e9079b">applyCREffect</a>(winner);</div>
<div class="line"><span class="lineno"> 2835</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a1b16b7b09022902e5d8904edf7e9079b">applyCREffect</a>(loser);</div>
<div class="line"><span class="lineno"> 2836</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a1b16b7b09022902e5d8904edf7e9079b"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a1b16b7b09022902e5d8904edf7e9079b">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyCREffect</a></div><div class="ttdeci">void applyCREffect(EngagementResultForFleetAPI result)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02839">FleetEncounterContext.java:2839</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a90baa7c1682521b6fbf0f2551e8676b2" name="a90baa7c1682521b6fbf0f2551e8676b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90baa7c1682521b6fbf0f2551e8676b2">&#9670;&#160;</a></span>applyShipLosses() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyShipLosses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03019">3019</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3019</span>                                                                       {</div>
<div class="line"><span class="lineno"> 3020</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : result.getDestroyed()) {</div>
<div class="line"><span class="lineno"> 3021</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3022</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member).<a class="code hl_function" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a6be08ca1de2329c5cb4b6043a4c20f85">removeFleetMemberWithDestructionFlash</a>(member);</div>
<div class="line"><span class="lineno"> 3023</span>            result.getFleet().getFleetData().removeFleetMember(member);</div>
<div class="line"><span class="lineno"> 3024</span>        }</div>
<div class="line"><span class="lineno"> 3025</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : result.getDisabled()) {</div>
<div class="line"><span class="lineno"> 3026</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3027</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member).<a class="code hl_function" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a6be08ca1de2329c5cb4b6043a4c20f85">removeFleetMemberWithDestructionFlash</a>(member);</div>
<div class="line"><span class="lineno"> 3028</span>            result.getFleet().getFleetData().removeFleetMember(member);</div>
<div class="line"><span class="lineno"> 3029</span>        }</div>
<div class="line"><span class="lineno"> 3030</span>    }</div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_a6be08ca1de2329c5cb4b6043a4c20f85"><div class="ttname"><a href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#a6be08ca1de2329c5cb4b6043a4c20f85">com.fs.starfarer.api.campaign.CampaignFleetAPI.removeFleetMemberWithDestructionFlash</a></div><div class="ttdeci">void removeFleetMemberWithDestructionFlash(FleetMemberAPI member)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5eeaf622ef8c1125ddb7df2641823c3d" name="a5eeaf622ef8c1125ddb7df2641823c3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eeaf622ef8c1125ddb7df2641823c3d">&#9670;&#160;</a></span>autoLoot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.autoLoot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02681">2681</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2681</span>                           {</div>
<div class="line"><span class="lineno"> 2682</span>        DataForEncounterSide winner = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>();</div>
<div class="line"><span class="lineno"> 2683</span>        DataForEncounterSide loser = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>();</div>
<div class="line"><span class="lineno"> 2684</span>        <span class="keywordflow">if</span> (winner == <span class="keyword">null</span> || loser == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2685</span>        </div>
<div class="line"><span class="lineno"> 2686</span>        List&lt;CampaignFleetAPI&gt; winners = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(winner.getFleet());</div>
<div class="line"><span class="lineno"> 2687</span>        WeightedRandomPicker&lt;CampaignFleetAPI&gt; picker = <span class="keyword">new</span> WeightedRandomPicker&lt;CampaignFleetAPI&gt;();</div>
<div class="line"><span class="lineno"> 2688</span>        <span class="keywordflow">for</span> (CampaignFleetAPI curr : winners) {</div>
<div class="line"><span class="lineno"> 2689</span>            picker.add(curr, curr.getFleetPoints());</div>
<div class="line"><span class="lineno"> 2690</span>        }</div>
<div class="line"><span class="lineno"> 2691</span>        <span class="keywordflow">for</span> (CargoStackAPI stack : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#abdf57e23461ce51fedf1e45bf211975e">getStacksCopy</a>()) {</div>
<div class="line"><span class="lineno"> 2692</span>            <span class="keywordflow">if</span> (stack.isNull() || stack.isFuelStack()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2693</span>            </div>
<div class="line"><span class="lineno"> 2694</span>            CampaignFleetAPI pick = picker.pick();</div>
<div class="line"><span class="lineno"> 2695</span>            <span class="keywordflow">if</span> (pick == <span class="keyword">null</span>) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2696</span>            </div>
<div class="line"><span class="lineno"> 2697</span>            CargoAPI winnerCargo = pick.getCargo();</div>
<div class="line"><span class="lineno"> 2698</span>            <span class="keywordtype">float</span> spaceLeft = winnerCargo.getSpaceLeft();</div>
<div class="line"><span class="lineno"> 2699</span>            <span class="keywordflow">if</span> (spaceLeft &lt;= 0) {</div>
<div class="line"><span class="lineno"> 2700</span>                picker.remove(pick);</div>
<div class="line"><span class="lineno"> 2701</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2702</span>            }</div>
<div class="line"><span class="lineno"> 2703</span>            </div>
<div class="line"><span class="lineno"> 2704</span>            <span class="keywordtype">float</span> spacePerUnit = stack.getCargoSpacePerUnit();</div>
<div class="line"><span class="lineno"> 2705</span>            <span class="keywordtype">float</span> maxUnits = (int) (spaceLeft / spacePerUnit);</div>
<div class="line"><span class="lineno"> 2706</span>            <span class="keywordflow">if</span> (maxUnits &gt; stack.getSize()) maxUnits = stack.getSize();</div>
<div class="line"><span class="lineno"> 2707</span>            maxUnits = Math.round(maxUnits * (Math.random() * 0.5f + 0.5f));</div>
<div class="line"><span class="lineno"> 2708</span>            winnerCargo.addItems(stack.getType(), stack.getData(), maxUnits);</div>
<div class="line"><span class="lineno"> 2709</span>        }</div>
<div class="line"><span class="lineno"> 2710</span>        </div>
<div class="line"><span class="lineno"> 2711</span>        picker.clear();</div>
<div class="line"><span class="lineno"> 2712</span>        <span class="keywordflow">for</span> (CampaignFleetAPI curr : winners) {</div>
<div class="line"><span class="lineno"> 2713</span>            picker.add(curr, curr.getFleetPoints());</div>
<div class="line"><span class="lineno"> 2714</span>        }</div>
<div class="line"><span class="lineno"> 2715</span>        <span class="keywordflow">for</span> (CargoStackAPI stack : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#abdf57e23461ce51fedf1e45bf211975e">getStacksCopy</a>()) {</div>
<div class="line"><span class="lineno"> 2716</span>            <span class="keywordflow">if</span> (stack.isNull() || !stack.isFuelStack()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2717</span>            </div>
<div class="line"><span class="lineno"> 2718</span>            CampaignFleetAPI pick = picker.pick();</div>
<div class="line"><span class="lineno"> 2719</span>            <span class="keywordflow">if</span> (pick == <span class="keyword">null</span>) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2720</span>            </div>
<div class="line"><span class="lineno"> 2721</span>            CargoAPI winnerCargo = pick.getCargo();</div>
<div class="line"><span class="lineno"> 2722</span>            <span class="keywordtype">float</span> spaceLeft = winnerCargo.getMaxCapacity() - winnerCargo.getFuel();</div>
<div class="line"><span class="lineno"> 2723</span>            <span class="keywordflow">if</span> (spaceLeft &lt;= 0) {</div>
<div class="line"><span class="lineno"> 2724</span>                picker.remove(pick);</div>
<div class="line"><span class="lineno"> 2725</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2726</span>            }</div>
<div class="line"><span class="lineno"> 2727</span>            </div>
<div class="line"><span class="lineno"> 2728</span>            <span class="keywordtype">float</span> spacePerUnit = stack.getCargoSpacePerUnit();</div>
<div class="line"><span class="lineno"> 2729</span>            <span class="keywordtype">float</span> maxUnits = (int) (spaceLeft / spacePerUnit);</div>
<div class="line"><span class="lineno"> 2730</span>            <span class="keywordflow">if</span> (maxUnits &gt; stack.getSize()) maxUnits = stack.getSize();</div>
<div class="line"><span class="lineno"> 2731</span>            maxUnits = Math.round(maxUnits * (Math.random() * 0.5f + 0.5f));</div>
<div class="line"><span class="lineno"> 2732</span>            winnerCargo.addItems(stack.getType(), stack.getData(), maxUnits);</div>
<div class="line"><span class="lineno"> 2733</span>        }</div>
<div class="line"><span class="lineno"> 2734</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a81b33f41e79f3c37f8959b793ed77c66"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.loot</a></div><div class="ttdeci">CargoAPI loot</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02163">FleetEncounterContext.java:2163</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_abdf57e23461ce51fedf1e45bf211975e"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#abdf57e23461ce51fedf1e45bf211975e">com.fs.starfarer.api.campaign.CargoAPI.getStacksCopy</a></div><div class="ttdeci">List&lt; CargoStackAPI &gt; getStacksCopy()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6392fb04ef8030b549150362859efd55" name="a6392fb04ef8030b549150362859efd55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6392fb04ef8030b549150362859efd55">&#9670;&#160;</a></span>boardShip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BoardingResult com.fs.starfarer.api.impl.campaign.FleetEncounterContext.boardShip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>attacker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>defender</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01175">1175</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1175</span>                                                                                                                 {</div>
<div class="line"><span class="lineno"> 1176</span>        </div>
<div class="line"><span class="lineno"> 1177</span>        </div>
<div class="line"><span class="lineno"> 1178</span>        DataForEncounterSide attackerSide = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(attacker);</div>
<div class="line"><span class="lineno"> 1179</span>        DataForEncounterSide defenderSide = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(defender);</div>
<div class="line"><span class="lineno"> 1180</span>        </div>
<div class="line"><span class="lineno"> 1181</span>        <span class="keywordtype">float</span> attackerMarineMult = attacker.getCommanderStats().getMarineEffectivnessMult().getModifiedValue();</div>
<div class="line"><span class="lineno"> 1182</span>        <span class="keywordtype">float</span> defenderMarineMult = defender.getCommanderStats().getMarineEffectivnessMult().getModifiedValue();</div>
<div class="line"><span class="lineno"> 1183</span>        </div>
<div class="line"><span class="lineno"> 1184</span>        <span class="keywordtype">float</span> crewMult = 2f;</div>
<div class="line"><span class="lineno"> 1185</span>        <span class="keywordtype">float</span> marineMult = 7f;</div>
<div class="line"><span class="lineno"> 1186</span>        </div>
<div class="line"><span class="lineno"> 1187</span>        </div>
<div class="line"><span class="lineno"> 1188</span>        <span class="keywordtype">float</span> attackerStr = attacker.getCargo().getMarines() * marineMult;</div>
<div class="line"><span class="lineno"> 1189</span>        attackerStr *= attackerMarineMult;</div>
<div class="line"><span class="lineno"> 1190</span>        </div>
<div class="line"><span class="lineno"> 1191</span>        CrewCompositionAPI defenderCrew = member.getCrewComposition();</div>
<div class="line"><span class="lineno"> 1192</span>        <span class="keywordtype">float</span> defenderStr = defenderCrew.getCrew() * crewMult + defenderCrew.getMarines() * marineMult;</div>
<div class="line"><span class="lineno"> 1193</span>        defenderStr *= defenderMarineMult;</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>        <span class="comment">//defenderStr *= Global.getSettings().getFloat(&quot;boardingDifficulty&quot;);</span></div>
<div class="line"><span class="lineno"> 1196</span>        </div>
<div class="line"><span class="lineno"> 1197</span>        Random rand = <span class="keyword">new</span> Random(1300000 * (member.getId().hashCode() + defender.getId().hashCode() + Global.getSector().getClock().getDay()));</div>
<div class="line"><span class="lineno"> 1198</span>        attackerStr *= 0.75f + 0.25f * rand.nextFloat();</div>
<div class="line"><span class="lineno"> 1199</span>        defenderStr *= 0.75f + 0.25f * rand.nextFloat();</div>
<div class="line"><span class="lineno"> 1200</span>        </div>
<div class="line"><span class="lineno"> 1201</span>        <span class="keywordtype">boolean</span> attackerWin = attackerStr &gt; defenderStr;</div>
<div class="line"><span class="lineno"> 1202</span>        <span class="keywordtype">boolean</span> defenderWin = !attackerWin;</div>
<div class="line"><span class="lineno"> 1203</span>        </div>
<div class="line"><span class="lineno"> 1204</span>        BoardingResult result = <span class="keyword">new</span> BoardingResult();</div>
<div class="line"><span class="lineno"> 1205</span>        result.setMember(member);</div>
<div class="line"><span class="lineno"> 1206</span>        </div>
<div class="line"><span class="lineno"> 1207</span>        </div>
<div class="line"><span class="lineno"> 1208</span>        BoardingOutcome outcome = BoardingOutcome.SUCCESS;</div>
<div class="line"><span class="lineno"> 1209</span>        <span class="keywordflow">if</span> (defenderWin) {</div>
<div class="line"><span class="lineno"> 1210</span>            outcome = BoardingOutcome.SHIP_ESCAPED;</div>
<div class="line"><span class="lineno"> 1211</span>        }</div>
<div class="line"><span class="lineno"> 1212</span>        </div>
<div class="line"><span class="lineno"> 1213</span>        CrewCompositionAPI boardingParty = Global.getFactory().createCrewComposition();</div>
<div class="line"><span class="lineno"> 1214</span>        boardingParty.addMarines(attacker.getCargo().getMarines());</div>
<div class="line"><span class="lineno"> 1215</span>        </div>
<div class="line"><span class="lineno"> 1216</span>        result.setOutcome(outcome);</div>
<div class="line"><span class="lineno"> 1217</span>        <span class="keywordflow">switch</span> (outcome) {</div>
<div class="line"><span class="lineno"> 1218</span>        <span class="keywordflow">case</span> SHIP_ESCAPED:</div>
<div class="line"><span class="lineno"> 1219</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8be6559e8f57371ab859d0eaedd3e2e8">computeCrewLossFromBoarding</a>(result, member, boardingParty, attackerStr, defenderStr);</div>
<div class="line"><span class="lineno"> 1220</span>            result.getAttackerLosses().removeFromCargo(attacker.getCargo());</div>
<div class="line"><span class="lineno"> 1221</span>            member.getCrewComposition().removeAll(result.getDefenderLosses());</div>
<div class="line"><span class="lineno"> 1222</span>            </div>
<div class="line"><span class="lineno"> 1223</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af6ea1f32307606f32320c8116c39bd7f">letBoardableGo</a>(member, defender, attacker);</div>
<div class="line"><span class="lineno"> 1224</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1225</span>        <span class="keywordflow">case</span> SUCCESS:</div>
<div class="line"><span class="lineno"> 1226</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8be6559e8f57371ab859d0eaedd3e2e8">computeCrewLossFromBoarding</a>(result, member, boardingParty, attackerStr, defenderStr);</div>
<div class="line"><span class="lineno"> 1227</span>            result.getAttackerLosses().removeFromCargo(attacker.getCargo());</div>
<div class="line"><span class="lineno"> 1228</span>            member.getCrewComposition().removeAll(result.getDefenderLosses());</div>
<div class="line"><span class="lineno"> 1229</span>            </div>
<div class="line"><span class="lineno"> 1230</span>            <span class="comment">//attackerSide.removeEnemyCasualty(member);</span></div>
<div class="line"><span class="lineno"> 1231</span>            attacker.getFleetData().addFleetMember(member);</div>
<div class="line"><span class="lineno"> 1232</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a1a91abcbf98c938054b244db0633d426">getCombinedFor</a>(attacker).<a class="code hl_function" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="../../d2/dfb/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aae3057dba1c046f7e1bbe35de5f20119">addFleetMember</a>(member);</div>
<div class="line"><span class="lineno"> 1233</span>            </div>
<div class="line"><span class="lineno"> 1234</span>            member.getRepairTracker().setMothballed(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1235</span>            <span class="comment">//defender.getFleetData().removeFleetMember(member);</span></div>
<div class="line"><span class="lineno"> 1236</span>            </div>
<div class="line"><span class="lineno"> 1237</span>            attackerSide.changeEnemy(member, Status.CAPTURED);</div>
<div class="line"><span class="lineno"> 1238</span>            defenderSide.changeOwn(member, Status.CAPTURED);</div>
<div class="line"><span class="lineno"> 1239</span>            </div>
<div class="line"><span class="lineno"> 1240</span>            attackerSide.getInReserveDuringLastEngagement().add(member);</div>
<div class="line"><span class="lineno"> 1241</span>            defenderSide.getDestroyedInLastEngagement().remove(member);</div>
<div class="line"><span class="lineno"> 1242</span>            defenderSide.getDisabledInLastEngagement().remove(member);</div>
<div class="line"><span class="lineno"> 1243</span>            </div>
<div class="line"><span class="lineno"> 1244</span>            member.setOwner(0);</div>
<div class="line"><span class="lineno"> 1245</span>            member.setCaptain(Global.getFactory().createPerson());</div>
<div class="line"><span class="lineno"> 1246</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1247</span>        }</div>
<div class="line"><span class="lineno"> 1248</span> </div>
<div class="line"><span class="lineno"> 1249</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1250</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a381e607369769826578a1760f9ca0305"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getBattle</a></div><div class="ttdeci">BattleAPI getBattle()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00099">FleetEncounterContext.java:99</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a8be6559e8f57371ab859d0eaedd3e2e8"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8be6559e8f57371ab859d0eaedd3e2e8">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeCrewLossFromBoarding</a></div><div class="ttdeci">void computeCrewLossFromBoarding(BoardingResult result, FleetMemberAPI member, CrewCompositionAPI boardingParty, float attackerStr, float defenderStr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01293">FleetEncounterContext.java:1293</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_af6ea1f32307606f32320c8116c39bd7f"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af6ea1f32307606f32320c8116c39bd7f">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.letBoardableGo</a></div><div class="ttdeci">void letBoardableGo(FleetMemberAPI toBoard, CampaignFleetAPI fleetItBelongsTo, CampaignFleetAPI attackingFleet)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01389">FleetEncounterContext.java:1389</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a1a91abcbf98c938054b244db0633d426"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a1a91abcbf98c938054b244db0633d426">com.fs.starfarer.api.campaign.BattleAPI.getCombinedFor</a></div><div class="ttdeci">CampaignFleetAPI getCombinedFor(CampaignFleetAPI participantOrCombined)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_aa3e90e08c7029f5dae7bc1d4d59e3285"><div class="ttname"><a href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">com.fs.starfarer.api.campaign.CampaignFleetAPI.getFleetData</a></div><div class="ttdeci">FleetDataAPI getFleetData()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html_aae3057dba1c046f7e1bbe35de5f20119"><div class="ttname"><a href="../../d2/dfb/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aae3057dba1c046f7e1bbe35de5f20119">com.fs.starfarer.api.campaign.FleetDataAPI.addFleetMember</a></div><div class="ttdeci">void addFleetMember(FleetMemberAPI member)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aded179a09a0c0709bd866bc3044a94e2" name="aded179a09a0c0709bd866bc3044a94e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded179a09a0c0709bd866bc3044a94e2">&#9670;&#160;</a></span>calculateAndApplyCrewLosses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.calculateAndApplyCrewLosses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a>&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>playerInvolved</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03124">3124</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3124</span>                                                                                                        {</div>
<div class="line"><span class="lineno"> 3125</span>        <span class="keywordtype">boolean</span> wonBattle = result.isWinner(); </div>
<div class="line"><span class="lineno"> 3126</span>        </div>
<div class="line"><span class="lineno"> 3127</span>        DataForEncounterSide data = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(result.getFleet());</div>
<div class="line"><span class="lineno"> 3128</span>        CrewCompositionAPI recoverable = data.getRecoverableCrewLosses();</div>
<div class="line"><span class="lineno"> 3129</span>        <span class="comment">//recoverable.removeAllCrew();</span></div>
<div class="line"><span class="lineno"> 3130</span>        </div>
<div class="line"><span class="lineno"> 3131</span>        List&lt;FleetMemberAPI&gt; all = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;();</div>
<div class="line"><span class="lineno"> 3132</span>        all.addAll(result.getDisabled());</div>
<div class="line"><span class="lineno"> 3133</span>        all.addAll(result.getDeployed());</div>
<div class="line"><span class="lineno"> 3134</span>        all.addAll(result.getDestroyed());</div>
<div class="line"><span class="lineno"> 3135</span>        all.addAll(result.getRetreated());</div>
<div class="line"><span class="lineno"> 3136</span>        all.addAll(result.getReserves());</div>
<div class="line"><span class="lineno"> 3137</span>        </div>
<div class="line"><span class="lineno"> 3138</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : result.getReserves()) {</div>
<div class="line"><span class="lineno"> 3139</span>            member.getStatus().resetDamageTaken();</div>
<div class="line"><span class="lineno"> 3140</span>        }</div>
<div class="line"><span class="lineno"> 3141</span>        </div>
<div class="line"><span class="lineno"> 3142</span>        CrewCompositionAPI playerLosses = data.getCrewLossesDuringLastEngagement();</div>
<div class="line"><span class="lineno"> 3143</span>        playerLosses.removeAllCrew();</div>
<div class="line"><span class="lineno"> 3144</span> </div>
<div class="line"><span class="lineno"> 3145</span>        CrewCompositionAPI crewLosses = Global.getFactory().createCrewComposition();</div>
<div class="line"><span class="lineno"> 3146</span>        crewLosses.removeAllCrew();</div>
<div class="line"><span class="lineno"> 3147</span>        </div>
<div class="line"><span class="lineno"> 3148</span>        CampaignFleetAPI playerFleet = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno"> 3149</span>        <span class="comment">//float maxExtraLoss = 0f;</span></div>
<div class="line"><span class="lineno"> 3150</span>        <span class="keywordtype">float</span> playerCapacityLost = 0f;</div>
<div class="line"><span class="lineno"> 3151</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : all) {</div>
<div class="line"><span class="lineno"> 3152</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3153</span>            <span class="keywordtype">boolean</span> player = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) != <span class="keyword">null</span> &amp;&amp; <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member).<a class="code hl_function" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aca63b88ff3c36215530149f16259d5c1">isPlayerFleet</a>();</div>
<div class="line"><span class="lineno"> 3154</span>            CrewCompositionAPI c = member.getCrewComposition();</div>
<div class="line"><span class="lineno"> 3155</span>            <span class="comment">//float hull = member.getStatus().getHullFraction();</span></div>
<div class="line"><span class="lineno"> 3156</span>            <span class="keywordtype">float</span> hullDamage = member.getStatus().getHullDamageTaken();</div>
<div class="line"><span class="lineno"> 3157</span>            <span class="keywordtype">float</span> hullFraction = member.getStatus().getHullFraction();</div>
<div class="line"><span class="lineno"> 3158</span>            member.getStatus().resetDamageTaken();</div>
<div class="line"><span class="lineno"> 3159</span>            </div>
<div class="line"><span class="lineno"> 3160</span>            <span class="comment">//if (hullDamage &gt; 0 &amp;&amp; !result.getFleet().isPlayerFleet() &amp;&amp; playerInvolved) {</span></div>
<div class="line"><span class="lineno"> 3161</span><span class="comment">//          if (hullDamage &gt; 0 &amp;&amp; playerInvolved &amp;&amp;</span></div>
<div class="line"><span class="lineno"> 3162</span><span class="comment">//                  !battle.getPlayerSide().contains(battle.getSourceFleet(member))) {</span></div>
<div class="line"><span class="lineno"> 3163</span><span class="comment">//              playerDidSeriousDamage = true;</span></div>
<div class="line"><span class="lineno"> 3164</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 3165</span><span class="comment">//          if (lostBattle) {</span></div>
<div class="line"><span class="lineno"> 3166</span><span class="comment">//              System.out.println(&quot;HERE&quot;);</span></div>
<div class="line"><span class="lineno"> 3167</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 3168</span>            </div>
<div class="line"><span class="lineno"> 3169</span>            <span class="keywordtype">float</span> f1 = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279">computeLossFraction</a>(member, result, hullFraction, hullDamage);</div>
<div class="line"><span class="lineno"> 3170</span>            </div>
<div class="line"><span class="lineno"> 3171</span>            <span class="comment">// ship is disabled or destroyed, lose all crew for now, but it may be recovered later</span></div>
<div class="line"><span class="lineno"> 3172</span>            <span class="keywordflow">if</span> (result.getDisabled().contains(member) || result.getDestroyed().contains(member)) {</div>
<div class="line"><span class="lineno"> 3173</span>                <span class="keywordflow">if</span> (playerInvolved &amp;&amp;</div>
<div class="line"><span class="lineno"> 3174</span>                        !<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af89feeda43f98a05fcefc5d8ea340d3e">getPlayerSide</a>().contains(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member))) {</div>
<div class="line"><span class="lineno"> 3175</span>                    <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c6cd59a17ae1851086701391fd5367d">playerDidSeriousDamage</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3176</span>                }</div>
<div class="line"><span class="lineno"> 3177</span>                <span class="keywordflow">if</span> (player) {</div>
<div class="line"><span class="lineno"> 3178</span>                    <span class="keywordflow">if</span> (f1 &lt; 1) {</div>
<div class="line"><span class="lineno"> 3179</span>                        recoverable.addCrew((1f - f1) * c.getCrew());</div>
<div class="line"><span class="lineno"> 3180</span>                    }</div>
<div class="line"><span class="lineno"> 3181</span>                    playerLosses.addCrew(c.getCrew() * 1f);</div>
<div class="line"><span class="lineno"> 3182</span>                    playerCapacityLost += member.getMaxCrew();</div>
<div class="line"><span class="lineno"> 3183</span>                }</div>
<div class="line"><span class="lineno"> 3184</span> </div>
<div class="line"><span class="lineno"> 3185</span>                crewLosses.addCrew(c.getCrew() * 1f);</div>
<div class="line"><span class="lineno"> 3186</span>                c.setCrew(0);</div>
<div class="line"><span class="lineno"> 3187</span>                <span class="comment">//c.addCrew(-c.getCrew() * f1);</span></div>
<div class="line"><span class="lineno"> 3188</span>                <span class="comment">// c should now be left with the appropriate crew composition (base minus losses) to use</span></div>
<div class="line"><span class="lineno"> 3189</span>                <span class="comment">// as a starting point for boarding actions</span></div>
<div class="line"><span class="lineno"> 3190</span>                </div>
<div class="line"><span class="lineno"> 3191</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3192</span>                <span class="comment">// the ship is still ok, only lose the non-recoverable casualties</span></div>
<div class="line"><span class="lineno"> 3193</span>                <span class="comment">// for fighters, which can lose more than their actual max crew </span></div>
<div class="line"><span class="lineno"> 3194</span>                <span class="keywordflow">if</span> (f1 &gt; 1) {</div>
<div class="line"><span class="lineno"> 3195</span>                    crewLosses.addCrew((f1 - 1) * c.getCrew());</div>
<div class="line"><span class="lineno"> 3196</span>                }</div>
<div class="line"><span class="lineno"> 3197</span>                </div>
<div class="line"><span class="lineno"> 3198</span>                <span class="keywordtype">float</span> lost = c.getCrew() * f1;</div>
<div class="line"><span class="lineno"> 3199</span>                <span class="comment">// both fighters and normal ships</span></div>
<div class="line"><span class="lineno"> 3200</span>                c.transfer(lost, crewLosses);</div>
<div class="line"><span class="lineno"> 3201</span>                </div>
<div class="line"><span class="lineno"> 3202</span>                <span class="keywordflow">if</span> (player) {</div>
<div class="line"><span class="lineno"> 3203</span>                    playerLosses.addCrew(lost);</div>
<div class="line"><span class="lineno"> 3204</span>                    playerCapacityLost += member.getMaxCrew() * f1;</div>
<div class="line"><span class="lineno"> 3205</span>                }</div>
<div class="line"><span class="lineno"> 3206</span>            }</div>
<div class="line"><span class="lineno"> 3207</span>            </div>
<div class="line"><span class="lineno"> 3208</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member).<a class="code hl_function" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aca63b88ff3c36215530149f16259d5c1">isPlayerFleet</a>() &amp;&amp; </div>
<div class="line"><span class="lineno"> 3209</span>                    (crewLosses.getCrew() &gt; 0 || crewLosses.getMarines() &gt; 0)) {</div>
<div class="line"><span class="lineno"> 3210</span>                playerFleet = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member);</div>
<div class="line"><span class="lineno"> 3211</span>            }</div>
<div class="line"><span class="lineno"> 3212</span>            </div>
<div class="line"><span class="lineno"> 3213</span>            CargoAPI cargo = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member).<a class="code hl_function" href="../../d6/de1/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>();</div>
<div class="line"><span class="lineno"> 3214</span>            cargo.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a58b502616e01d21d1c1e105baa5df8eb">removeItems</a>(CargoAPI.CargoItemType.RESOURCES, Commodities.CREW, (<span class="keywordtype">int</span>)crewLosses.getCrew());</div>
<div class="line"><span class="lineno"> 3215</span>            cargo.removeMarines((<span class="keywordtype">int</span>) crewLosses.getMarines());</div>
<div class="line"><span class="lineno"> 3216</span>            crewLosses.clear();</div>
<div class="line"><span class="lineno"> 3217</span>        }</div>
<div class="line"><span class="lineno"> 3218</span>        </div>
<div class="line"><span class="lineno"> 3219</span>        <span class="comment">// lose over-capacity crew</span></div>
<div class="line"><span class="lineno"> 3220</span>        <span class="keywordflow">if</span> (playerFleet != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 3221</span>            playerFleet.getFleetData().updateCargoCapacities();</div>
<div class="line"><span class="lineno"> 3222</span>            CargoAPI cargo = playerFleet.getCargo();</div>
<div class="line"><span class="lineno"> 3223</span>            <span class="keywordtype">float</span> maxCrew = cargo.getMaxPersonnel();</div>
<div class="line"><span class="lineno"> 3224</span>            <span class="keywordtype">float</span> totalCrew = cargo.getTotalCrew();</div>
<div class="line"><span class="lineno"> 3225</span>            <span class="keywordtype">float</span> marines = cargo.getMarines();</div>
<div class="line"><span class="lineno"> 3226</span>            <span class="keywordtype">float</span> recoverableTotal = recoverable.getCrew() + recoverable.getMarines();</div>
<div class="line"><span class="lineno"> 3227</span>            </div>
<div class="line"><span class="lineno"> 3228</span>            <span class="comment">//recoverableTotal = 0f; // uncomment to let recoverable crew not be lost due to being over capacity</span></div>
<div class="line"><span class="lineno"> 3229</span>            </div>
<div class="line"><span class="lineno"> 3230</span>            <span class="keywordtype">float</span> total = totalCrew + marines + recoverableTotal;</div>
<div class="line"><span class="lineno"> 3231</span>            <span class="keywordflow">if</span> (maxCrew + playerCapacityLost &gt; 0) {</div>
<div class="line"><span class="lineno"> 3232</span>                total *= playerCapacityLost / (maxCrew + playerCapacityLost);</div>
<div class="line"><span class="lineno"> 3233</span>            }</div>
<div class="line"><span class="lineno"> 3234</span><span class="comment">//          if (!wonBattle) {</span></div>
<div class="line"><span class="lineno"> 3235</span><span class="comment">//              total = totalCrew + marines;</span></div>
<div class="line"><span class="lineno"> 3236</span><span class="comment">//              recoverableTotal = 0f;</span></div>
<div class="line"><span class="lineno"> 3237</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 3238</span>            <span class="comment">//if (total &gt; playerOvercapLosses) total = playerOvercapLosses;</span></div>
<div class="line"><span class="lineno"> 3239</span>            <span class="keywordflow">if</span> (total &gt; maxCrew) {</div>
<div class="line"><span class="lineno"> 3240</span>                <span class="comment">//float toLose = Math.min(maxExtraLoss, total - maxCrew);</span></div>
<div class="line"><span class="lineno"> 3241</span>                <span class="keywordtype">float</span> toLose = total - maxCrew;</div>
<div class="line"><span class="lineno"> 3242</span>                <span class="keywordflow">if</span> (toLose &gt; 0) {</div>
<div class="line"><span class="lineno"> 3243</span>                    <span class="comment">//recoverable.clear();</span></div>
<div class="line"><span class="lineno"> 3244</span>                    recoverable.transfer(Math.min(recoverableTotal, toLose), <span class="keyword">null</span>);</div>
<div class="line"><span class="lineno"> 3245</span>                    toLose -= recoverableTotal;</div>
<div class="line"><span class="lineno"> 3246</span>                    total -= recoverableTotal;</div>
<div class="line"><span class="lineno"> 3247</span>                    </div>
<div class="line"><span class="lineno"> 3248</span>                    <span class="keywordflow">if</span> (toLose &gt; 0 &amp;&amp; total &gt; 0) {</div>
<div class="line"><span class="lineno"> 3249</span>                        <span class="keywordtype">float</span> crew = cargo.getCrew(); <span class="comment">// this is 99% the same as totalCrew, but leaving as is for now</span></div>
<div class="line"><span class="lineno"> 3250</span>    </div>
<div class="line"><span class="lineno"> 3251</span>                        crewLosses.clear();</div>
<div class="line"><span class="lineno"> 3252</span>                        crewLosses.addCrew((<span class="keywordtype">int</span>)Math.ceil(crew / total * toLose));</div>
<div class="line"><span class="lineno"> 3253</span>                        crewLosses.addMarines((<span class="keywordtype">int</span>)Math.ceil(marines / total * toLose));</div>
<div class="line"><span class="lineno"> 3254</span>                        </div>
<div class="line"><span class="lineno"> 3255</span>                        playerLosses.addCrew(crewLosses.getCrew() * 1f);</div>
<div class="line"><span class="lineno"> 3256</span>                        playerLosses.addMarines(crewLosses.getMarines() * 1f);</div>
<div class="line"><span class="lineno"> 3257</span>                        </div>
<div class="line"><span class="lineno"> 3258</span>                        cargo.removeItems(CargoAPI.CargoItemType.RESOURCES, Commodities.CREW, (<span class="keywordtype">int</span>)crewLosses.getCrew());</div>
<div class="line"><span class="lineno"> 3259</span>                        cargo.removeMarines((<span class="keywordtype">int</span>) crewLosses.getMarines());</div>
<div class="line"><span class="lineno"> 3260</span>                        crewLosses.clear();</div>
<div class="line"><span class="lineno"> 3261</span>                    }</div>
<div class="line"><span class="lineno"> 3262</span>                }</div>
<div class="line"><span class="lineno"> 3263</span>            }</div>
<div class="line"><span class="lineno"> 3264</span>        }</div>
<div class="line"><span class="lineno"> 3265</span>        </div>
<div class="line"><span class="lineno"> 3266</span>    }</div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI_html_aca63b88ff3c36215530149f16259d5c1"><div class="ttname"><a href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aca63b88ff3c36215530149f16259d5c1">com.fs.starfarer.api.campaign.CampaignFleetAPI.isPlayerFleet</a></div><div class="ttdeci">boolean isPlayerFleet()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a58b502616e01d21d1c1e105baa5df8eb"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a58b502616e01d21d1c1e105baa5df8eb">com.fs.starfarer.api.campaign.CargoAPI.removeItems</a></div><div class="ttdeci">boolean removeItems(CargoAPI.CargoItemType itemType, Object data, float quantity)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken_html_ab219cada372a13654e8e912aba977b05"><div class="ttname"><a href="../../d6/de1/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">com.fs.starfarer.api.campaign.SectorEntityToken.getCargo</a></div><div class="ttdeci">CargoAPI getCargo()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9246960440885932918f318ccedc93c2" name="a9246960440885932918f318ccedc93c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9246960440885932918f318ccedc93c2">&#9670;&#160;</a></span>canOutrunOtherFleet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.canOutrunOtherFleet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>fleet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02747">2747</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2747</span>                                                                                       {</div>
<div class="line"><span class="lineno"> 2748</span>        <span class="keywordflow">return</span> fleet.getFleetData().getMinBurnLevel() &gt;= other.getFleetData().getMaxBurnLevel() + 1f;</div>
<div class="line"><span class="lineno"> 2749</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a894e47d162794f5428b18b95945cd9ea" name="a894e47d162794f5428b18b95945cd9ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a894e47d162794f5428b18b95945cd9ea">&#9670;&#160;</a></span>clearNoSourceMembers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.clearNoSourceMembers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >There may be members with no source fleet if they were added to combat using scripts. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00181">181</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  181</span>                                                                            {</div>
<div class="line"><span class="lineno">  182</span>        Iterator&lt;FleetMemberAPI&gt; iter = result.getDeployed().iterator();</div>
<div class="line"><span class="lineno">  183</span>        <span class="keywordflow">while</span> (iter.hasNext()) {</div>
<div class="line"><span class="lineno">  184</span>            FleetMemberAPI member = iter.next();</div>
<div class="line"><span class="lineno">  185</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  186</span>                iter.remove();</div>
<div class="line"><span class="lineno">  187</span>            }</div>
<div class="line"><span class="lineno">  188</span>        }</div>
<div class="line"><span class="lineno">  189</span>        iter = result.getReserves().iterator();</div>
<div class="line"><span class="lineno">  190</span>        <span class="keywordflow">while</span> (iter.hasNext()) {</div>
<div class="line"><span class="lineno">  191</span>            FleetMemberAPI member = iter.next();</div>
<div class="line"><span class="lineno">  192</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  193</span>                iter.remove();</div>
<div class="line"><span class="lineno">  194</span>            }</div>
<div class="line"><span class="lineno">  195</span>        }</div>
<div class="line"><span class="lineno">  196</span>        iter = result.getDestroyed().iterator();</div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">while</span> (iter.hasNext()) {</div>
<div class="line"><span class="lineno">  198</span>            FleetMemberAPI member = iter.next();</div>
<div class="line"><span class="lineno">  199</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  200</span>                iter.remove();</div>
<div class="line"><span class="lineno">  201</span>            }</div>
<div class="line"><span class="lineno">  202</span>        }</div>
<div class="line"><span class="lineno">  203</span>        iter = result.getDisabled().iterator();</div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">while</span> (iter.hasNext()) {</div>
<div class="line"><span class="lineno">  205</span>            FleetMemberAPI member = iter.next();</div>
<div class="line"><span class="lineno">  206</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  207</span>                iter.remove();</div>
<div class="line"><span class="lineno">  208</span>            }</div>
<div class="line"><span class="lineno">  209</span>        }</div>
<div class="line"><span class="lineno">  210</span>        iter = result.getRetreated().iterator();</div>
<div class="line"><span class="lineno">  211</span>        <span class="keywordflow">while</span> (iter.hasNext()) {</div>
<div class="line"><span class="lineno">  212</span>            FleetMemberAPI member = iter.next();</div>
<div class="line"><span class="lineno">  213</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  214</span>                iter.remove();</div>
<div class="line"><span class="lineno">  215</span>            }</div>
<div class="line"><span class="lineno">  216</span>        }</div>
<div class="line"><span class="lineno">  217</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6ee8885eb5143a124e99ab54675c0633" name="a6ee8885eb5143a124e99ab54675c0633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee8885eb5143a124e99ab54675c0633">&#9670;&#160;</a></span>computeBattleDifficulty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeBattleDifficulty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03302">3302</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3302</span>                                           {</div>
<div class="line"><span class="lineno"> 3303</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">computedDifficulty</a>) <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>;</div>
<div class="line"><span class="lineno"> 3304</span>        </div>
<div class="line"><span class="lineno"> 3305</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">computedDifficulty</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3306</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> == <span class="keyword">null</span> || !<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>()) {</div>
<div class="line"><span class="lineno"> 3307</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> = 1f;</div>
<div class="line"><span class="lineno"> 3308</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>;</div>
<div class="line"><span class="lineno"> 3309</span>        }</div>
<div class="line"><span class="lineno"> 3310</span>        </div>
<div class="line"><span class="lineno"> 3311</span>        <span class="keywordtype">float</span> scorePlayer = 0f;</div>
<div class="line"><span class="lineno"> 3312</span>        <span class="keywordtype">float</span> scoreEnemy = 0f;</div>
<div class="line"><span class="lineno"> 3313</span>        </div>
<div class="line"><span class="lineno"> 3314</span>        <span class="keywordtype">float</span> officerBase = 30;</div>
<div class="line"><span class="lineno"> 3315</span>        <span class="keywordtype">float</span> officerPerLevel = 15; </div>
<div class="line"><span class="lineno"> 3316</span>        <span class="comment">//float baseMult = 0.2f;</span></div>
<div class="line"><span class="lineno"> 3317</span>        <span class="keywordtype">float</span> baseMult = 2f;</div>
<div class="line"><span class="lineno"> 3318</span>        <span class="keywordtype">float</span> dModMult = 0.9f;</div>
<div class="line"><span class="lineno"> 3319</span>        </div>
<div class="line"><span class="lineno"> 3320</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3779a692b186e2a6a0c8a7f1f7e9c7db">getNonPlayerCombined</a>().<a class="code hl_function" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="../../d2/dfb/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>()) {</div>
<div class="line"><span class="lineno"> 3321</span>            <span class="keywordflow">if</span> (member.isMothballed()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3322</span>            <span class="keywordtype">float</span> mult = baseMult;</div>
<div class="line"><span class="lineno"> 3323</span>            <span class="keywordflow">if</span> (member.isStation()) mult *= 2f;</div>
<div class="line"><span class="lineno"> 3324</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (member.isCivilian()) mult *= 0.25f;</div>
<div class="line"><span class="lineno"> 3325</span>            <span class="keywordflow">if</span> (member.getCaptain() != <span class="keyword">null</span> &amp;&amp; !member.getCaptain().isDefault()) {</div>
<div class="line"><span class="lineno"> 3326</span>                scoreEnemy += officerBase + officerPerLevel * Math.max(1f, member.getCaptain().getStats().getLevel());</div>
<div class="line"><span class="lineno"> 3327</span>            }</div>
<div class="line"><span class="lineno"> 3328</span>            <span class="keywordtype">int</span> dMods = DModManager.getNumDMods(member.getVariant());</div>
<div class="line"><span class="lineno"> 3329</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dMods; i++) {</div>
<div class="line"><span class="lineno"> 3330</span>                mult *= dModMult;</div>
<div class="line"><span class="lineno"> 3331</span>            }</div>
<div class="line"><span class="lineno"> 3332</span>            scoreEnemy += member.getUnmodifiedDeploymentPointsCost() * mult;</div>
<div class="line"><span class="lineno"> 3333</span>        }</div>
<div class="line"><span class="lineno"> 3334</span>        scoreEnemy *= 0.67f;</div>
<div class="line"><span class="lineno"> 3335</span>        </div>
<div class="line"><span class="lineno"> 3336</span>        <span class="keywordtype">float</span> maxPlayserShipScore = 0f;</div>
<div class="line"><span class="lineno"> 3337</span>        </div>
<div class="line"><span class="lineno"> 3338</span>        officerBase *= 0.5f;</div>
<div class="line"><span class="lineno"> 3339</span>        officerPerLevel *= 0.5f;</div>
<div class="line"><span class="lineno"> 3340</span>        Set&lt;PersonAPI&gt; seenOfficers = <span class="keyword">new</span> HashSet&lt;PersonAPI&gt;();</div>
<div class="line"><span class="lineno"> 3341</span>        <span class="keywordtype">int</span> unofficeredShips = 0;</div>
<div class="line"><span class="lineno"> 3342</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a9ee7b99f52ab5de7fecc4fb16434aae8">getPlayerCombined</a>().<a class="code hl_function" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="../../d2/dfb/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">getMembersListCopy</a>()) {</div>
<div class="line"><span class="lineno"> 3343</span>            <span class="keywordflow">if</span> (member.isMothballed()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3344</span>            <span class="keywordtype">float</span> mult = baseMult;</div>
<div class="line"><span class="lineno"> 3345</span>            <span class="keywordflow">if</span> (member.isStation()) mult *= 2f;</div>
<div class="line"><span class="lineno"> 3346</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (member.isCivilian()) mult *= 0.25f;</div>
<div class="line"><span class="lineno"> 3347</span>            <span class="keywordflow">if</span> (member.getCaptain() != <span class="keyword">null</span> &amp;&amp; !member.getCaptain().isDefault()) {</div>
<div class="line"><span class="lineno"> 3348</span>                scorePlayer += officerBase + officerPerLevel * Math.max(1f, member.getCaptain().getStats().getLevel());</div>
<div class="line"><span class="lineno"> 3349</span>                seenOfficers.add(member.getCaptain());</div>
<div class="line"><span class="lineno"> 3350</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!member.isCivilian()) {</div>
<div class="line"><span class="lineno"> 3351</span>                unofficeredShips++;</div>
<div class="line"><span class="lineno"> 3352</span>            }</div>
<div class="line"><span class="lineno"> 3353</span>            <span class="keywordtype">int</span> dMods = DModManager.getNumDMods(member.getVariant());</div>
<div class="line"><span class="lineno"> 3354</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dMods; i++) {</div>
<div class="line"><span class="lineno"> 3355</span>                mult *= dModMult;</div>
<div class="line"><span class="lineno"> 3356</span>            }</div>
<div class="line"><span class="lineno"> 3357</span>            <span class="keywordtype">float</span> currShipBaseScore = member.getUnmodifiedDeploymentPointsCost() * mult;</div>
<div class="line"><span class="lineno"> 3358</span>            scorePlayer += currShipBaseScore;</div>
<div class="line"><span class="lineno"> 3359</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) != <span class="keyword">null</span> &amp;&amp; <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member).<a class="code hl_function" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aca63b88ff3c36215530149f16259d5c1">isPlayerFleet</a>()) {</div>
<div class="line"><span class="lineno"> 3360</span>                maxPlayserShipScore = Math.max(maxPlayserShipScore, currShipBaseScore);</div>
<div class="line"><span class="lineno"> 3361</span>            }</div>
<div class="line"><span class="lineno"> 3362</span>        }</div>
<div class="line"><span class="lineno"> 3363</span>        </div>
<div class="line"><span class="lineno"> 3364</span>        <span class="comment">// so that removing officers from ships prior to a fight doesn&#39;t increase the XP gained</span></div>
<div class="line"><span class="lineno"> 3365</span>        <span class="comment">// otherwise would usually be optimal to do this prior to every fight for any officers </span></div>
<div class="line"><span class="lineno"> 3366</span>        <span class="comment">// on ships that aren&#39;t expected to be deployed</span></div>
<div class="line"><span class="lineno"> 3367</span>        <span class="keywordflow">for</span> (OfficerDataAPI od : Global.getSector().getPlayerFleet().getFleetData().getOfficersCopy()) {</div>
<div class="line"><span class="lineno"> 3368</span>            <span class="keywordflow">if</span> (seenOfficers.contains(od.getPerson())) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3369</span>            <span class="keywordflow">if</span> (od.getPerson().isPlayer()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3370</span>            <span class="keywordflow">if</span> (unofficeredShips &lt;= 0) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3371</span>            unofficeredShips--;</div>
<div class="line"><span class="lineno"> 3372</span>            scorePlayer += officerBase + officerPerLevel * Math.max(1f, od.getPerson().getStats().getLevel());</div>
<div class="line"><span class="lineno"> 3373</span>        }</div>
<div class="line"><span class="lineno"> 3374</span>    </div>
<div class="line"><span class="lineno"> 3375</span>        scorePlayer = Math.max(scorePlayer, Math.min(scoreEnemy * 0.5f, maxPlayserShipScore * 6f));</div>
<div class="line"><span class="lineno"> 3376</span>        </div>
<div class="line"><span class="lineno"> 3377</span>        <span class="keywordflow">if</span> (scorePlayer &lt; 1) scorePlayer = 1;</div>
<div class="line"><span class="lineno"> 3378</span>        <span class="keywordflow">if</span> (scoreEnemy &lt; 1) scoreEnemy = 1;</div>
<div class="line"><span class="lineno"> 3379</span>        </div>
<div class="line"><span class="lineno"> 3380</span>        </div>
<div class="line"><span class="lineno"> 3381</span><span class="comment">//      difficulty = scoreEnemy / (scorePlayer + scoreEnemy);</span></div>
<div class="line"><span class="lineno"> 3382</span><span class="comment">//      if (difficulty &gt; 1) difficulty = 1;</span></div>
<div class="line"><span class="lineno"> 3383</span><span class="comment">//      if (scorePlayer &lt; scoreEnemy) {</span></div>
<div class="line"><span class="lineno"> 3384</span><span class="comment">//          difficulty *= MAX_XP_MULT;</span></div>
<div class="line"><span class="lineno"> 3385</span><span class="comment">//      }</span></div>
<div class="line"><span class="lineno"> 3386</span>        <span class="comment">//difficulty = scoreEnemy / (1f * scorePlayer);</span></div>
<div class="line"><span class="lineno"> 3387</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> = scoreEnemy / scorePlayer;</div>
<div class="line"><span class="lineno"> 3388</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> &lt; 0) <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> = 0;</div>
<div class="line"><span class="lineno"> 3389</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> &gt; <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af76cdb9a2026348dcf4bfb31227c934a">MAX_XP_MULT</a>) <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a> = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af76cdb9a2026348dcf4bfb31227c934a">MAX_XP_MULT</a>;</div>
<div class="line"><span class="lineno"> 3390</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>;</div>
<div class="line"><span class="lineno"> 3391</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a22aac77a36309fdf8129a81d64d253b2"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.difficulty</a></div><div class="ttdeci">float difficulty</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l03300">FleetEncounterContext.java:3300</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ab4226783f38eff3a0ce314585c844f83"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computedDifficulty</a></div><div class="ttdeci">boolean computedDifficulty</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l03301">FleetEncounterContext.java:3301</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_af76cdb9a2026348dcf4bfb31227c934a"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#af76cdb9a2026348dcf4bfb31227c934a">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.MAX_XP_MULT</a></div><div class="ttdeci">static float MAX_XP_MULT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l03298">FleetEncounterContext.java:3298</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a3779a692b186e2a6a0c8a7f1f7e9c7db"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3779a692b186e2a6a0c8a7f1f7e9c7db">com.fs.starfarer.api.campaign.BattleAPI.getNonPlayerCombined</a></div><div class="ttdeci">CampaignFleetAPI getNonPlayerCombined()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a9ee7b99f52ab5de7fecc4fb16434aae8"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a9ee7b99f52ab5de7fecc4fb16434aae8">com.fs.starfarer.api.campaign.BattleAPI.getPlayerCombined</a></div><div class="ttdeci">CampaignFleetAPI getPlayerCombined()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI_html_aea5feaf14b5a26ae6ffca7abf9af0a09"><div class="ttname"><a href="../../d2/dfb/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aea5feaf14b5a26ae6ffca7abf9af0a09">com.fs.starfarer.api.campaign.FleetDataAPI.getMembersListCopy</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; getMembersListCopy()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8be6559e8f57371ab859d0eaedd3e2e8" name="a8be6559e8f57371ab859d0eaedd3e2e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8be6559e8f57371ab859d0eaedd3e2e8">&#9670;&#160;</a></span>computeCrewLossFromBoarding()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeCrewLossFromBoarding </td>
          <td>(</td>
          <td class="paramtype">BoardingResult&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/db8/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a>&#160;</td>
          <td class="paramname"><em>boardingParty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>attackerStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>defenderStr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01293">1293</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1295</span>                                                                  {</div>
<div class="line"><span class="lineno"> 1296</span>        </div>
<div class="line"><span class="lineno"> 1297</span>        <span class="keywordflow">if</span> (attackerStr &lt; 1) attackerStr = 1;</div>
<div class="line"><span class="lineno"> 1298</span>        <span class="keywordflow">if</span> (defenderStr &lt; 1) defenderStr = 1;</div>
<div class="line"><span class="lineno"> 1299</span>        <span class="keywordtype">float</span> cap = 2f;</div>
<div class="line"><span class="lineno"> 1300</span>        <span class="keywordtype">float</span> attackerExtraStr = 0f;</div>
<div class="line"><span class="lineno"> 1301</span>        <span class="keywordflow">if</span> (attackerStr &gt; defenderStr * cap) {</div>
<div class="line"><span class="lineno"> 1302</span>            attackerExtraStr = attackerStr - defenderStr * cap;  </div>
<div class="line"><span class="lineno"> 1303</span>            attackerStr = defenderStr * cap;</div>
<div class="line"><span class="lineno"> 1304</span>        }</div>
<div class="line"><span class="lineno"> 1305</span>        <span class="keywordflow">if</span> (defenderStr &gt; attackerStr * cap) {</div>
<div class="line"><span class="lineno"> 1306</span>            defenderStr = attackerStr * cap;</div>
<div class="line"><span class="lineno"> 1307</span>        }</div>
<div class="line"><span class="lineno"> 1308</span>        </div>
<div class="line"><span class="lineno"> 1309</span>        <span class="keywordtype">float</span> attackerLosses = defenderStr / (attackerStr + defenderStr);</div>
<div class="line"><span class="lineno"> 1310</span>        <span class="keywordtype">float</span> defenderLosses = attackerStr / (attackerStr + defenderStr);</div>
<div class="line"><span class="lineno"> 1311</span>        </div>
<div class="line"><span class="lineno"> 1312</span>        <span class="keywordflow">if</span> (attackerStr &gt; defenderStr) {</div>
<div class="line"><span class="lineno"> 1313</span>            result.getAttackerLosses().addAll(boardingParty);</div>
<div class="line"><span class="lineno"> 1314</span>            result.getAttackerLosses().multiplyBy(attackerLosses * attackerStr / (attackerExtraStr + attackerStr));</div>
<div class="line"><span class="lineno"> 1315</span>            result.getDefenderLosses().addAll(member.getCrewComposition());</div>
<div class="line"><span class="lineno"> 1316</span>            result.getDefenderLosses().multiplyBy(defenderLosses);</div>
<div class="line"><span class="lineno"> 1317</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1318</span>            result.getAttackerLosses().addAll(boardingParty);</div>
<div class="line"><span class="lineno"> 1319</span>            result.getAttackerLosses().multiplyBy(attackerLosses);</div>
<div class="line"><span class="lineno"> 1320</span>            result.getDefenderLosses().addAll(member.getCrewComposition());</div>
<div class="line"><span class="lineno"> 1321</span>            result.getDefenderLosses().multiplyBy(defenderLosses);</div>
<div class="line"><span class="lineno"> 1322</span>        }</div>
<div class="line"><span class="lineno"> 1323</span>        <span class="comment">//member.getCrewComposition().removeAll(result.getDefenderLosses());</span></div>
<div class="line"><span class="lineno"> 1324</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aae04a1b1e1f39e90a9c61b3ad688a447" name="aae04a1b1e1f39e90a9c61b3ad688a447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae04a1b1e1f39e90a9c61b3ad688a447">&#9670;&#160;</a></span>computeFPHullDamage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeFPHullDamage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01962">1962</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1962</span>                                         {</div>
<div class="line"><span class="lineno"> 1963</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a> == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1964</span>        </div>
<div class="line"><span class="lineno"> 1965</span><span class="comment">//      playerFPHullDamageToEnemies = 0f;</span></div>
<div class="line"><span class="lineno"> 1966</span><span class="comment">//      allyFPHullDamageToEnemies = 0f;</span></div>
<div class="line"><span class="lineno"> 1967</span><span class="comment">//      playerFPHullDamageToAllies = 0f;</span></div>
<div class="line"><span class="lineno"> 1968</span>        </div>
<div class="line"><span class="lineno"> 1969</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a>.<a class="code hl_function" href="../../dc/df9/classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html#a6b0f50babb539beff80373ffa653edd0">getDealt</a>().keySet()) {</div>
<div class="line"><span class="lineno"> 1970</span>            <span class="keywordflow">if</span> (member.getOwner() != 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1971</span>            </div>
<div class="line"><span class="lineno"> 1972</span>            </div>
<div class="line"><span class="lineno"> 1973</span>            DealtByFleetMember dealt = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a>.<a class="code hl_function" href="../../dc/df9/classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html#a6b0f50babb539beff80373ffa653edd0">getDealt</a>().get(member);</div>
<div class="line"><span class="lineno"> 1974</span>            <span class="keywordflow">for</span> (FleetMemberAPI target : dealt.getDamage().keySet()) {</div>
<div class="line"><span class="lineno"> 1975</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(target) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1976</span>                </div>
<div class="line"><span class="lineno"> 1977</span>                DamageToFleetMember damage = dealt.getDamageTo(target);</div>
<div class="line"><span class="lineno"> 1978</span>                <span class="keywordtype">float</span> maxHull = target.getStats().getHullBonus().computeEffective(target.getHullSpec().getHitpoints());</div>
<div class="line"><span class="lineno"> 1979</span>                <span class="keywordflow">if</span> (maxHull &lt;= 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1980</span>                <span class="keywordflow">if</span> (target.isFighterWing()) {</div>
<div class="line"><span class="lineno"> 1981</span>                    maxHull *= target.getNumFightersInWing();</div>
<div class="line"><span class="lineno"> 1982</span>                }</div>
<div class="line"><span class="lineno"> 1983</span>                </div>
<div class="line"><span class="lineno"> 1984</span>                <span class="keywordtype">float</span> currDam = Math.min(damage.hullDamage, maxHull) / maxHull * (float) target.getFleetPointCost();</div>
<div class="line"><span class="lineno"> 1985</span>                <span class="keywordflow">if</span> (target.getOwner() == 1) {</div>
<div class="line"><span class="lineno"> 1986</span>                    CampaignFleetAPI fleet = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span> ? <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(member) : <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno"> 1987</span>                    <span class="keywordtype">boolean</span> ally = member.isAlly();</div>
<div class="line"><span class="lineno"> 1988</span>                    <span class="keywordflow">if</span> (ally &amp;&amp; fleet != <span class="keyword">null</span> &amp;&amp; </div>
<div class="line"><span class="lineno"> 1989</span>                            fleet.getFaction() != <span class="keyword">null</span> &amp;&amp; fleet.getFaction().isPlayerFaction()) {</div>
<div class="line"><span class="lineno"> 1990</span>                        ally = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1991</span>                    }</div>
<div class="line"><span class="lineno"> 1992</span>                    <span class="keywordflow">if</span> (ally) {</div>
<div class="line"><span class="lineno"> 1993</span>                        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a> += currDam;</div>
<div class="line"><span class="lineno"> 1994</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1995</span>                        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a> += currDam;</div>
<div class="line"><span class="lineno"> 1996</span>                    }</div>
<div class="line"><span class="lineno"> 1997</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!member.isAlly() &amp;&amp; target.isAlly() &amp;&amp; !target.isFighterWing()) {</div>
<div class="line"><span class="lineno"> 1998</span>                    <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab120d5e23f478d181afc180072afab8a">playerFPHullDamageToAllies</a> += currDam;</div>
<div class="line"><span class="lineno"> 1999</span>                    CampaignFleetAPI fleet = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span> ? <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(target) : <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno"> 2000</span>                    <span class="keywordflow">if</span> (fleet != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 2001</span>                        <span class="keywordtype">float</span> curr = currDam;</div>
<div class="line"><span class="lineno"> 2002</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">playerFPHullDamageToAlliesByFaction</a>.containsKey(fleet.getFaction())) {</div>
<div class="line"><span class="lineno"> 2003</span>                            curr += <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">playerFPHullDamageToAlliesByFaction</a>.get(fleet.getFaction());</div>
<div class="line"><span class="lineno"> 2004</span>                        }</div>
<div class="line"><span class="lineno"> 2005</span>                        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4727fed30fbc87f19c6eebbe4ddd0ca0">playerFPHullDamageToAlliesByFaction</a>.put(fleet.getFaction(), curr);</div>
<div class="line"><span class="lineno"> 2006</span>                    }</div>
<div class="line"><span class="lineno"> 2007</span>                }</div>
<div class="line"><span class="lineno"> 2008</span>            }</div>
<div class="line"><span class="lineno"> 2009</span>        }</div>
<div class="line"><span class="lineno"> 2010</span>        </div>
<div class="line"><span class="lineno"> 2011</span><span class="comment">//      if (playerFPHullDamageToEnemies &lt;= 0) {</span></div>
<div class="line"><span class="lineno"> 2012</span><span class="comment">//          System.out.println(&quot;HERE 12523423&quot;);</span></div>
<div class="line"><span class="lineno"> 2013</span><span class="comment">//      }</span></div>
<div class="line"><span class="lineno"> 2014</span><span class="comment">//      allyFPHullDamageToEnemies += playerFPHullDamageToEnemies;</span></div>
<div class="line"><span class="lineno"> 2015</span><span class="comment">//      playerFPHullDamageToEnemies = 0f;</span></div>
<div class="line"><span class="lineno"> 2016</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a> = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno"> 2017</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData_html_a6b0f50babb539beff80373ffa653edd0"><div class="ttname"><a href="../../dc/df9/classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html#a6b0f50babb539beff80373ffa653edd0">com.fs.starfarer.api.campaign.CombatDamageData.getDealt</a></div><div class="ttdeci">Map&lt; FleetMemberAPI, DealtByFleetMember &gt; getDealt()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd3/CombatDamageData_8java_source.html#l00045">CombatDamageData.java:45</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ab120d5e23f478d181afc180072afab8a"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab120d5e23f478d181afc180072afab8a">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerFPHullDamageToAllies</a></div><div class="ttdeci">float playerFPHullDamageToAllies</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01960">FleetEncounterContext.java:1960</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ab32155e313a9d3109e7919bee27fca81"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.runningDamageTotal</a></div><div class="ttdeci">CombatDamageData runningDamageTotal</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00085">FleetEncounterContext.java:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b41ca54a5848a0849d021c3fa275279" name="a0b41ca54a5848a0849d021c3fa275279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b41ca54a5848a0849d021c3fa275279">&#9670;&#160;</a></span>computeLossFraction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeLossFraction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a>&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>hullFraction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>hullDamage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03045">3045</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3045</span>                                                                                                                                         {</div>
<div class="line"><span class="lineno"> 3046</span>        <span class="keywordflow">if</span> (member == <span class="keyword">null</span> &amp;&amp; hullFraction == 0) {</div>
<div class="line"><span class="lineno"> 3047</span>            <span class="keywordflow">return</span> (0.75f + (<span class="keywordtype">float</span>) Math.random() * 0.25f);</div>
<div class="line"><span class="lineno"> 3048</span>        }</div>
<div class="line"><span class="lineno"> 3049</span>        </div>
<div class="line"><span class="lineno"> 3050</span>        <span class="comment">//System.out.println(&quot;hullDamage: &quot; + hullDamage);</span></div>
<div class="line"><span class="lineno"> 3051</span>        <span class="keywordflow">if</span> (member.isFighterWing() &amp;&amp; result != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 3052</span>            <span class="comment">//System.out.println(&quot;Fighter hullDamage: &quot; + hullDamage);</span></div>
<div class="line"><span class="lineno"> 3053</span>            <span class="keywordtype">float</span> extraLossMult = hullDamage;</div>
<div class="line"><span class="lineno"> 3054</span>            DeployedFleetMemberAPI dfm = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(result.getFleet()).getMemberToDeployedMap().get(member);</div>
<div class="line"><span class="lineno"> 3055</span>            <span class="keywordflow">if</span> (dfm != <span class="keyword">null</span> &amp;&amp; dfm.getMember() == member) {</div>
<div class="line"><span class="lineno"> 3056</span>                <span class="comment">//float finalCR = dfm.getShip().getRemainingWingCR();</span></div>
<div class="line"><span class="lineno"> 3057</span>                <span class="keywordtype">float</span> cr = member.getRepairTracker().getCR();</div>
<div class="line"><span class="lineno"> 3058</span>                <span class="keywordtype">float</span> finalCR = cr;</div>
<div class="line"><span class="lineno"> 3059</span>                <span class="keywordflow">if</span> (cr &gt; finalCR) {</div>
<div class="line"><span class="lineno"> 3060</span>                    <span class="keywordtype">float</span> crPer = dfm.getMember().getStats().getCRPerDeploymentPercent().computeEffective(dfm.getMember().getVariant().getHullSpec().getCRToDeploy()) / 100f;</div>
<div class="line"><span class="lineno"> 3061</span>                    <span class="keywordtype">float</span> extraCraftLost = (cr - finalCR) / crPer;</div>
<div class="line"><span class="lineno"> 3062</span>                    <span class="keywordtype">float</span> wingSize = dfm.getMember().getNumFightersInWing();</div>
<div class="line"><span class="lineno"> 3063</span>                    <span class="keywordflow">if</span> (extraCraftLost &gt;= 1) {</div>
<div class="line"><span class="lineno"> 3064</span>                        extraLossMult = hullDamage + extraCraftLost / wingSize;</div>
<div class="line"><span class="lineno"> 3065</span>                    }</div>
<div class="line"><span class="lineno"> 3066</span>                }</div>
<div class="line"><span class="lineno"> 3067</span>            }</div>
<div class="line"><span class="lineno"> 3068</span>            <span class="keywordflow">return</span> (0.25f + (<span class="keywordtype">float</span>) Math.random() * 0.75f * (float) Math.random()) * member.getStats().getCrewLossMult().getModifiedValue() * extraLossMult;</div>
<div class="line"><span class="lineno"> 3069</span>        }</div>
<div class="line"><span class="lineno"> 3070</span>        </div>
<div class="line"><span class="lineno"> 3071</span>        </div>
<div class="line"><span class="lineno"> 3072</span>        <span class="keywordtype">float</span> extraFromFighters = 0f;</div>
<div class="line"><span class="lineno"> 3073</span>        <span class="keywordflow">if</span> (!member.isFighterWing() &amp;&amp; result != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 3074</span>            DeployedFleetMemberAPI dfm = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(result.getFleet()).getMemberToDeployedMap().get(member);</div>
<div class="line"><span class="lineno"> 3075</span>            <span class="keywordflow">if</span> (dfm != <span class="keyword">null</span> &amp;&amp; dfm.getMember() == member) {</div>
<div class="line"><span class="lineno"> 3076</span>                <span class="keywordtype">float</span> craftCrewLoss = 0;</div>
<div class="line"><span class="lineno"> 3077</span>                <span class="keywordflow">for</span> (FighterLaunchBayAPI bay : dfm.getShip().getLaunchBaysCopy()) {</div>
<div class="line"><span class="lineno"> 3078</span>                    <span class="keywordflow">if</span> (bay.getWing() == <span class="keyword">null</span> || bay.getWing().getLeader() == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3079</span>                    <span class="keywordtype">float</span> baseCrew = bay.getWing().getLeader().getHullSpec().getMinCrew();</div>
<div class="line"><span class="lineno"> 3080</span>                    <span class="keywordtype">float</span> perCraft = bay.getWing().getLeader().getMutableStats().getMinCrewMod().computeEffective(baseCrew);</div>
<div class="line"><span class="lineno"> 3081</span>                    perCraft *= bay.getWing().getLeader().getMutableStats().getDynamic().getValue(Stats.FIGHTER_CREW_LOSS_MULT);</div>
<div class="line"><span class="lineno"> 3082</span>                    craftCrewLoss += perCraft * bay.getNumLost();</div>
<div class="line"><span class="lineno"> 3083</span>                }</div>
<div class="line"><span class="lineno"> 3084</span>                </div>
<div class="line"><span class="lineno"> 3085</span>                <span class="keywordtype">float</span> baseLossFraction = Global.getSettings().getFloat(<span class="stringliteral">&quot;fighterCrewLossBase&quot;</span>);</div>
<div class="line"><span class="lineno"> 3086</span>                craftCrewLoss *= baseLossFraction;</div>
<div class="line"><span class="lineno"> 3087</span>                </div>
<div class="line"><span class="lineno"> 3088</span>                <span class="keywordtype">float</span> memberCrew = member.getMinCrew();</div>
<div class="line"><span class="lineno"> 3089</span>                <span class="keywordflow">if</span> (memberCrew &gt; 0) {</div>
<div class="line"><span class="lineno"> 3090</span>                    <span class="keywordtype">float</span> threshold = memberCrew * 0.33f;</div>
<div class="line"><span class="lineno"> 3091</span>                    </div>
<div class="line"><span class="lineno"> 3092</span>                    <span class="keywordtype">float</span> actualLost = 0f;</div>
<div class="line"><span class="lineno"> 3093</span>                    <span class="keywordtype">float</span> mult = 1f;</div>
<div class="line"><span class="lineno"> 3094</span>                    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 3095</span>                        <span class="keywordtype">float</span> curr = Math.min(craftCrewLoss, threshold);</div>
<div class="line"><span class="lineno"> 3096</span>                        craftCrewLoss -= curr;</div>
<div class="line"><span class="lineno"> 3097</span>                        </div>
<div class="line"><span class="lineno"> 3098</span>                        curr *= mult;</div>
<div class="line"><span class="lineno"> 3099</span>                        actualLost += curr;</div>
<div class="line"><span class="lineno"> 3100</span>                        mult /= 2f;</div>
<div class="line"><span class="lineno"> 3101</span>                        </div>
<div class="line"><span class="lineno"> 3102</span>                    } <span class="keywordflow">while</span> (craftCrewLoss &gt; 0);</div>
<div class="line"><span class="lineno"> 3103</span>                    </div>
<div class="line"><span class="lineno"> 3104</span>                    extraFromFighters = actualLost / memberCrew;</div>
<div class="line"><span class="lineno"> 3105</span>                    extraFromFighters *= member.getStats().getDynamic().getValue(Stats.FIGHTER_CREW_LOSS_MULT);</div>
<div class="line"><span class="lineno"> 3106</span>                }</div>
<div class="line"><span class="lineno"> 3107</span>            }</div>
<div class="line"><span class="lineno"> 3108</span>        }</div>
<div class="line"><span class="lineno"> 3109</span>        </div>
<div class="line"><span class="lineno"> 3110</span>        <span class="keywordflow">if</span> (hullFraction == 0) {</div>
<div class="line"><span class="lineno"> 3111</span>            <span class="keywordflow">return</span> Math.min(1f, (0.75f + (<span class="keywordtype">float</span>) Math.random() * 0.25f) * member.getStats().getCrewLossMult().getModifiedValue() + extraFromFighters); </div>
<div class="line"><span class="lineno"> 3112</span>        }</div>
<div class="line"><span class="lineno"> 3113</span>        <span class="keywordflow">return</span> Math.min(1f, hullDamage * hullDamage * (0.5f + (<span class="keywordtype">float</span>) Math.random() * 0.5f) * member.getStats().getCrewLossMult().getModifiedValue() + extraFromFighters);</div>
<div class="line"><span class="lineno"> 3114</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8435db25101ca050840816ea2da92866" name="a8435db25101ca050840816ea2da92866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8435db25101ca050840816ea2da92866">&#9670;&#160;</a></span>computeMissedLaunchLosses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeMissedLaunchLosses </td>
          <td>(</td>
          <td class="paramtype">BoardingResult&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/db8/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1CrewCompositionAPI.html">CrewCompositionAPI</a>&#160;</td>
          <td class="paramname"><em>boardingParty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01288">1288</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1288</span>                                                                                                      {</div>
<div class="line"><span class="lineno"> 1289</span>        result.getAttackerLosses().addAll(boardingParty);</div>
<div class="line"><span class="lineno"> 1290</span>        result.getAttackerLosses().multiplyBy((<span class="keywordtype">float</span>) Math.random() * 0.2f);</div>
<div class="line"><span class="lineno"> 1291</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a546ec66d0b3b0946f0433194879082e9" name="a546ec66d0b3b0946f0433194879082e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a546ec66d0b3b0946f0433194879082e9">&#9670;&#160;</a></span>computePlayerContribFraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computePlayerContribFraction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a874d49f9efae65eca87505d9623bf2cc">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02020">2020</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2020</span>                                                {</div>
<div class="line"><span class="lineno"> 2021</span>        <span class="keywordtype">float</span> total = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a> + <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a>;</div>
<div class="line"><span class="lineno"> 2022</span>        <span class="keywordflow">if</span> (total &lt;= 0) {</div>
<div class="line"><span class="lineno"> 2023</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> == <span class="keyword">null</span>) <span class="keywordflow">return</span> 1f;</div>
<div class="line"><span class="lineno"> 2024</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>() &amp;&amp; (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a052dfd43d6c6ca484bbe328f69387c36">getPlayerSideSnapshot</a>().size() &lt;= 1 || <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af89feeda43f98a05fcefc5d8ea340d3e">getPlayerSide</a>().size() &lt;= 1)) <span class="keywordflow">return</span> 1f;</div>
<div class="line"><span class="lineno"> 2025</span>            <span class="keywordflow">return</span> 0f;</div>
<div class="line"><span class="lineno"> 2026</span>        }</div>
<div class="line"><span class="lineno"> 2027</span>        </div>
<div class="line"><span class="lineno"> 2028</span>        <span class="keywordtype">boolean</span> hasAllies = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2029</span>        <span class="keywordtype">boolean</span> startedWithAllies = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2030</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 2031</span>            hasAllies = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af89feeda43f98a05fcefc5d8ea340d3e">getPlayerSide</a>().size() &lt;= 1;</div>
<div class="line"><span class="lineno"> 2032</span>            startedWithAllies = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a052dfd43d6c6ca484bbe328f69387c36">getPlayerSideSnapshot</a>().size() &gt; 1;</div>
<div class="line"><span class="lineno"> 2033</span>        }</div>
<div class="line"><span class="lineno"> 2034</span>        <span class="keywordflow">if</span> (startedWithAllies) { <span class="comment">// &amp;&amp; hasAllies) {</span></div>
<div class="line"><span class="lineno"> 2035</span>            <span class="comment">//return Math.min(0.9f, playerFPHullDamageToEnemies / total);</span></div>
<div class="line"><span class="lineno"> 2036</span>            <span class="keywordflow">return</span> Math.min(1f, <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a> / total);</div>
<div class="line"><span class="lineno"> 2037</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2038</span>            <span class="keywordflow">return</span> 1f;</div>
<div class="line"><span class="lineno"> 2039</span>        }</div>
<div class="line"><span class="lineno"> 2040</span>    }</div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a052dfd43d6c6ca484bbe328f69387c36"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a052dfd43d6c6ca484bbe328f69387c36">com.fs.starfarer.api.campaign.BattleAPI.getPlayerSideSnapshot</a></div><div class="ttdeci">List&lt; CampaignFleetAPI &gt; getPlayerSideSnapshot()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aff14e6983105183182def17e63e36282" name="aff14e6983105183182def17e63e36282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff14e6983105183182def17e63e36282">&#9670;&#160;</a></span>computeRecoverableFraction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeRecoverableFraction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a>&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>hullFraction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>hullDamage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03118">3118</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3118</span>                                                                                                                                                {</div>
<div class="line"><span class="lineno"> 3119</span>        <span class="keywordtype">float</span> f = 1f - <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b41ca54a5848a0849d021c3fa275279">computeLossFraction</a>(member, result, hullFraction, hullDamage);</div>
<div class="line"><span class="lineno"> 3120</span>        <span class="keywordflow">if</span> (f &lt; 0) f = 0;</div>
<div class="line"><span class="lineno"> 3121</span>        <span class="keywordflow">return</span> f;</div>
<div class="line"><span class="lineno"> 3122</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a60bc99bbe5230ff9215e4fb9f420ef79" name="a60bc99bbe5230ff9215e4fb9f420ef79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60bc99bbe5230ff9215e4fb9f420ef79">&#9670;&#160;</a></span>didPlayerWinEncounterOutright()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.didPlayerWinEncounterOutright </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Player won, and it's over - no more fighting is <em>possible</em> in this encounter. </p><dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01010">1010</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1010</span>                                                   {</div>
<div class="line"><span class="lineno"> 1011</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(Global.getSector().getPlayerFleet()).disengaged()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1012</span>        </div>
<div class="line"><span class="lineno"> 1013</span>        <span class="comment">// non-fighting &quot;win&quot;, i.e. harrying a weaker enemy</span></div>
<div class="line"><span class="lineno"> 1014</span>        <span class="comment">//if (lastOutcome == null &amp;&amp; getWinner() == Global.getSector().getPlayerFleet()) {</span></div>
<div class="line"><span class="lineno"> 1015</span>        <span class="comment">//if (lastOutcome == null &amp;&amp; battle.isPlayerSide(battle.getSideFor(getWinner()))) { </span></div>
<div class="line"><span class="lineno"> 1016</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == <span class="keyword">null</span> || <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a917f4b9d4203ec3f96661478e23a96b9">hasWinnerAndLoser</a>()) &amp;&amp; <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54c1f6b7440de836d86691a023f884ee">getWinner</a>()))) { </div>
<div class="line"><span class="lineno"> 1017</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1018</span>        }</div>
<div class="line"><span class="lineno"> 1019</span>        </div>
<div class="line"><span class="lineno"> 1020</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.BATTLE_PLAYER_WIN_TOTAL ||</div>
<div class="line"><span class="lineno"> 1021</span>                <span class="comment">//lastOutcome == EngagementOutcome.BATTLE_PLAYER_WIN ||</span></div>
<div class="line"><span class="lineno"> 1022</span>                <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_ENEMY_LOSS_TOTAL ||</div>
<div class="line"><span class="lineno"> 1023</span>                <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_ENEMY_SUCCESS ||</div>
<div class="line"><span class="lineno"> 1024</span>                <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_PLAYER_WIN ||</div>
<div class="line"><span class="lineno"> 1025</span>                <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_PLAYER_WIN_TOTAL;       </div>
<div class="line"><span class="lineno"> 1026</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a54c1f6b7440de836d86691a023f884ee"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54c1f6b7440de836d86691a023f884ee">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getWinner</a></div><div class="ttdeci">CampaignFleetAPI getWinner()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02740">FleetEncounterContext.java:2740</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a79bca736338facf7c468e42312c94197"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.lastOutcome</a></div><div class="ttdeci">EngagementOutcome lastOutcome</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00960">FleetEncounterContext.java:960</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2a6228ccf761948efd358d6a0dd0f9a" name="af2a6228ccf761948efd358d6a0dd0f9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2a6228ccf761948efd358d6a0dd0f9a">&#9670;&#160;</a></span>didPlayerWinLastEngagement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.didPlayerWinLastEngagement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00983">983</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  983</span>                                                {</div>
<div class="line"><span class="lineno">  984</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.BATTLE_PLAYER_WIN ||</div>
<div class="line"><span class="lineno">  985</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.BATTLE_PLAYER_WIN_TOTAL ||</div>
<div class="line"><span class="lineno">  986</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.BATTLE_PLAYER_OUT_FIRST_WIN ||</div>
<div class="line"><span class="lineno">  987</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.PURSUIT_PLAYER_OUT_FIRST_WIN ||</div>
<div class="line"><span class="lineno">  988</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_PLAYER_OUT_FIRST_WIN ||</div>
<div class="line"><span class="lineno">  989</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_ENEMY_LOSS_TOTAL ||</div>
<div class="line"><span class="lineno">  990</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_ENEMY_SUCCESS ||</div>
<div class="line"><span class="lineno">  991</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_PLAYER_WIN ||</div>
<div class="line"><span class="lineno">  992</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.ESCAPE_PLAYER_WIN_TOTAL;</div>
<div class="line"><span class="lineno">  993</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a16d6babca0a60e9da9153bb4c87d5a4b" name="a16d6babca0a60e9da9153bb4c87d5a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16d6babca0a60e9da9153bb4c87d5a4b">&#9670;&#160;</a></span>didPlayerWinMostRecentBattleOfEncounter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.didPlayerWinMostRecentBattleOfEncounter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The difference from <a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a60bc99bbe5230ff9215e4fb9f420ef79">didPlayerWinEncounterOutright()</a> is that the opposing fleet may still choose to re-engage. </p><dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01000">1000</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1000</span>                                                             {</div>
<div class="line"><span class="lineno"> 1001</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(Global.getSector().getPlayerFleet()).disengaged()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1002</span> </div>
<div class="line"><span class="lineno"> 1003</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a60bc99bbe5230ff9215e4fb9f420ef79">didPlayerWinEncounterOutright</a>() || <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> == EngagementOutcome.BATTLE_PLAYER_WIN;</div>
<div class="line"><span class="lineno"> 1004</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a60bc99bbe5230ff9215e4fb9f420ef79"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a60bc99bbe5230ff9215e4fb9f420ef79">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.didPlayerWinEncounterOutright</a></div><div class="ttdeci">boolean didPlayerWinEncounterOutright()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01010">FleetEncounterContext.java:1010</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa54544acd2e820f6413833a0bba313b7" name="aa54544acd2e820f6413833a0bba313b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa54544acd2e820f6413833a0bba313b7">&#9670;&#160;</a></span>engageBoardableShip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EngageBoardableOutcome com.fs.starfarer.api.impl.campaign.FleetEncounterContext.engageBoardableShip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>toBoard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>fleetItBelongsTo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>attackingFleet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01086">1086</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1088</span>                                                                 {</div>
<div class="line"><span class="lineno"> 1089</span>        <span class="keywordtype">float</span> r = (float) Math.random();</div>
<div class="line"><span class="lineno"> 1090</span><span class="comment">//      if (r &lt; ENGAGE_ESCAPE_CHANCE &amp;&amp; !Misc.isPlayerOrCombinedContainingPlayer(attackingFleet)) {</span></div>
<div class="line"><span class="lineno"> 1091</span><span class="comment">//          // escaped</span></div>
<div class="line"><span class="lineno"> 1092</span><span class="comment">//          CampaignFleetAPI fleet = getBattle().getSourceFleet(toBoard);</span></div>
<div class="line"><span class="lineno"> 1093</span><span class="comment">//          letBoardableGo(toBoard, fleet, attackingFleet);</span></div>
<div class="line"><span class="lineno"> 1094</span><span class="comment">//          </span></div>
<div class="line"><span class="lineno"> 1095</span><span class="comment">//          return EngageBoardableOutcome.ESCAPED;</span></div>
<div class="line"><span class="lineno"> 1096</span><span class="comment">//      } else</span></div>
<div class="line"><span class="lineno"> 1097</span>        <span class="keywordflow">if</span> (r &lt; <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73dee6280666365aa3db13f5a41bcdfe">ENGAGE_ESCAPE_CHANCE</a> + <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a230abb96b3b20fb578c144fb6f495532">ENGAGE_DISABLE_CHANCE</a>) {</div>
<div class="line"><span class="lineno"> 1098</span>            <span class="comment">// disabled</span></div>
<div class="line"><span class="lineno"> 1099</span>            DataForEncounterSide attackerSide = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(attackingFleet);</div>
<div class="line"><span class="lineno"> 1100</span>            attackerSide.changeEnemy(toBoard, Status.DISABLED);</div>
<div class="line"><span class="lineno"> 1101</span>            toBoard.getStatus().disable();</div>
<div class="line"><span class="lineno"> 1102</span>            <span class="keywordflow">return</span> EngageBoardableOutcome.DISABLED;</div>
<div class="line"><span class="lineno"> 1103</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1104</span>            DataForEncounterSide attackerSide = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(attackingFleet);</div>
<div class="line"><span class="lineno"> 1105</span>            attackerSide.changeEnemy(toBoard, Status.DESTROYED);</div>
<div class="line"><span class="lineno"> 1106</span>            toBoard.getStatus().disable();</div>
<div class="line"><span class="lineno"> 1107</span>            <span class="keywordflow">return</span> EngageBoardableOutcome.DESTROYED;</div>
<div class="line"><span class="lineno"> 1108</span>        }</div>
<div class="line"><span class="lineno"> 1109</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a230abb96b3b20fb578c144fb6f495532"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a230abb96b3b20fb578c144fb6f495532">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.ENGAGE_DISABLE_CHANCE</a></div><div class="ttdeci">static final float ENGAGE_DISABLE_CHANCE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01165">FleetEncounterContext.java:1165</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a73dee6280666365aa3db13f5a41bcdfe"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73dee6280666365aa3db13f5a41bcdfe">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.ENGAGE_ESCAPE_CHANCE</a></div><div class="ttdeci">static final float ENGAGE_ESCAPE_CHANCE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01164">FleetEncounterContext.java:1164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad26b65ade1dd723b3b64cc72d9a6e75b" name="ad26b65ade1dd723b3b64cc72d9a6e75b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad26b65ade1dd723b3b64cc72d9a6e75b">&#9670;&#160;</a></span>fixFighters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.fixFighters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02761">2761</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2761</span>                                                                {</div>
<div class="line"><span class="lineno"> 2762</span>        Set&lt;CampaignFleetAPI&gt; fleetsWithDecks = <span class="keyword">new</span> HashSet&lt;CampaignFleetAPI&gt;();</div>
<div class="line"><span class="lineno"> 2763</span>        <span class="keywordflow">for</span> (FleetMemberAPI curr : result.getReserves()) {</div>
<div class="line"><span class="lineno"> 2764</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2765</span>            <span class="keywordflow">if</span> (curr.isMothballed()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2766</span>            <span class="keywordflow">if</span> (curr.getNumFlightDecks() &gt; 0) {</div>
<div class="line"><span class="lineno"> 2767</span>                fleetsWithDecks.add(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr));</div>
<div class="line"><span class="lineno"> 2768</span>            }</div>
<div class="line"><span class="lineno"> 2769</span>        }</div>
<div class="line"><span class="lineno"> 2770</span>        <span class="keywordflow">for</span> (FleetMemberAPI curr : result.getDeployed()) {</div>
<div class="line"><span class="lineno"> 2771</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2772</span>            <span class="keywordflow">if</span> (curr.isMothballed()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2773</span>            <span class="keywordflow">if</span> (curr.getNumFlightDecks() &gt; 0) {</div>
<div class="line"><span class="lineno"> 2774</span>                fleetsWithDecks.add(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr));</div>
<div class="line"><span class="lineno"> 2775</span>            }</div>
<div class="line"><span class="lineno"> 2776</span>        }</div>
<div class="line"><span class="lineno"> 2777</span>        <span class="keywordflow">for</span> (FleetMemberAPI curr : result.getRetreated()) {</div>
<div class="line"><span class="lineno"> 2778</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2779</span>            <span class="keywordflow">if</span> (curr.isMothballed()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2780</span>            <span class="keywordflow">if</span> (curr.getNumFlightDecks() &gt; 0) {</div>
<div class="line"><span class="lineno"> 2781</span>                fleetsWithDecks.add(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr));</div>
<div class="line"><span class="lineno"> 2782</span>            }</div>
<div class="line"><span class="lineno"> 2783</span>        }</div>
<div class="line"><span class="lineno"> 2784</span>        </div>
<div class="line"><span class="lineno"> 2785</span>        List&lt;FleetMemberAPI&gt; saved = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;();</div>
<div class="line"><span class="lineno"> 2786</span>        <span class="keywordflow">for</span> (FleetMemberAPI curr : result.getDestroyed()) {</div>
<div class="line"><span class="lineno"> 2787</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2788</span>            <span class="keywordflow">if</span> (!fleetsWithDecks.contains(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr))) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2789</span>            <span class="keywordflow">if</span> (curr.isFighterWing()) {</div>
<div class="line"><span class="lineno"> 2790</span>                saved.add(curr);</div>
<div class="line"><span class="lineno"> 2791</span>            }</div>
<div class="line"><span class="lineno"> 2792</span>        }</div>
<div class="line"><span class="lineno"> 2793</span>        </div>
<div class="line"><span class="lineno"> 2794</span>        result.getDestroyed().removeAll(saved);</div>
<div class="line"><span class="lineno"> 2795</span>        result.getRetreated().addAll(saved);</div>
<div class="line"><span class="lineno"> 2796</span>        </div>
<div class="line"><span class="lineno"> 2797</span>        </div>
<div class="line"><span class="lineno"> 2798</span>        List&lt;FleetMemberAPI&gt; toRepair = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;();</div>
<div class="line"><span class="lineno"> 2799</span>        toRepair.addAll(result.getDeployed());</div>
<div class="line"><span class="lineno"> 2800</span>        toRepair.addAll(result.getRetreated());</div>
<div class="line"><span class="lineno"> 2801</span>        <span class="keywordflow">for</span> (FleetMemberAPI curr : toRepair) {</div>
<div class="line"><span class="lineno"> 2802</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr) == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2803</span>            <span class="keywordflow">if</span> (curr.isFighterWing()) {</div>
<div class="line"><span class="lineno"> 2804</span>                <span class="keywordflow">if</span> (fleetsWithDecks.contains(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(curr))) {</div>
<div class="line"><span class="lineno"> 2805</span>                    curr.getStatus().repairFully();</div>
<div class="line"><span class="lineno"> 2806</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2807</span>                    curr.getStatus().repairFullyNoNewFighters();</div>
<div class="line"><span class="lineno"> 2808</span>                }</div>
<div class="line"><span class="lineno"> 2809</span>            }</div>
<div class="line"><span class="lineno"> 2810</span>        }</div>
<div class="line"><span class="lineno"> 2811</span>        </div>
<div class="line"><span class="lineno"> 2812</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2161b54b093294c2e5695a2e0fb1abc7" name="a2161b54b093294c2e5695a2e0fb1abc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2161b54b093294c2e5695a2e0fb1abc7">&#9670;&#160;</a></span>gainOfficerXP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.gainOfficerXP </td>
          <td>(</td>
          <td class="paramtype">DataForEncounterSide&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>xp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01921">1921</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1921</span>                                                                      {</div>
<div class="line"><span class="lineno"> 1922</span>        <span class="keywordtype">float</span> max = data.getMaxTimeDeployed();</div>
<div class="line"><span class="lineno"> 1923</span>        <span class="keywordflow">if</span> (max &lt; 1) max = 1;</div>
<div class="line"><span class="lineno"> 1924</span>        <span class="keywordtype">float</span> num = data.getOfficerData().size();</div>
<div class="line"><span class="lineno"> 1925</span>        <span class="keywordflow">if</span> (num &lt; 1) num = 1;</div>
<div class="line"><span class="lineno"> 1926</span>        <span class="keywordflow">for</span> (PersonAPI person : data.getOfficerData().keySet()) {</div>
<div class="line"><span class="lineno"> 1927</span>            OfficerEngagementData oed = data.getOfficerData().get(person);</div>
<div class="line"><span class="lineno"> 1928</span>            <span class="keywordflow">if</span> (oed.sourceFleet == <span class="keyword">null</span> || !oed.sourceFleet.isPlayerFleet()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1929</span>            </div>
<div class="line"><span class="lineno"> 1930</span>            OfficerDataAPI od = oed.sourceFleet.getFleetData().getOfficerData(person);</div>
<div class="line"><span class="lineno"> 1931</span>            <span class="keywordflow">if</span> (od == <span class="keyword">null</span>) <span class="keywordflow">continue</span>; <span class="comment">// shouldn&#39;t happen, as this is checked earlier before it goes into the map</span></div>
<div class="line"><span class="lineno"> 1932</span>            </div>
<div class="line"><span class="lineno"> 1933</span>            <span class="keywordtype">float</span> f = oed.timeDeployed / max;</div>
<div class="line"><span class="lineno"> 1934</span>            <span class="keywordflow">if</span> (f &lt; 0) f = 0;</div>
<div class="line"><span class="lineno"> 1935</span>            <span class="keywordflow">if</span> (f &gt; 1) f = 1;</div>
<div class="line"><span class="lineno"> 1936</span>            </div>
<div class="line"><span class="lineno"> 1937</span>            od.addXP((<span class="keywordtype">long</span>)(f * xp / num), <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>);</div>
<div class="line"><span class="lineno"> 1938</span>        }</div>
<div class="line"><span class="lineno"> 1939</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5c4aa47c971be667a4a1c4bded5410e2" name="a5c4aa47c971be667a4a1c4bded5410e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c4aa47c971be667a4a1c4bded5410e2">&#9670;&#160;</a></span>gainXP() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.gainXP </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01908">1908</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1908</span>                         {</div>
<div class="line"><span class="lineno"> 1909</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.size() != 2) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1910</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1911</span> </div>
<div class="line"><span class="lineno"> 1912</span>        DataForEncounterSide sideOne = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.get(0);</div>
<div class="line"><span class="lineno"> 1913</span>        DataForEncounterSide sideTwo = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.get(1);</div>
<div class="line"><span class="lineno"> 1914</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(sideOne.getFleet()))) {</div>
<div class="line"><span class="lineno"> 1915</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c4aa47c971be667a4a1c4bded5410e2">gainXP</a>(sideOne, sideTwo);</div>
<div class="line"><span class="lineno"> 1916</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(sideTwo.getFleet()))) {</div>
<div class="line"><span class="lineno"> 1917</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a5c4aa47c971be667a4a1c4bded5410e2">gainXP</a>(sideTwo, sideOne);</div>
<div class="line"><span class="lineno"> 1918</span>        }</div>
<div class="line"><span class="lineno"> 1919</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b7d89ed9a1c0620bc8989bee9f23a58" name="a5b7d89ed9a1c0620bc8989bee9f23a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b7d89ed9a1c0620bc8989bee9f23a58">&#9670;&#160;</a></span>gainXP() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.gainXP </td>
          <td>(</td>
          <td class="paramtype">DataForEncounterSide&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DataForEncounterSide&#160;</td>
          <td class="paramname"><em>otherSide</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02043">2043</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2043</span>                                                                                     {</div>
<div class="line"><span class="lineno"> 2044</span>        <span class="keywordtype">float</span> bonusXP = 0f;</div>
<div class="line"><span class="lineno"> 2045</span>        <span class="keywordtype">float</span> points = 0f;</div>
<div class="line"><span class="lineno"> 2046</span>        <span class="keywordflow">for</span> (FleetMemberData data : side.getOwnCasualties()) {</div>
<div class="line"><span class="lineno"> 2047</span>            <span class="keywordflow">if</span> (data.getStatus() == Status.DISABLED || </div>
<div class="line"><span class="lineno"> 2048</span>                    data.getStatus() == Status.DESTROYED) {</div>
<div class="line"><span class="lineno"> 2049</span>                <span class="keywordtype">float</span> [] bonus = Misc.getBonusXPForScuttling(data.getMember());</div>
<div class="line"><span class="lineno"> 2050</span>                points += bonus[0];</div>
<div class="line"><span class="lineno"> 2051</span>                bonusXP += bonus[1];</div>
<div class="line"><span class="lineno"> 2052</span>            }</div>
<div class="line"><span class="lineno"> 2053</span>        }</div>
<div class="line"><span class="lineno"> 2054</span>        <span class="keywordflow">if</span> (bonusXP &gt; 0 &amp;&amp; points &gt; 0) {</div>
<div class="line"><span class="lineno"> 2055</span>            Global.getSector().getPlayerStats().setOnlyAddBonusXPDoNotSpendStoryPoints(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2056</span>            Global.getSector().getPlayerStats().setBonusXPGainReason(<span class="stringliteral">&quot;from losing s-modded ships&quot;</span>);</div>
<div class="line"><span class="lineno"> 2057</span>            Global.getSector().getPlayerStats().spendStoryPoints((<span class="keywordtype">int</span>)Math.round(points), <span class="keyword">true</span>, <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>, <span class="keyword">false</span>, bonusXP, <span class="keyword">null</span>);</div>
<div class="line"><span class="lineno"> 2058</span>            Global.getSector().getPlayerStats().setOnlyAddBonusXPDoNotSpendStoryPoints(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2059</span>            Global.getSector().getPlayerStats().setBonusXPGainReason(<span class="keyword">null</span>);</div>
<div class="line"><span class="lineno"> 2060</span>        }</div>
<div class="line"><span class="lineno"> 2061</span>        </div>
<div class="line"><span class="lineno"> 2062</span>        <span class="comment">//CampaignFleetAPI fleet = side.getFleet();</span></div>
<div class="line"><span class="lineno"> 2063</span>        CampaignFleetAPI fleet = Global.getSector().getPlayerFleet();</div>
<div class="line"><span class="lineno"> 2064</span>        <span class="keywordtype">int</span> fpTotal = 0;</div>
<div class="line"><span class="lineno"> 2065</span>        <span class="keywordflow">for</span> (FleetMemberData data : otherSide.getOwnCasualties()) {</div>
<div class="line"><span class="lineno"> 2066</span>            <span class="keywordtype">float</span> fp = data.getMember().getFleetPointCost();</div>
<div class="line"><span class="lineno"> 2067</span>            fp *= 1f + data.getMember().getCaptain().getStats().getLevel() / 5f;</div>
<div class="line"><span class="lineno"> 2068</span>            fpTotal += fp;</div>
<div class="line"><span class="lineno"> 2069</span>        }</div>
<div class="line"><span class="lineno"> 2070</span>        </div>
<div class="line"><span class="lineno"> 2071</span>        <span class="keywordtype">float</span> xp = (float) fpTotal * 250;</div>
<div class="line"><span class="lineno"> 2072</span>        xp *= 2f;</div>
<div class="line"><span class="lineno"> 2073</span>        </div>
<div class="line"><span class="lineno"> 2074</span>        <span class="keywordtype">float</span> difficultyMult = Math.max(1f, <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>);</div>
<div class="line"><span class="lineno"> 2075</span>        xp *= difficultyMult;</div>
<div class="line"><span class="lineno"> 2076</span>        </div>
<div class="line"><span class="lineno"> 2077</span>        xp *= <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>();</div>
<div class="line"><span class="lineno"> 2078</span>        </div>
<div class="line"><span class="lineno"> 2079</span>        xp *= Global.getSettings().getFloat(<span class="stringliteral">&quot;xpGainMult&quot;</span>);</div>
<div class="line"><span class="lineno"> 2080</span>        </div>
<div class="line"><span class="lineno"> 2081</span>        </div>
<div class="line"><span class="lineno"> 2082</span>        <span class="keywordflow">if</span> (xp &gt; 0) {</div>
<div class="line"><span class="lineno"> 2083</span>            <span class="comment">//fleet.getCargo().gainCrewXP(xp);</span></div>
<div class="line"><span class="lineno"> 2084</span>            </div>
<div class="line"><span class="lineno"> 2085</span>            <span class="comment">//if (side.getFleet().isPlayerFleet()) {</span></div>
<div class="line"><span class="lineno"> 2086</span>            <span class="comment">//}</span></div>
<div class="line"><span class="lineno"> 2087</span>            <span class="comment">// only gain XP if it&#39;s the player fleet anyway, no need to check this here</span></div>
<div class="line"><span class="lineno"> 2088</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2161b54b093294c2e5695a2e0fb1abc7">gainOfficerXP</a>(side, xp);</div>
<div class="line"><span class="lineno"> 2089</span>            </div>
<div class="line"><span class="lineno"> 2090</span>            fleet.getCommander().getStats().addXP((<span class="keywordtype">long</span>) xp, <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>);</div>
<div class="line"><span class="lineno"> 2091</span>            fleet.getCommander().getStats().levelUpIfNeeded(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>);</div>
<div class="line"><span class="lineno"> 2092</span>            </div>
<div class="line"><span class="lineno"> 2093</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2fcfb978de8b0185648d5ab94365b12e">xpGained</a> = xp;</div>
<div class="line"><span class="lineno"> 2094</span>        }</div>
<div class="line"><span class="lineno"> 2095</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a2161b54b093294c2e5695a2e0fb1abc7"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2161b54b093294c2e5695a2e0fb1abc7">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.gainOfficerXP</a></div><div class="ttdeci">void gainOfficerXP(DataForEncounterSide data, float xp)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01921">FleetEncounterContext.java:1921</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a124d38d8bb1d4310d2202a3a8dbc3ef5" name="a124d38d8bb1d4310d2202a3a8dbc3ef5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a124d38d8bb1d4310d2202a3a8dbc3ef5">&#9670;&#160;</a></span>generateLoot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.generateLoot </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt;&#160;</td>
          <td class="paramname"><em>recoveredShips</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>withCredits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02165">2165</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2165</span>                                                                                       {</div>
<div class="line"><span class="lineno"> 2166</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">creditsLooted</a> = 0;</div>
<div class="line"><span class="lineno"> 2167</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a61edb30742c45d85507b457bd73206a7">clear</a>();</div>
<div class="line"><span class="lineno"> 2168</span>        <span class="comment">//if (getWinner() == Global.getSector().getPlayerFleet()) {</span></div>
<div class="line"><span class="lineno"> 2169</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54c1f6b7440de836d86691a023f884ee">getWinner</a>()))) {</div>
<div class="line"><span class="lineno"> 2170</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad44183b2b1301b24a9554579ec2a5675">generatePlayerLoot</a>(recoveredShips, withCredits);</div>
<div class="line"><span class="lineno"> 2171</span>        } <span class="keywordflow">else</span> { <span class="comment">//if (getLoser() == Global.getSector().getPlayerFleet()) {</span></div>
<div class="line"><span class="lineno"> 2172</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8f4a87c4cfe1918267f81969e494fc2c">handleCargoLooting</a>(recoveredShips, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2173</span>        }</div>
<div class="line"><span class="lineno"> 2174</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a794c304a1bd710f6fd3ee16e39aecd6b">sort</a>();</div>
<div class="line"><span class="lineno"> 2175</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a88d1cabb6ccee858a72bc53e232c5fb8"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.creditsLooted</a></div><div class="ttdeci">int creditsLooted</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02164">FleetEncounterContext.java:2164</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a8f4a87c4cfe1918267f81969e494fc2c"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8f4a87c4cfe1918267f81969e494fc2c">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.handleCargoLooting</a></div><div class="ttdeci">void handleCargoLooting(List&lt; FleetMemberAPI &gt; recoveredShips, boolean takingFromPlayer)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02349">FleetEncounterContext.java:2349</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ad44183b2b1301b24a9554579ec2a5675"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad44183b2b1301b24a9554579ec2a5675">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.generatePlayerLoot</a></div><div class="ttdeci">void generatePlayerLoot(List&lt; FleetMemberAPI &gt; recoveredShips, boolean withCredits)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02185">FleetEncounterContext.java:2185</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a61edb30742c45d85507b457bd73206a7"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a61edb30742c45d85507b457bd73206a7">com.fs.starfarer.api.campaign.CargoAPI.clear</a></div><div class="ttdeci">void clear()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a794c304a1bd710f6fd3ee16e39aecd6b"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a794c304a1bd710f6fd3ee16e39aecd6b">com.fs.starfarer.api.campaign.CargoAPI.sort</a></div><div class="ttdeci">void sort()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad44183b2b1301b24a9554579ec2a5675" name="ad44183b2b1301b24a9554579ec2a5675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad44183b2b1301b24a9554579ec2a5675">&#9670;&#160;</a></span>generatePlayerLoot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.generatePlayerLoot </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt;&#160;</td>
          <td class="paramname"><em>recoveredShips</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>withCredits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02185">2185</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2185</span>                                                                                                {</div>
<div class="line"><span class="lineno"> 2186</span>        <span class="comment">//computeFPHullDamage();</span></div>
<div class="line"><span class="lineno"> 2187</span>        </div>
<div class="line"><span class="lineno"> 2188</span>        </div>
<div class="line"><span class="lineno"> 2189</span>        DataForEncounterSide winner = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>();</div>
<div class="line"><span class="lineno"> 2190</span>        DataForEncounterSide loser = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>();</div>
<div class="line"><span class="lineno"> 2191</span> </div>
<div class="line"><span class="lineno"> 2192</span>        <span class="keywordflow">if</span> (winner == <span class="keyword">null</span> || loser == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2193</span>    </div>
<div class="line"><span class="lineno"> 2194</span>        <span class="keywordtype">float</span> adjustedFPSalvage = 0;</div>
<div class="line"><span class="lineno"> 2195</span>        <span class="keywordtype">float</span> playerContribMult = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>();</div>
<div class="line"><span class="lineno"> 2196</span>        </div>
<div class="line"><span class="lineno"> 2197</span>        <span class="keywordflow">for</span> (FleetMemberData data : winner.getEnemyCasualties()) {</div>
<div class="line"><span class="lineno"> 2198</span>            <span class="keywordflow">if</span> (data.getStatus() == Status.REPAIRED) {</div>
<div class="line"><span class="lineno"> 2199</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2200</span>            }</div>
<div class="line"><span class="lineno"> 2201</span>            <span class="keywordtype">float</span> mult = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6d487cd720e2081fb64cd6427d231">getSalvageMult</a>(data.getStatus()) * playerContribMult;</div>
<div class="line"><span class="lineno"> 2202</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae54c050fde572233113faa6de5833307">lootWeapons</a>(data.getMember(), data.getMember().getVariant(), <span class="keyword">false</span>, mult, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2203</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a274c24ec32886d4926bafb01906150e9">lootHullMods</a>(data.getMember(), data.getMember().getVariant(), mult);</div>
<div class="line"><span class="lineno"> 2204</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b3bf7dfe563c9dc263819f15e92a4d5">lootWings</a>(data.getMember(), data.getMember().getVariant(), <span class="keyword">false</span>, mult);</div>
<div class="line"><span class="lineno"> 2205</span>            adjustedFPSalvage += (float) data.getMember().getFleetPointCost() * mult;</div>
<div class="line"><span class="lineno"> 2206</span>        }</div>
<div class="line"><span class="lineno"> 2207</span>        <span class="keywordflow">for</span> (FleetMemberData data : winner.getOwnCasualties()) {</div>
<div class="line"><span class="lineno"> 2208</span>            <span class="keywordflow">if</span> (data.getMember().isAlly()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2209</span>            </div>
<div class="line"><span class="lineno"> 2210</span>            <span class="keywordflow">if</span> (data.getStatus() == Status.CAPTURED || data.getStatus() == Status.REPAIRED) {</div>
<div class="line"><span class="lineno"> 2211</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2212</span>            }</div>
<div class="line"><span class="lineno"> 2213</span>            <span class="keywordtype">float</span> mult = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6d487cd720e2081fb64cd6427d231">getSalvageMult</a>(data.getStatus());</div>
<div class="line"><span class="lineno"> 2214</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae54c050fde572233113faa6de5833307">lootWeapons</a>(data.getMember(), data.getMember().getVariant(), <span class="keyword">true</span>, mult, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2215</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b3bf7dfe563c9dc263819f15e92a4d5">lootWings</a>(data.getMember(), data.getMember().getVariant(), <span class="keyword">true</span>, mult);</div>
<div class="line"><span class="lineno"> 2216</span>            </div>
<div class="line"><span class="lineno"> 2217</span>            adjustedFPSalvage += (float) data.getMember().getFleetPointCost() * mult;</div>
<div class="line"><span class="lineno"> 2218</span>        }</div>
<div class="line"><span class="lineno"> 2219</span>        </div>
<div class="line"><span class="lineno"> 2220</span>        <span class="keywordflow">if</span> (recoveredShips != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 2221</span>            <span class="keywordflow">for</span> (FleetMemberAPI member : recoveredShips) {</div>
<div class="line"><span class="lineno"> 2222</span>                <span class="keywordtype">float</span> mult = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6d487cd720e2081fb64cd6427d231">getSalvageMult</a>(Status.CAPTURED);</div>
<div class="line"><span class="lineno"> 2223</span>                adjustedFPSalvage += (float) member.getFleetPointCost() * mult;</div>
<div class="line"><span class="lineno"> 2224</span>            }</div>
<div class="line"><span class="lineno"> 2225</span>        }</div>
<div class="line"><span class="lineno"> 2226</span>        </div>
<div class="line"><span class="lineno"> 2227</span> </div>
<div class="line"><span class="lineno"> 2228</span>        Random random = Misc.random;</div>
<div class="line"><span class="lineno"> 2229</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 2230</span>            random = salvageRandom;</div>
<div class="line"><span class="lineno"> 2231</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2232</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>() != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 2233</span>                MemoryAPI memory = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3779a692b186e2a6a0c8a7f1f7e9c7db">getNonPlayerCombined</a>().<a class="code hl_function" href="../../d6/de1/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#adcd558c1d95f9755066ddaf9a77311c1">getMemoryWithoutUpdate</a>();</div>
<div class="line"><span class="lineno"> 2234</span>                <span class="keywordflow">if</span> (memory.contains(MemFlags.SALVAGE_SEED)) {</div>
<div class="line"><span class="lineno"> 2235</span>                    random = <span class="keyword">new</span> Random(memory.getLong(MemFlags.SALVAGE_SEED));</div>
<div class="line"><span class="lineno"> 2236</span>                }</div>
<div class="line"><span class="lineno"> 2237</span>            }</div>
<div class="line"><span class="lineno"> 2238</span>        }</div>
<div class="line"><span class="lineno"> 2239</span>        </div>
<div class="line"><span class="lineno"> 2240</span>        <span class="keywordtype">float</span> minCreditsFraction = Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageFractionCreditsMin&quot;</span>);</div>
<div class="line"><span class="lineno"> 2241</span>        <span class="keywordtype">float</span> maxCreditsFraction = Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageFractionCreditsMax&quot;</span>);</div>
<div class="line"><span class="lineno"> 2242</span>        </div>
<div class="line"><span class="lineno"> 2243</span>        <span class="keywordtype">float</span> creditsFraction = minCreditsFraction + (maxCreditsFraction - minCreditsFraction) * random.nextFloat();</div>
<div class="line"><span class="lineno"> 2244</span>        creditsFraction *= playerContribMult;</div>
<div class="line"><span class="lineno"> 2245</span>        </div>
<div class="line"><span class="lineno"> 2246</span>        <span class="keywordtype">float</span> maxSalvageValue = adjustedFPSalvage * Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageValuePerFP&quot;</span>);</div>
<div class="line"><span class="lineno"> 2247</span>        <span class="keywordflow">if</span> (Misc.isEasy()) {</div>
<div class="line"><span class="lineno"> 2248</span>             maxSalvageValue *= Global.getSettings().getFloat(<span class="stringliteral">&quot;easySalvageMult&quot;</span>);</div>
<div class="line"><span class="lineno"> 2249</span>        }</div>
<div class="line"><span class="lineno"> 2250</span>        </div>
<div class="line"><span class="lineno"> 2251</span>        CampaignFleetAPI playerFleet = Global.getSector().getPlayerFleet();</div>
<div class="line"><span class="lineno"> 2252</span>        <span class="keywordtype">float</span> valueMultFleet = playerFleet.getStats().getDynamic().getValue(Stats.BATTLE_SALVAGE_MULT_FLEET);</div>
<div class="line"><span class="lineno"> 2253</span>        <span class="keywordtype">float</span> valueModShips = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88438e3d6dfc59eea1b2b8dc7ead2ecb">getSalvageValueModPlayerShips</a>();</div>
<div class="line"><span class="lineno"> 2254</span>        </div>
<div class="line"><span class="lineno"> 2255</span>        </div>
<div class="line"><span class="lineno"> 2256</span>        maxSalvageValue *= valueMultFleet + valueModShips;</div>
<div class="line"><span class="lineno"> 2257</span>        </div>
<div class="line"><span class="lineno"> 2258</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">creditsLooted</a> = Math.round(maxSalvageValue * creditsFraction);</div>
<div class="line"><span class="lineno"> 2259</span>        <span class="keywordflow">if</span> (!withCredits) <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">creditsLooted</a> = 0;</div>
<div class="line"><span class="lineno"> 2260</span>        maxSalvageValue -= <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">creditsLooted</a>;</div>
<div class="line"><span class="lineno"> 2261</span>        </div>
<div class="line"><span class="lineno"> 2262</span>        <span class="keywordtype">float</span> salvageValue = 0f;</div>
<div class="line"><span class="lineno"> 2263</span>        WeightedRandomPicker&lt;String&gt; lootPicker = <span class="keyword">new</span> WeightedRandomPicker&lt;String&gt;(random);</div>
<div class="line"><span class="lineno"> 2264</span>        lootPicker.add(Commodities.METALS, 20);</div>
<div class="line"><span class="lineno"> 2265</span>        lootPicker.add(Commodities.SUPPLIES, 10);</div>
<div class="line"><span class="lineno"> 2266</span>        lootPicker.add(Commodities.FUEL, 10);</div>
<div class="line"><span class="lineno"> 2267</span>        lootPicker.add(Commodities.HEAVY_MACHINERY, 1);</div>
<div class="line"><span class="lineno"> 2268</span>        </div>
<div class="line"><span class="lineno"> 2269</span>        <span class="keywordflow">while</span> (salvageValue &lt; maxSalvageValue) {</div>
<div class="line"><span class="lineno"> 2270</span>            String commodityId = lootPicker.pick();</div>
<div class="line"><span class="lineno"> 2271</span>            <span class="keywordflow">if</span> (commodityId == <span class="keyword">null</span>) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2272</span>            </div>
<div class="line"><span class="lineno"> 2273</span>            CommoditySpecAPI spec = Global.getSector().getEconomy().getCommoditySpec(commodityId);</div>
<div class="line"><span class="lineno"> 2274</span>            <span class="keywordtype">float</span> qty = 1f;</div>
<div class="line"><span class="lineno"> 2275</span>            salvageValue += spec.getBasePrice() * qty;</div>
<div class="line"><span class="lineno"> 2276</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ae1dcc76b32d5391954b0e214fb19dfc8">addCommodity</a>(commodityId, qty);</div>
<div class="line"><span class="lineno"> 2277</span>        }</div>
<div class="line"><span class="lineno"> 2278</span> </div>
<div class="line"><span class="lineno"> 2279</span>        </div>
<div class="line"><span class="lineno"> 2280</span>        <span class="keywordtype">float</span> fuelMult = playerFleet.getStats().getDynamic().getValue(Stats.FUEL_SALVAGE_VALUE_MULT_FLEET);</div>
<div class="line"><span class="lineno"> 2281</span>        <span class="keywordtype">float</span> fuel = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a97474623007a342af2bedf0d00d2ccfb">getFuel</a>();</div>
<div class="line"><span class="lineno"> 2282</span>        <span class="keywordflow">if</span> (fuelMult &gt; 1f) {</div>
<div class="line"><span class="lineno"> 2283</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ac6d6cd791a77dc5869e55d67584f3004">addFuel</a>((<span class="keywordtype">int</span>) Math.round(fuel * (fuelMult - 1f)));</div>
<div class="line"><span class="lineno"> 2284</span>        }</div>
<div class="line"><span class="lineno"> 2285</span>        </div>
<div class="line"><span class="lineno"> 2286</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().getSnapshotSideFor(loser.getFleet()) == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2287</span>        </div>
<div class="line"><span class="lineno"> 2288</span>        List&lt;DropData&gt; dropRandom = <span class="keyword">new</span> ArrayList&lt;DropData&gt;();</div>
<div class="line"><span class="lineno"> 2289</span>        List&lt;DropData&gt; dropValue = <span class="keyword">new</span> ArrayList&lt;DropData&gt;();</div>
<div class="line"><span class="lineno"> 2290</span>        <span class="comment">//for (CampaignFleetAPI other : getBattle().getSideFor(loser.getFleet())) {</span></div>
<div class="line"><span class="lineno"> 2291</span>        <span class="keywordflow">for</span> (CampaignFleetAPI other : <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().getSnapshotSideFor(loser.getFleet())) {</div>
<div class="line"><span class="lineno"> 2292</span>            dropRandom.addAll(other.getDropRandom());</div>
<div class="line"><span class="lineno"> 2293</span>            dropValue.addAll(other.getDropValue());</div>
<div class="line"><span class="lineno"> 2294</span>            other.getDropRandom().clear();</div>
<div class="line"><span class="lineno"> 2295</span>            other.getDropValue().clear();</div>
<div class="line"><span class="lineno"> 2296</span>            </div>
<div class="line"><span class="lineno"> 2297</span>            CargoAPI extra = BaseSalvageSpecial.getCombinedExtraSalvage(other);</div>
<div class="line"><span class="lineno"> 2298</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a91e8ad74bfaa4756a700fcaf9d4bbfcc">addAll</a>(extra);</div>
<div class="line"><span class="lineno"> 2299</span>            </div>
<div class="line"><span class="lineno"> 2300</span>            BaseSalvageSpecial.clearExtraSalvage(other);</div>
<div class="line"><span class="lineno"> 2301</span>            <span class="keywordflow">if</span> (!extra.isEmpty()) {</div>
<div class="line"><span class="lineno"> 2302</span>                ListenerUtil.reportExtraSalvageShown(other);</div>
<div class="line"><span class="lineno"> 2303</span>            }</div>
<div class="line"><span class="lineno"> 2304</span>        }</div>
<div class="line"><span class="lineno"> 2305</span>        </div>
<div class="line"><span class="lineno"> 2306</span>        CargoAPI extra = SalvageEntity.generateSalvage(random, valueMultFleet + valueModShips, 1f, fuelMult, dropValue, dropRandom);</div>
<div class="line"><span class="lineno"> 2307</span>        <span class="keywordflow">for</span> (CargoStackAPI stack : extra.getStacksCopy()) {</div>
<div class="line"><span class="lineno"> 2308</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a3b35d9aa67fb2d5e67d21ccf196596b1">addFromStack</a>(stack);</div>
<div class="line"><span class="lineno"> 2309</span>        }</div>
<div class="line"><span class="lineno"> 2310</span>        </div>
<div class="line"><span class="lineno"> 2311</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8f4a87c4cfe1918267f81969e494fc2c">handleCargoLooting</a>(recoveredShips, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2312</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a0b3bf7dfe563c9dc263819f15e92a4d5"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b3bf7dfe563c9dc263819f15e92a4d5">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.lootWings</a></div><div class="ttdeci">void lootWings(FleetMemberAPI member, ShipVariantAPI variant, boolean own, float mult)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02538">FleetEncounterContext.java:2538</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a16d6d487cd720e2081fb64cd6427d231"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a16d6d487cd720e2081fb64cd6427d231">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getSalvageMult</a></div><div class="ttdeci">float getSalvageMult(Status status)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01033">FleetEncounterContext.java:1033</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a274c24ec32886d4926bafb01906150e9"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a274c24ec32886d4926bafb01906150e9">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.lootHullMods</a></div><div class="ttdeci">void lootHullMods(FleetMemberAPI member, ShipVariantAPI variant, float mult)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02506">FleetEncounterContext.java:2506</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a88438e3d6dfc59eea1b2b8dc7ead2ecb"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88438e3d6dfc59eea1b2b8dc7ead2ecb">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getSalvageValueModPlayerShips</a></div><div class="ttdeci">float getSalvageValueModPlayerShips()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02314">FleetEncounterContext.java:2314</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ae54c050fde572233113faa6de5833307"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae54c050fde572233113faa6de5833307">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.lootWeapons</a></div><div class="ttdeci">void lootWeapons(FleetMemberAPI member, ShipVariantAPI variant, boolean own, float mult, boolean lootingModule)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02575">FleetEncounterContext.java:2575</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a3b35d9aa67fb2d5e67d21ccf196596b1"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a3b35d9aa67fb2d5e67d21ccf196596b1">com.fs.starfarer.api.campaign.CargoAPI.addFromStack</a></div><div class="ttdeci">void addFromStack(CargoStackAPI stack)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a91e8ad74bfaa4756a700fcaf9d4bbfcc"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a91e8ad74bfaa4756a700fcaf9d4bbfcc">com.fs.starfarer.api.campaign.CargoAPI.addAll</a></div><div class="ttdeci">void addAll(CargoAPI other)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a97474623007a342af2bedf0d00d2ccfb"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a97474623007a342af2bedf0d00d2ccfb">com.fs.starfarer.api.campaign.CargoAPI.getFuel</a></div><div class="ttdeci">float getFuel()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_ac6d6cd791a77dc5869e55d67584f3004"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ac6d6cd791a77dc5869e55d67584f3004">com.fs.starfarer.api.campaign.CargoAPI.addFuel</a></div><div class="ttdeci">void addFuel(float quantity)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_ae1dcc76b32d5391954b0e214fb19dfc8"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ae1dcc76b32d5391954b0e214fb19dfc8">com.fs.starfarer.api.campaign.CargoAPI.addCommodity</a></div><div class="ttdeci">void addCommodity(String commodityId, float quantity)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken_html_adcd558c1d95f9755066ddaf9a77311c1"><div class="ttname"><a href="../../d6/de1/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#adcd558c1d95f9755066ddaf9a77311c1">com.fs.starfarer.api.campaign.SectorEntityToken.getMemoryWithoutUpdate</a></div><div class="ttdeci">MemoryAPI getMemoryWithoutUpdate()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a49896c340e7e7ca2925f8a355c66080c" name="a49896c340e7e7ca2925f8a355c66080c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49896c340e7e7ca2925f8a355c66080c">&#9670;&#160;</a></span>getAllyFPHullDamageToEnemies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getAllyFPHullDamageToEnemies </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01950">1950</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1950</span>                                                {</div>
<div class="line"><span class="lineno"> 1951</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a>;</div>
<div class="line"><span class="lineno"> 1952</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a381e607369769826578a1760f9ca0305" name="a381e607369769826578a1760f9ca0305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a381e607369769826578a1760f9ca0305">&#9670;&#160;</a></span>getBattle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a> com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getBattle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a603e3b397f34106e1fd9c1f08d0b7ead">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00099">99</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   99</span>                                 {</div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>;</div>
<div class="line"><span class="lineno">  101</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a716db89fe71ef13da8f83e564822520d" name="a716db89fe71ef13da8f83e564822520d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a716db89fe71ef13da8f83e564822520d">&#9670;&#160;</a></span>getBoardingSuccessPercent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getBoardingSuccessPercent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>attacker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>defender</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01252">1252</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1252</span>                                                                                                                        {</div>
<div class="line"><span class="lineno"> 1253</span>        DataForEncounterSide attackerSide = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(attacker);</div>
<div class="line"><span class="lineno"> 1254</span>        DataForEncounterSide defenderSide = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(defender);</div>
<div class="line"><span class="lineno"> 1255</span>        <span class="keywordtype">float</span> attackerMarineMult = attacker.getCommanderStats().getMarineEffectivnessMult().getModifiedValue();</div>
<div class="line"><span class="lineno"> 1256</span>        <span class="keywordtype">float</span> defenderMarineMult = defender.getCommanderStats().getMarineEffectivnessMult().getModifiedValue();</div>
<div class="line"><span class="lineno"> 1257</span>        </div>
<div class="line"><span class="lineno"> 1258</span>        <span class="keywordtype">float</span> crewMult = 2f;</div>
<div class="line"><span class="lineno"> 1259</span>        <span class="keywordtype">float</span> marineMult = 7f;</div>
<div class="line"><span class="lineno"> 1260</span>        </div>
<div class="line"><span class="lineno"> 1261</span>        Random rand = <span class="keyword">new</span> Random();</div>
<div class="line"><span class="lineno"> 1262</span>        </div>
<div class="line"><span class="lineno"> 1263</span>        <span class="keywordtype">float</span> wins = 0;</div>
<div class="line"><span class="lineno"> 1264</span>        <span class="keywordtype">float</span> losses = 0;</div>
<div class="line"><span class="lineno"> 1265</span>        </div>
<div class="line"><span class="lineno"> 1266</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 100; i++) {</div>
<div class="line"><span class="lineno"> 1267</span>            <span class="keywordtype">float</span> attackerStr = attacker.getCargo().getMarines() * marineMult;</div>
<div class="line"><span class="lineno"> 1268</span>            attackerStr *= attackerMarineMult;</div>
<div class="line"><span class="lineno"> 1269</span>            </div>
<div class="line"><span class="lineno"> 1270</span>            CrewCompositionAPI defenderCrew = member.getCrewComposition();</div>
<div class="line"><span class="lineno"> 1271</span>            <span class="keywordtype">float</span> defenderStr = defenderCrew.getCrew() * crewMult + defenderCrew.getMarines() * marineMult;</div>
<div class="line"><span class="lineno"> 1272</span>            defenderStr *= defenderMarineMult;</div>
<div class="line"><span class="lineno"> 1273</span>    </div>
<div class="line"><span class="lineno"> 1274</span>            <span class="comment">//defenderStr *= Global.getSettings().getFloat(&quot;boardingDifficulty&quot;);</span></div>
<div class="line"><span class="lineno"> 1275</span>            </div>
<div class="line"><span class="lineno"> 1276</span>            attackerStr *= 0.75f + 0.25f * rand.nextFloat();</div>
<div class="line"><span class="lineno"> 1277</span>            defenderStr *= 0.75f + 0.25f * rand.nextFloat();</div>
<div class="line"><span class="lineno"> 1278</span>        </div>
<div class="line"><span class="lineno"> 1279</span>            <span class="keywordtype">boolean</span> attackerWin = attackerStr &gt; defenderStr;</div>
<div class="line"><span class="lineno"> 1280</span>            <span class="keywordflow">if</span> (attackerWin) wins++;</div>
<div class="line"><span class="lineno"> 1281</span>            <span class="keywordflow">else</span> losses++;</div>
<div class="line"><span class="lineno"> 1282</span>        }</div>
<div class="line"><span class="lineno"> 1283</span>        </div>
<div class="line"><span class="lineno"> 1284</span>        <span class="keywordflow">return</span> wins;</div>
<div class="line"><span class="lineno"> 1285</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2afc066cdd9155e4197c0036918d2852" name="a2afc066cdd9155e4197c0036918d2852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2afc066cdd9155e4197c0036918d2852">&#9670;&#160;</a></span>getCargoLootMult()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getCargoLootMult </td>
          <td>(</td>
          <td class="paramtype">Status&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01053">1053</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1053</span>                                                 {</div>
<div class="line"><span class="lineno"> 1054</span>        <span class="keywordtype">float</span> mult = 1f;</div>
<div class="line"><span class="lineno"> 1055</span>        <span class="keywordflow">switch</span> (status) {</div>
<div class="line"><span class="lineno"> 1056</span>        <span class="keywordflow">case</span> DESTROYED:</div>
<div class="line"><span class="lineno"> 1057</span>            mult = 1f;</div>
<div class="line"><span class="lineno"> 1058</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1059</span>        <span class="keywordflow">case</span> DISABLED:</div>
<div class="line"><span class="lineno"> 1060</span>            mult = 1f;</div>
<div class="line"><span class="lineno"> 1061</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1062</span>        <span class="keywordflow">case</span> REPAIRED:</div>
<div class="line"><span class="lineno"> 1063</span>            mult = 1f;</div>
<div class="line"><span class="lineno"> 1064</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1065</span>        <span class="keywordflow">case</span> CAPTURED:</div>
<div class="line"><span class="lineno"> 1066</span>            mult = 1f;</div>
<div class="line"><span class="lineno"> 1067</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1068</span>        }</div>
<div class="line"><span class="lineno"> 1069</span>        <span class="keywordflow">return</span> mult;</div>
<div class="line"><span class="lineno"> 1070</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad10ab02ee6fe61dcf544f2a9e6ae9e52" name="ad10ab02ee6fe61dcf544f2a9e6ae9e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad10ab02ee6fe61dcf544f2a9e6ae9e52">&#9670;&#160;</a></span>getCreditsLooted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getCreditsLooted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01029">1029</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1029</span>                                  {</div>
<div class="line"><span class="lineno"> 1030</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a88d1cabb6ccee858a72bc53e232c5fb8">creditsLooted</a>;</div>
<div class="line"><span class="lineno"> 1031</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a789f8a2356e270a6c24749a637e2097e" name="a789f8a2356e270a6c24749a637e2097e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a789f8a2356e270a6c24749a637e2097e">&#9670;&#160;</a></span>getDataFor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataForEncounterSide com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getDataFor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>participantOrCombined</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a5f20aa593298458b6b44be3f3b6811af">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00107">107</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  107</span>                                                                                   {</div>
<div class="line"><span class="lineno">  108</span>        CampaignFleetAPI combined = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a1a91abcbf98c938054b244db0633d426">getCombinedFor</a>(participantOrCombined);</div>
<div class="line"><span class="lineno">  109</span>        <span class="keywordflow">if</span> (combined == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  110</span>            <span class="keywordflow">return</span> <span class="keyword">new</span> DataForEncounterSide(participantOrCombined);</div>
<div class="line"><span class="lineno">  111</span>        }</div>
<div class="line"><span class="lineno">  112</span>        </div>
<div class="line"><span class="lineno">  113</span>        <span class="keywordflow">for</span> (DataForEncounterSide curr : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>) {</div>
<div class="line"><span class="lineno">  114</span>            <span class="keywordflow">if</span> (curr.getFleet() == combined) <span class="keywordflow">return</span> curr;</div>
<div class="line"><span class="lineno">  115</span>        }</div>
<div class="line"><span class="lineno">  116</span>        DataForEncounterSide dfes = <span class="keyword">new</span> DataForEncounterSide(combined);</div>
<div class="line"><span class="lineno">  117</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>.add(dfes);</div>
<div class="line"><span class="lineno">  118</span>        </div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordflow">return</span> dfes;</div>
<div class="line"><span class="lineno">  120</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2bd1e7c4546d77cd2433ed0f996a41b" name="ad2bd1e7c4546d77cd2433ed0f996a41b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2bd1e7c4546d77cd2433ed0f996a41b">&#9670;&#160;</a></span>getDeployCost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getDeployCost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00525">525</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  525</span>                                                      {</div>
<div class="line"><span class="lineno">  526</span>        <span class="keywordflow">return</span> member.getDeployCost();</div>
<div class="line"><span class="lineno">  527</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac637fb9d93a578b2f1e5b38884abf2b1" name="ac637fb9d93a578b2f1e5b38884abf2b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac637fb9d93a578b2f1e5b38884abf2b1">&#9670;&#160;</a></span>getDifficulty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getDifficulty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03282">3282</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3282</span>                                 {</div>
<div class="line"><span class="lineno"> 3283</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>;</div>
<div class="line"><span class="lineno"> 3284</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="acf85c7f6b044b4b6a8d46b29309b783d" name="acf85c7f6b044b4b6a8d46b29309b783d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf85c7f6b044b4b6a8d46b29309b783d">&#9670;&#160;</a></span>getDisengageHarryAvailability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DisengageHarryAvailability com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getDisengageHarryAvailability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>fleet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>otherFleet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a9585c71c9e1b4f70e543ed97b10de611">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00517">517</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  517</span>                                                                                                                         {</div>
<div class="line"><span class="lineno">  518</span>        DataForEncounterSide otherData = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(otherFleet);</div>
<div class="line"><span class="lineno">  519</span>        <span class="keywordflow">if</span> (otherData.isWonLastEngagement()) <span class="keywordflow">return</span> DisengageHarryAvailability.LOST_LAST_ENGAGEMENT;</div>
<div class="line"><span class="lineno">  520</span>        <span class="keywordflow">if</span> (fleet.getFleetData().getCombatReadyMembersListCopy().isEmpty()) <span class="keywordflow">return</span> DisengageHarryAvailability.NO_READY_SHIPS;</div>
<div class="line"><span class="lineno">  521</span>        <span class="comment">//if (otherData.isDidEnoughToDisengage()) return DisengageHarryAvailability.LOST_LAST_ENGAGEMENT</span></div>
<div class="line"><span class="lineno">  522</span>        <span class="keywordflow">return</span> DisengageHarryAvailability.AVAILABLE;</div>
<div class="line"><span class="lineno">  523</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="acdb348aca27209d591db60bec597e72a" name="acdb348aca27209d591db60bec597e72a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdb348aca27209d591db60bec597e72a">&#9670;&#160;</a></span>getLastEngagementOutcome()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EngagementOutcome com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getLastEngagementOutcome </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a9437fe64639c401aea2ad41453b3a2a2">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00961">961</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  961</span>                                                        {</div>
<div class="line"><span class="lineno">  962</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a>;</div>
<div class="line"><span class="lineno">  963</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a042e693cf1b8e7484da958c994716f1f" name="a042e693cf1b8e7484da958c994716f1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a042e693cf1b8e7484da958c994716f1f">&#9670;&#160;</a></span>getLoot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getLoot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02502">2502</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2502</span>                              {</div>
<div class="line"><span class="lineno"> 2503</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>;</div>
<div class="line"><span class="lineno"> 2504</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac27a8d55eb981edf43aff8769bfd4907" name="ac27a8d55eb981edf43aff8769bfd4907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac27a8d55eb981edf43aff8769bfd4907">&#9670;&#160;</a></span>getLoser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getLoser </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a2073bd42cb7bba55d0b69f3142ec554e">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02743">2743</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2743</span>                                       {</div>
<div class="line"><span class="lineno"> 2744</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>() != <span class="keyword">null</span> ? <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>().getFleet() : <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno"> 2745</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a263ae72ae33afdfab40048c4b75c10b5" name="a263ae72ae33afdfab40048c4b75c10b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a263ae72ae33afdfab40048c4b75c10b5">&#9670;&#160;</a></span>getLoserData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataForEncounterSide com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getLoserData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a88cd94821c9556e015707a8acbd7462a">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00131">131</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  131</span>                                               {</div>
<div class="line"><span class="lineno">  132</span>        <span class="keywordflow">for</span> (DataForEncounterSide curr : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>) {</div>
<div class="line"><span class="lineno">  133</span>            <span class="keywordflow">if</span> (curr.disengaged()) {</div>
<div class="line"><span class="lineno">  134</span>                <span class="keywordflow">return</span> curr;</div>
<div class="line"><span class="lineno">  135</span>            }</div>
<div class="line"><span class="lineno">  136</span>        }</div>
<div class="line"><span class="lineno">  137</span>        <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  138</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad25003f8f4281087a614f7ad1bacbca5" name="ad25003f8f4281087a614f7ad1bacbca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25003f8f4281087a614f7ad1bacbca5">&#9670;&#160;</a></span>getPlayerFPHullDamageToEnemies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getPlayerFPHullDamageToEnemies </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01942">1942</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1942</span>                                                  {</div>
<div class="line"><span class="lineno"> 1943</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a>;</div>
<div class="line"><span class="lineno"> 1944</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8947c054f842d88b2ae053650ff1d3ce" name="a8947c054f842d88b2ae053650ff1d3ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8947c054f842d88b2ae053650ff1d3ce">&#9670;&#160;</a></span>getPursuitAvailability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PursueAvailability com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getPursuitAvailability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>fleet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>otherFleet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#acccf623538f6889ac2b465e64ecba6f1">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00507">507</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  507</span>                                                                                                          {</div>
<div class="line"><span class="lineno">  508</span>        DataForEncounterSide otherData = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(otherFleet);</div>
<div class="line"><span class="lineno">  509</span>        </div>
<div class="line"><span class="lineno">  510</span>        <span class="keywordflow">if</span> (otherData.isWonLastEngagement()) <span class="keywordflow">return</span> PursueAvailability.LOST_LAST_ENGAGEMENT;</div>
<div class="line"><span class="lineno">  511</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9246960440885932918f318ccedc93c2">canOutrunOtherFleet</a>(otherFleet, fleet)) <span class="keywordflow">return</span> PursueAvailability.TOO_SLOW;</div>
<div class="line"><span class="lineno">  512</span>        <span class="keywordflow">if</span> (fleet.getFleetData().getCombatReadyMembersListCopy().isEmpty()) <span class="keywordflow">return</span> PursueAvailability.NO_READY_SHIPS;</div>
<div class="line"><span class="lineno">  513</span>        <span class="keywordflow">if</span> (otherData.isDidEnoughToDisengage()) <span class="keywordflow">return</span> PursueAvailability.TOOK_SERIOUS_LOSSES;</div>
<div class="line"><span class="lineno">  514</span>        <span class="keywordflow">return</span> PursueAvailability.AVAILABLE;</div>
<div class="line"><span class="lineno">  515</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a9246960440885932918f318ccedc93c2"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a9246960440885932918f318ccedc93c2">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.canOutrunOtherFleet</a></div><div class="ttdeci">boolean canOutrunOtherFleet(CampaignFleetAPI fleet, CampaignFleetAPI other)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02747">FleetEncounterContext.java:2747</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a01cea5d0a5dd74d201e0588390054030" name="a01cea5d0a5dd74d201e0588390054030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01cea5d0a5dd74d201e0588390054030">&#9670;&#160;</a></span>getRecoverableShips()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt; com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getRecoverableShips </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a>&#160;</td>
          <td class="paramname"><em>battle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>winningFleet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>otherFleet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01420">1420</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1420</span>                                                                                                                                  {</div>
<div class="line"><span class="lineno"> 1421</span>        </div>
<div class="line"><span class="lineno"> 1422</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">storyRecoverableShips</a>.clear();</div>
<div class="line"><span class="lineno"> 1423</span>        </div>
<div class="line"><span class="lineno"> 1424</span>        List&lt;FleetMemberAPI&gt; result = <span class="keyword">new</span> ArrayList&lt;FleetMemberAPI&gt;();</div>
<div class="line"><span class="lineno"> 1425</span><span class="comment">//      int max = Global.getSettings().getMaxShipsInFleet() - </span></div>
<div class="line"><span class="lineno"> 1426</span><span class="comment">//                Global.getSector().getPlayerFleet().getFleetData().getMembersListCopy().size();</span></div>
<div class="line"><span class="lineno"> 1427</span><span class="comment">//      if (Misc.isPlayerOrCombinedContainingPlayer(winningFleet) &amp;&amp; max &lt;= 0) {</span></div>
<div class="line"><span class="lineno"> 1428</span><span class="comment">//          return result;</span></div>
<div class="line"><span class="lineno"> 1429</span><span class="comment">//      }</span></div>
<div class="line"><span class="lineno"> 1430</span>        </div>
<div class="line"><span class="lineno"> 1431</span>        <span class="keywordflow">if</span> (Misc.isPlayerOrCombinedContainingPlayer(otherFleet)) {</div>
<div class="line"><span class="lineno"> 1432</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1433</span>        }</div>
<div class="line"><span class="lineno"> 1434</span>        </div>
<div class="line"><span class="lineno"> 1435</span>        DataForEncounterSide winnerData = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(winningFleet);</div>
<div class="line"><span class="lineno"> 1436</span>        DataForEncounterSide loserData = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(otherFleet);</div>
<div class="line"><span class="lineno"> 1437</span>        </div>
<div class="line"><span class="lineno"> 1438</span>        <span class="keywordtype">float</span> playerContribMult = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>();</div>
<div class="line"><span class="lineno"> 1439</span>        List&lt;FleetMemberData&gt; enemyCasualties = winnerData.getEnemyCasualties();</div>
<div class="line"><span class="lineno"> 1440</span>        List&lt;FleetMemberData&gt; ownCasualties = winnerData.getOwnCasualties();</div>
<div class="line"><span class="lineno"> 1441</span>        List&lt;FleetMemberData&gt; all = <span class="keyword">new</span> ArrayList&lt;FleetMemberData&gt;();</div>
<div class="line"><span class="lineno"> 1442</span>        all.addAll(ownCasualties);</div>
<div class="line"><span class="lineno"> 1443</span>        Collections.sort(all, <span class="keyword">new</span> Comparator&lt;FleetMemberData&gt;() {</div>
<div class="line"><span class="lineno"> 1444</span>            <span class="keyword">public</span> <span class="keywordtype">int</span> compare(FleetMemberData o1, FleetMemberData o2) {</div>
<div class="line"><span class="lineno"> 1445</span>                <span class="keywordtype">int</span> result = o2.getMember().getVariant().getSMods().size() - o1.getMember().getVariant().getSMods().size();</div>
<div class="line"><span class="lineno"> 1446</span>                <span class="keywordflow">if</span> (result == 0) {</div>
<div class="line"><span class="lineno"> 1447</span>                    result = o2.getMember().getHullSpec().getHullSize().ordinal() - o1.getMember().getHullSpec().getHullSize().ordinal();</div>
<div class="line"><span class="lineno"> 1448</span>                }</div>
<div class="line"><span class="lineno"> 1449</span>                <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1450</span>            }</div>
<div class="line"><span class="lineno"> 1451</span>        });</div>
<div class="line"><span class="lineno"> 1452</span>        </div>
<div class="line"><span class="lineno"> 1453</span>        </div>
<div class="line"><span class="lineno"> 1454</span>        <span class="comment">//Random random = Misc.getRandom(battle.getSeed(), 11);</span></div>
<div class="line"><span class="lineno"> 1455</span>        Random random = Misc.getRandom(Global.getSector().getPlayerBattleSeed(), 11);</div>
<div class="line"><span class="lineno"> 1456</span>        <span class="comment">//System.out.println(&quot;BATTLE SEED: &quot; + Global.getSector().getPlayerBattleSeed());</span></div>
<div class="line"><span class="lineno"> 1457</span>        </div>
<div class="line"><span class="lineno"> 1458</span>        <span class="comment">// since the number of recoverable ships is limited, prefer &quot;better&quot; ships</span></div>
<div class="line"><span class="lineno"> 1459</span>        WeightedRandomPicker&lt;FleetMemberData&gt; enemyPicker = <span class="keyword">new</span> WeightedRandomPicker&lt;FleetMemberData&gt;(random);</div>
<div class="line"><span class="lineno"> 1460</span>        </div>
<div class="line"><span class="lineno"> 1461</span>        <span class="comment">// doesn&#39;t matter how it&#39;s sorted, as long as it&#39;s consistent so that</span></div>
<div class="line"><span class="lineno"> 1462</span>        <span class="comment">// the order it&#39;s insertied into the picker in is the same</span></div>
<div class="line"><span class="lineno"> 1463</span>        List&lt;FleetMemberData&gt; enemy = <span class="keyword">new</span> ArrayList&lt;FleetMemberData&gt;(enemyCasualties);</div>
<div class="line"><span class="lineno"> 1464</span>        Collections.sort(enemy, <span class="keyword">new</span> Comparator&lt;FleetMemberData&gt;() {</div>
<div class="line"><span class="lineno"> 1465</span>            <span class="keyword">public</span> <span class="keywordtype">int</span> compare(FleetMemberData o1, FleetMemberData o2) {</div>
<div class="line"><span class="lineno"> 1466</span>                <span class="keywordtype">int</span> result = o2.getMember().getId().hashCode() - o1.getMember().getId().hashCode();</div>
<div class="line"><span class="lineno"> 1467</span>                <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1468</span>            }</div>
<div class="line"><span class="lineno"> 1469</span>        });</div>
<div class="line"><span class="lineno"> 1470</span>        </div>
<div class="line"><span class="lineno"> 1471</span>        <span class="keywordflow">for</span> (FleetMemberData curr : enemy) {</div>
<div class="line"><span class="lineno"> 1472</span>            <span class="keywordtype">float</span> base = 10f;</div>
<div class="line"><span class="lineno"> 1473</span>            <span class="keywordflow">switch</span> (curr.getMember().getHullSpec().getHullSize()) {</div>
<div class="line"><span class="lineno"> 1474</span>            <span class="keywordflow">case</span> CAPITAL_SHIP: base = 40f; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1475</span>            <span class="keywordflow">case</span> CRUISER: base = 20f; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1476</span>            <span class="keywordflow">case</span> DESTROYER: base = 10f; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1477</span>            <span class="keywordflow">case</span> FRIGATE: base = 5f; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1478</span>            }</div>
<div class="line"><span class="lineno"> 1479</span>            <span class="keywordtype">float</span> w = curr.getMember().getUnmodifiedDeploymentPointsCost() / base;</div>
<div class="line"><span class="lineno"> 1480</span>            </div>
<div class="line"><span class="lineno"> 1481</span>            enemyPicker.add(curr, w);</div>
<div class="line"><span class="lineno"> 1482</span>        }</div>
<div class="line"><span class="lineno"> 1483</span>        List&lt;FleetMemberData&gt; sortedEnemy = <span class="keyword">new</span> ArrayList&lt;FleetMemberData&gt;();</div>
<div class="line"><span class="lineno"> 1484</span>        <span class="keywordflow">while</span> (!enemyPicker.isEmpty()) {</div>
<div class="line"><span class="lineno"> 1485</span>            sortedEnemy.add(enemyPicker.pickAndRemove());</div>
<div class="line"><span class="lineno"> 1486</span>        }</div>
<div class="line"><span class="lineno"> 1487</span>        </div>
<div class="line"><span class="lineno"> 1488</span>        </div>
<div class="line"><span class="lineno"> 1489</span>        all.addAll(sortedEnemy);</div>
<div class="line"><span class="lineno"> 1490</span>        </div>
<div class="line"><span class="lineno"> 1491</span><span class="comment">//      for (FleetMemberData curr : all) {</span></div>
<div class="line"><span class="lineno"> 1492</span><span class="comment">//          System.out.println(curr.getMember().getHullId());</span></div>
<div class="line"><span class="lineno"> 1493</span><span class="comment">//      }</span></div>
<div class="line"><span class="lineno"> 1494</span>        </div>
<div class="line"><span class="lineno"> 1495</span>        CampaignFleetAPI playerFleet = Global.getSector().getPlayerFleet();</div>
<div class="line"><span class="lineno"> 1496</span>        </div>
<div class="line"><span class="lineno"> 1497</span>        <span class="keywordtype">int</span> maxRecoverablePerType = 24;</div>
<div class="line"><span class="lineno"> 1498</span>        </div>
<div class="line"><span class="lineno"> 1499</span>        <span class="keywordtype">float</span> probLessDModsOnNext = Global.getSettings().getFloat(<span class="stringliteral">&quot;baseProbLessDModsOnRecoverableEnemyShip&quot;</span>);</div>
<div class="line"><span class="lineno"> 1500</span>        <span class="keywordtype">float</span> lessDmodsOnNextMult = Global.getSettings().getFloat(<span class="stringliteral">&quot;lessDModsOnRecoverableEnemyShipMultNext&quot;</span>);</div>
<div class="line"><span class="lineno"> 1501</span>        </div>
<div class="line"><span class="lineno"> 1502</span>        <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><span class="lineno"> 1503</span>        <span class="keywordflow">for</span> (FleetMemberData data : all) {</div>
<div class="line"><span class="lineno"> 1504</span><span class="comment">//          if (data.getMember().getHullId().contains(&quot;legion&quot;)) {</span></div>
<div class="line"><span class="lineno"> 1505</span><span class="comment">//              System.out.println(&quot;wefwefwefe&quot;);</span></div>
<div class="line"><span class="lineno"> 1506</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 1507</span>            <span class="comment">//if (data.getMember().getHullSpec().getHints().contains(ShipTypeHints.UNBOARDABLE)) continue;</span></div>
<div class="line"><span class="lineno"> 1508</span>            <span class="keywordflow">if</span> (Misc.isUnboardable(data.getMember())) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1509</span>            <span class="keywordflow">if</span> (data.getStatus() != Status.DISABLED &amp;&amp; data.getStatus() != Status.DESTROYED) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1510</span> </div>
<div class="line"><span class="lineno"> 1511</span>            <span class="keywordtype">boolean</span> own = ownCasualties.contains(data);</div>
<div class="line"><span class="lineno"> 1512</span>            <span class="keywordflow">if</span> (own &amp;&amp; data.getMember().isAlly()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1513</span> </div>
<div class="line"><span class="lineno"> 1514</span><span class="comment">//          if (data.getMember().getHullId().startsWith(&quot;vanguard_pirates&quot;)) {</span></div>
<div class="line"><span class="lineno"> 1515</span><span class="comment">//              System.out.println(&quot;wefwefwefe12341234&quot;);</span></div>
<div class="line"><span class="lineno"> 1516</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 1517</span>            </div>
<div class="line"><span class="lineno"> 1518</span>            <span class="keywordtype">float</span> mult = 1f;</div>
<div class="line"><span class="lineno"> 1519</span>            <span class="keywordflow">if</span> (data.getStatus() == Status.DESTROYED) mult = 0.5f;</div>
<div class="line"><span class="lineno"> 1520</span>            <span class="keywordflow">if</span> (!own) mult *= playerContribMult;</div>
<div class="line"><span class="lineno"> 1521</span>            </div>
<div class="line"><span class="lineno"> 1522</span>            </div>
<div class="line"><span class="lineno"> 1523</span>            <span class="keywordtype">boolean</span> useOfficerRecovery = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1524</span>            <span class="keywordflow">if</span> (own) {</div>
<div class="line"><span class="lineno"> 1525</span>                useOfficerRecovery = winnerData.getMembersWithOfficerOrPlayerAsOrigCaptain().contains(data.getMember());</div>
<div class="line"><span class="lineno"> 1526</span>                <span class="keywordflow">if</span> (useOfficerRecovery) {</div>
<div class="line"><span class="lineno"> 1527</span>                    mult = 1f;</div>
<div class="line"><span class="lineno"> 1528</span>                }</div>
<div class="line"><span class="lineno"> 1529</span>            }</div>
<div class="line"><span class="lineno"> 1530</span>            </div>
<div class="line"><span class="lineno"> 1531</span>            <span class="keywordtype">boolean</span> noRecovery = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1532</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a> != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><span class="lineno"> 1533</span>                <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(data.getMember()) != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 1534</span>                CampaignFleetAPI fleet = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(data.getMember());</div>
<div class="line"><span class="lineno"> 1535</span>                <span class="keywordflow">if</span> (fleet.getMemoryWithoutUpdate().getBoolean(MemFlags.MEMORY_KEY_NO_SHIP_RECOVERY)) {</div>
<div class="line"><span class="lineno"> 1536</span>                    noRecovery = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1537</span>                }</div>
<div class="line"><span class="lineno"> 1538</span>            }</div>
<div class="line"><span class="lineno"> 1539</span>    </div>
<div class="line"><span class="lineno"> 1540</span><span class="comment">//          if (data.getMember().getHullId().startsWith(&quot;cerberus&quot;)) {</span></div>
<div class="line"><span class="lineno"> 1541</span><span class="comment">//              System.out.println(&quot;wefwefew&quot;);</span></div>
<div class="line"><span class="lineno"> 1542</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 1543</span>            <span class="keywordtype">boolean</span> normalRecovery = !noRecovery &amp;&amp; </div>
<div class="line"><span class="lineno"> 1544</span>                        Misc.isShipRecoverable(data.getMember(), playerFleet, own, useOfficerRecovery, 1f * mult);</div>
<div class="line"><span class="lineno"> 1545</span>            <span class="keywordtype">boolean</span> storyRecovery = !noRecovery &amp;&amp; !normalRecovery;</div>
<div class="line"><span class="lineno"> 1546</span>        </div>
<div class="line"><span class="lineno"> 1547</span>            <span class="keywordtype">boolean</span> alwaysRec = data.getMember().getVariant().<a class="code hl_function" href="../../d6/de1/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#abed0787f3c057816961d1a07f2c55662">hasTag</a>(Tags.VARIANT_ALWAYS_RECOVERABLE);</div>
<div class="line"><span class="lineno"> 1548</span> </div>
<div class="line"><span class="lineno"> 1549</span>            <span class="keywordtype">float</span> shipRecProb = data.getMember().getStats().getDynamic().getMod(Stats.INDIVIDUAL_SHIP_RECOVERY_MOD).computeEffective(0f);</div>
<div class="line"><span class="lineno"> 1550</span>            <span class="keywordflow">if</span> (!own &amp;&amp; !alwaysRec &amp;&amp; (storyRecovery || normalRecovery) &amp;&amp; shipRecProb &lt; 1f) {</div>
<div class="line"><span class="lineno"> 1551</span>                <span class="keywordtype">float</span> per = Global.getSettings().getFloat(<span class="stringliteral">&quot;probNonOwnNonRecoverablePerDMod&quot;</span>);</div>
<div class="line"><span class="lineno"> 1552</span>                <span class="keywordtype">float</span> perAlready = Global.getSettings().getFloat(<span class="stringliteral">&quot;probNonOwnNonRecoverablePerAlreadyRecoverable&quot;</span>);</div>
<div class="line"><span class="lineno"> 1553</span>                <span class="keywordtype">float</span> max = Global.getSettings().getFloat(<span class="stringliteral">&quot;probNonOwnNonRecoverableMax&quot;</span>);</div>
<div class="line"><span class="lineno"> 1554</span>                <span class="keywordtype">int</span> dmods = DModManager.getNumDMods(data.getMember().getVariant());</div>
<div class="line"><span class="lineno"> 1555</span>                </div>
<div class="line"><span class="lineno"> 1556</span>                <span class="keywordtype">float</span> assumedAddedDmods = 3f;</div>
<div class="line"><span class="lineno"> 1557</span>                assumedAddedDmods -= Global.getSector().getPlayerFleet().getStats().getDynamic().getValue(Stats.SHIP_DMOD_REDUCTION, 0) * 0.5f;</div>
<div class="line"><span class="lineno"> 1558</span>                assumedAddedDmods = Math.min(assumedAddedDmods, 5 - dmods);</div>
<div class="line"><span class="lineno"> 1559</span>                </div>
<div class="line"><span class="lineno"> 1560</span>                <span class="keywordtype">float</span> recoveredSoFar = 0f;</div>
<div class="line"><span class="lineno"> 1561</span>                <span class="keywordflow">if</span> (storyRecovery) recoveredSoFar = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">storyRecoverableShips</a>.size();</div>
<div class="line"><span class="lineno"> 1562</span>                <span class="keywordflow">else</span> recoveredSoFar = result.size(); </div>
<div class="line"><span class="lineno"> 1563</span>                </div>
<div class="line"><span class="lineno"> 1564</span>                <span class="keywordflow">if</span> (random.nextFloat() &lt; Math.min(max, (dmods + assumedAddedDmods) * per) + recoveredSoFar * perAlready) {</div>
<div class="line"><span class="lineno"> 1565</span>                    noRecovery = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1566</span>                }</div>
<div class="line"><span class="lineno"> 1567</span>            }</div>
<div class="line"><span class="lineno"> 1568</span>            </div>
<div class="line"><span class="lineno"> 1569</span>            </div>
<div class="line"><span class="lineno"> 1570</span>            <span class="comment">//if (true || Misc.isShipRecoverable(data.getMember(), playerFleet, own, useOfficerRecovery, battle.getSeed(), 1f * mult)) {</span></div>
<div class="line"><span class="lineno"> 1571</span>            <span class="keywordflow">if</span> (!noRecovery &amp;&amp; (normalRecovery || storyRecovery)) {</div>
<div class="line"><span class="lineno"> 1572</span>            <span class="comment">//if (Misc.isShipRecoverable(data.getMember(), playerFleet, battle.getSeed(), 1f * mult)) {</span></div>
<div class="line"><span class="lineno"> 1573</span>                </div>
<div class="line"><span class="lineno"> 1574</span>                <span class="keywordflow">if</span> (!own || !Misc.isUnremovable(data.getMember().getCaptain())) {</div>
<div class="line"><span class="lineno"> 1575</span>                    String aiCoreId = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno"> 1576</span>                    <span class="keywordflow">if</span> (own &amp;&amp; data.getMember().getCaptain() != <span class="keyword">null</span> &amp;&amp; </div>
<div class="line"><span class="lineno"> 1577</span>                            data.getMember().getCaptain().isAICore()) {</div>
<div class="line"><span class="lineno"> 1578</span>                        aiCoreId = data.getMember().getCaptain().getAICoreId();</div>
<div class="line"><span class="lineno"> 1579</span>                    }</div>
<div class="line"><span class="lineno"> 1580</span>                    </div>
<div class="line"><span class="lineno"> 1581</span>                    <span class="comment">// if it&#39;s an AI core on a player ship, then:</span></div>
<div class="line"><span class="lineno"> 1582</span>                    <span class="comment">// 1. It&#39;s integrated/unremovable, so, don&#39;t remove (we don&#39;t even end up here)</span></div>
<div class="line"><span class="lineno"> 1583</span>                    <span class="comment">// 2. Ship will be recovered and will still have it, or</span></div>
<div class="line"><span class="lineno"> 1584</span>                    <span class="comment">// 3. Ship will not be recovered, and it will get added to loot in lootWeapons()</span></div>
<div class="line"><span class="lineno"> 1585</span>                    <span class="keywordtype">boolean</span> keepCaptain = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1586</span>                    <span class="comment">// don&#39;t do this - want to only show the AI core in recovery dialog when </span></div>
<div class="line"><span class="lineno"> 1587</span>                    <span class="comment">// it&#39;s integrated and would be lost if not recovered</span></div>
<div class="line"><span class="lineno"> 1588</span><span class="comment">//                  if (own &amp;&amp; (data.getMember().getCaptain() == null || </span></div>
<div class="line"><span class="lineno"> 1589</span><span class="comment">//                          data.getMember().getCaptain().isAICore())) {</span></div>
<div class="line"><span class="lineno"> 1590</span><span class="comment">//                      keepCaptain = true;</span></div>
<div class="line"><span class="lineno"> 1591</span><span class="comment">//                  }</span></div>
<div class="line"><span class="lineno"> 1592</span>                    <span class="keywordflow">if</span> (!keepCaptain) {</div>
<div class="line"><span class="lineno"> 1593</span>                        data.getMember().setCaptain(Global.getFactory().createPerson());</div>
<div class="line"><span class="lineno"> 1594</span>                        <span class="keywordflow">if</span> (aiCoreId != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 1595</span>                            data.getMember().getCaptain().getMemoryWithoutUpdate().set(</div>
<div class="line"><span class="lineno"> 1596</span>                                    <span class="stringliteral">&quot;$aiCoreIdForRecovery&quot;</span>, aiCoreId);</div>
<div class="line"><span class="lineno"> 1597</span>                        }</div>
<div class="line"><span class="lineno"> 1598</span>                    }</div>
<div class="line"><span class="lineno"> 1599</span>                }</div>
<div class="line"><span class="lineno"> 1600</span>                </div>
<div class="line"><span class="lineno"> 1601</span>                ShipVariantAPI variant = data.getMember().getVariant();</div>
<div class="line"><span class="lineno"> 1602</span>                variant = variant.clone();</div>
<div class="line"><span class="lineno"> 1603</span>                variant.setSource(VariantSource.REFIT);</div>
<div class="line"><span class="lineno"> 1604</span>                variant.setOriginalVariant(<span class="keyword">null</span>);</div>
<div class="line"><span class="lineno"> 1605</span>                <span class="comment">//DModManager.setDHull(variant);</span></div>
<div class="line"><span class="lineno"> 1606</span>                data.getMember().setVariant(variant, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1607</span>                </div>
<div class="line"><span class="lineno"> 1608</span>                <span class="keywordtype">boolean</span> lessDmods = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1609</span>                <span class="keywordflow">if</span> (!own &amp;&amp; data.getStatus() != Status.DESTROYED &amp;&amp; random.nextFloat() &lt; probLessDModsOnNext) {</div>
<div class="line"><span class="lineno"> 1610</span>                    lessDmods = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1611</span>                    probLessDModsOnNext *= lessDmodsOnNextMult;</div>
<div class="line"><span class="lineno"> 1612</span>                }</div>
<div class="line"><span class="lineno"> 1613</span>                </div>
<div class="line"><span class="lineno"> 1614</span>                <span class="comment">//Random dModRandom = new Random(1000000 * (data.getMember().getId().hashCode() + Global.getSector().getClock().getDay()));</span></div>
<div class="line"><span class="lineno"> 1615</span>                Random dModRandom = <span class="keyword">new</span> Random(1000000 * data.getMember().getId().hashCode() + Global.getSector().getPlayerBattleSeed());</div>
<div class="line"><span class="lineno"> 1616</span>                dModRandom = Misc.getRandom(dModRandom.nextLong(), 5);</div>
<div class="line"><span class="lineno"> 1617</span>                <span class="keywordflow">if</span> (lessDmods) {</div>
<div class="line"><span class="lineno"> 1618</span>                    DModManager.reduceNextDmodsBy = 3;  </div>
<div class="line"><span class="lineno"> 1619</span>                }</div>
<div class="line"><span class="lineno"> 1620</span>                </div>
<div class="line"><span class="lineno"> 1621</span>                <span class="keywordtype">float</span> probAvoidDmods = </div>
<div class="line"><span class="lineno"> 1622</span>                        data.getMember().getStats().getDynamic().getMod(</div>
<div class="line"><span class="lineno"> 1623</span>                                Stats.DMOD_AVOID_PROB_MOD).computeEffective(0f);</div>
<div class="line"><span class="lineno"> 1624</span>                </div>
<div class="line"><span class="lineno"> 1625</span>                <span class="keywordtype">float</span> probAcquireDmods = </div>
<div class="line"><span class="lineno"> 1626</span>                        data.getMember().getStats().getDynamic().getMod(</div>
<div class="line"><span class="lineno"> 1627</span>                                Stats.DMOD_ACQUIRE_PROB_MOD).computeEffective(1f);</div>
<div class="line"><span class="lineno"> 1628</span>                </div>
<div class="line"><span class="lineno"> 1629</span>                <span class="keywordflow">if</span> (dModRandom.nextFloat() &gt;= probAvoidDmods &amp;&amp; dModRandom.nextFloat() &lt; probAcquireDmods) {</div>
<div class="line"><span class="lineno"> 1630</span>                    DModManager.addDMods(data, own, Global.getSector().getPlayerFleet(), dModRandom);</div>
<div class="line"><span class="lineno"> 1631</span>                    <span class="keywordflow">if</span> (DModManager.getNumDMods(variant) &gt; 0) {</div>
<div class="line"><span class="lineno"> 1632</span>                        DModManager.setDHull(variant);</div>
<div class="line"><span class="lineno"> 1633</span>                    }</div>
<div class="line"><span class="lineno"> 1634</span>                }</div>
<div class="line"><span class="lineno"> 1635</span>                </div>
<div class="line"><span class="lineno"> 1636</span>                <span class="keywordtype">float</span> weaponProb = Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageWeaponProb&quot;</span>);</div>
<div class="line"><span class="lineno"> 1637</span>                <span class="keywordtype">float</span> wingProb = Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageWingProb&quot;</span>);</div>
<div class="line"><span class="lineno"> 1638</span>                <span class="keywordflow">if</span> (own) {</div>
<div class="line"><span class="lineno"> 1639</span>                    weaponProb = Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageOwnWeaponProb&quot;</span>);</div>
<div class="line"><span class="lineno"> 1640</span>                    wingProb = Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageOwnWingProb&quot;</span>);</div>
<div class="line"><span class="lineno"> 1641</span>                    weaponProb = playerFleet.getStats().getDynamic().getValue(Stats.OWN_WEAPON_RECOVERY_MOD, weaponProb);</div>
<div class="line"><span class="lineno"> 1642</span>                    wingProb = playerFleet.getStats().getDynamic().getValue(Stats.OWN_WING_RECOVERY_MOD, wingProb);</div>
<div class="line"><span class="lineno"> 1643</span>                }</div>
<div class="line"><span class="lineno"> 1644</span>                </div>
<div class="line"><span class="lineno"> 1645</span>                <span class="keywordtype">boolean</span> retain = data.getMember().getHullSpec().hasTag(Tags.TAG_RETAIN_SMODS_ON_RECOVERY) ||</div>
<div class="line"><span class="lineno"> 1646</span>                        data.getMember().getVariant().hasTag(Tags.TAG_RETAIN_SMODS_ON_RECOVERY);</div>
<div class="line"><span class="lineno"> 1647</span>                <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a7578c47873e1e682571cd4bea8c6ca03">prepareShipForRecovery</a>(data.getMember(), own, <span class="keyword">true</span>, !own &amp;&amp; !retain, weaponProb, wingProb, salvageRandom);</div>
<div class="line"><span class="lineno"> 1648</span>                </div>
<div class="line"><span class="lineno"> 1649</span>                <span class="keywordflow">if</span> (normalRecovery) {</div>
<div class="line"><span class="lineno"> 1650</span>                    <span class="keywordflow">if</span> (result.size() &lt; maxRecoverablePerType) {</div>
<div class="line"><span class="lineno"> 1651</span>                        result.add(data.getMember());</div>
<div class="line"><span class="lineno"> 1652</span>                    }</div>
<div class="line"><span class="lineno"> 1653</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (storyRecovery) {</div>
<div class="line"><span class="lineno"> 1654</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">storyRecoverableShips</a>.size() &lt; maxRecoverablePerType) {</div>
<div class="line"><span class="lineno"> 1655</span>                        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">storyRecoverableShips</a>.add(data.getMember());</div>
<div class="line"><span class="lineno"> 1656</span>                    }</div>
<div class="line"><span class="lineno"> 1657</span>                }</div>
<div class="line"><span class="lineno"> 1658</span>                </div>
<div class="line"><span class="lineno"> 1659</span><span class="comment">//              count++;</span></div>
<div class="line"><span class="lineno"> 1660</span><span class="comment">//              if (count &gt;= max) break;</span></div>
<div class="line"><span class="lineno"> 1661</span>            }</div>
<div class="line"><span class="lineno"> 1662</span>            </div>
<div class="line"><span class="lineno"> 1663</span>            </div>
<div class="line"><span class="lineno"> 1664</span><span class="comment">//          else {</span></div>
<div class="line"><span class="lineno"> 1665</span><span class="comment">//              data.getMember().getVariant().removeTag(Tags.SHIP_RECOVERABLE);</span></div>
<div class="line"><span class="lineno"> 1666</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 1667</span>        }</div>
<div class="line"><span class="lineno"> 1668</span>        </div>
<div class="line"><span class="lineno"> 1669</span>        <span class="comment">//System.out.println(&quot;Recoverable: &quot; + result.size() + &quot;, story: &quot; + storyRecoverableShips.size());</span></div>
<div class="line"><span class="lineno"> 1670</span>        </div>
<div class="line"><span class="lineno"> 1671</span>        </div>
<div class="line"><span class="lineno"> 1672</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab">recoverableShips</a>.clear();</div>
<div class="line"><span class="lineno"> 1673</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab">recoverableShips</a>.addAll(result);</div>
<div class="line"><span class="lineno"> 1674</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1675</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a2a4651bd161abe00bb31c825d54ccdab"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.recoverableShips</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; recoverableShips</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01418">FleetEncounterContext.java:1418</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a7578c47873e1e682571cd4bea8c6ca03"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a7578c47873e1e682571cd4bea8c6ca03">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.prepareShipForRecovery</a></div><div class="ttdeci">static void prepareShipForRecovery(FleetMemberAPI member, boolean retainAllHullmods, boolean retainKnownHullmods, boolean clearSMods, float weaponRetainProb, float wingRetainProb, Random salvageRandom)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01771">FleetEncounterContext.java:1771</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ac7e7f3ed853d5a385d12885f4d59fb36"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.storyRecoverableShips</a></div><div class="ttdeci">List&lt; FleetMemberAPI &gt; storyRecoverableShips</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01419">FleetEncounterContext.java:1419</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken_html_abed0787f3c057816961d1a07f2c55662"><div class="ttname"><a href="../../d6/de1/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#abed0787f3c057816961d1a07f2c55662">com.fs.starfarer.api.campaign.SectorEntityToken.hasTag</a></div><div class="ttdeci">boolean hasTag(String tag)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a16d6d487cd720e2081fb64cd6427d231" name="a16d6d487cd720e2081fb64cd6427d231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16d6d487cd720e2081fb64cd6427d231">&#9670;&#160;</a></span>getSalvageMult()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getSalvageMult </td>
          <td>(</td>
          <td class="paramtype">Status&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01033">1033</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1033</span>                                               {</div>
<div class="line"><span class="lineno"> 1034</span>        <span class="keywordtype">float</span> mult = 1f;</div>
<div class="line"><span class="lineno"> 1035</span>        <span class="keywordflow">switch</span> (status) {</div>
<div class="line"><span class="lineno"> 1036</span>        <span class="keywordflow">case</span> DESTROYED:</div>
<div class="line"><span class="lineno"> 1037</span>            <span class="comment">//mult = 0.5f;</span></div>
<div class="line"><span class="lineno"> 1038</span>            mult = 1f;</div>
<div class="line"><span class="lineno"> 1039</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1040</span>        <span class="keywordflow">case</span> DISABLED:</div>
<div class="line"><span class="lineno"> 1041</span>            mult = 1f;</div>
<div class="line"><span class="lineno"> 1042</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1043</span>        <span class="keywordflow">case</span> REPAIRED:</div>
<div class="line"><span class="lineno"> 1044</span>            mult = 1f;</div>
<div class="line"><span class="lineno"> 1045</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1046</span>        <span class="keywordflow">case</span> CAPTURED:</div>
<div class="line"><span class="lineno"> 1047</span>            mult = 0.1f;</div>
<div class="line"><span class="lineno"> 1048</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1049</span>        }</div>
<div class="line"><span class="lineno"> 1050</span>        <span class="keywordflow">return</span> mult;</div>
<div class="line"><span class="lineno"> 1051</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a824383f5415c79d2148be39d6e4a1982" name="a824383f5415c79d2148be39d6e4a1982"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a824383f5415c79d2148be39d6e4a1982">&#9670;&#160;</a></span>getSalvageRandom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Random com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getSalvageRandom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02178">2178</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2178</span>                                     {</div>
<div class="line"><span class="lineno"> 2179</span>        <span class="keywordflow">return</span> salvageRandom;</div>
<div class="line"><span class="lineno"> 2180</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a88438e3d6dfc59eea1b2b8dc7ead2ecb" name="a88438e3d6dfc59eea1b2b8dc7ead2ecb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88438e3d6dfc59eea1b2b8dc7ead2ecb">&#9670;&#160;</a></span>getSalvageValueModPlayerShips()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getSalvageValueModPlayerShips </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02314">2314</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2314</span>                                                 {</div>
<div class="line"><span class="lineno"> 2315</span>        <span class="keywordflow">return</span> RepairGantry.getAdjustedGantryModifierForPostCombatSalvage(Global.getSector().getPlayerFleet());</div>
<div class="line"><span class="lineno"> 2316</span><span class="comment">//      float valueModShips = 0;</span></div>
<div class="line"><span class="lineno"> 2317</span><span class="comment">//      for (FleetMemberAPI member : Global.getSector().getPlayerFleet().getFleetData().getMembersListCopy()) {</span></div>
<div class="line"><span class="lineno"> 2318</span><span class="comment">//          if (member.isMothballed()) continue;</span></div>
<div class="line"><span class="lineno"> 2319</span><span class="comment">//          float maxCurr = member.getStats().getDynamic().getValue(Stats.BATTLE_SALVAGE_VALUE_MULT_MOD, 0f);</span></div>
<div class="line"><span class="lineno"> 2320</span><span class="comment">//          OfficerEngagementData data = getWinnerData().getFleetMemberDeploymentData().get(member);</span></div>
<div class="line"><span class="lineno"> 2321</span><span class="comment">//          if (data == null) continue;</span></div>
<div class="line"><span class="lineno"> 2322</span><span class="comment">//          float memberDeployed = data.timeDeployed;</span></div>
<div class="line"><span class="lineno"> 2323</span><span class="comment">//          float maxDeployed = getWinnerData().getMaxTimeDeployed();</span></div>
<div class="line"><span class="lineno"> 2324</span><span class="comment">//          if (maxDeployed &lt;= 0) continue;</span></div>
<div class="line"><span class="lineno"> 2325</span><span class="comment">//          maxCurr *= Math.min(1f, memberDeployed / maxDeployed);</span></div>
<div class="line"><span class="lineno"> 2326</span><span class="comment">//          </span></div>
<div class="line"><span class="lineno"> 2327</span><span class="comment">//          valueModShips += maxCurr;</span></div>
<div class="line"><span class="lineno"> 2328</span><span class="comment">//      }</span></div>
<div class="line"><span class="lineno"> 2329</span><span class="comment">//      return valueModShips;</span></div>
<div class="line"><span class="lineno"> 2330</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c0cd3ca075fff451980242fbaa507d8" name="a6c0cd3ca075fff451980242fbaa507d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c0cd3ca075fff451980242fbaa507d8">&#9670;&#160;</a></span>getStoryRecoverableShips()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt; com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getStoryRecoverableShips </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01414">1414</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1414</span>                                                           {</div>
<div class="line"><span class="lineno"> 1415</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac7e7f3ed853d5a385d12885f4d59fb36">storyRecoverableShips</a>;</div>
<div class="line"><span class="lineno"> 1416</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6bd36dfdd0a8f2db7bb0457770a307e" name="ac6bd36dfdd0a8f2db7bb0457770a307e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6bd36dfdd0a8f2db7bb0457770a307e">&#9670;&#160;</a></span>getTextPanelForXPGain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/ddc/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI.html">TextPanelAPI</a> com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getTextPanelForXPGain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00735">735</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  735</span>                                                {</div>
<div class="line"><span class="lineno">  736</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>;</div>
<div class="line"><span class="lineno">  737</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a54c1f6b7440de836d86691a023f884ee" name="a54c1f6b7440de836d86691a023f884ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54c1f6b7440de836d86691a023f884ee">&#9670;&#160;</a></span>getWinner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a> com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getWinner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a1844084fdc2e87b2352f96b33a0712c7">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02740">2740</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2740</span>                                        {</div>
<div class="line"><span class="lineno"> 2741</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>() != <span class="keyword">null</span> ? <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>().getFleet() : <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno"> 2742</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="acdada664ff95e13bb05f64a01f35507b" name="acdada664ff95e13bb05f64a01f35507b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdada664ff95e13bb05f64a01f35507b">&#9670;&#160;</a></span>getWinnerData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataForEncounterSide com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getWinnerData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#aa00368d1a857de9762522d803dded885">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00122">122</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>                                                {</div>
<div class="line"><span class="lineno">  123</span>        <span class="keywordflow">for</span> (DataForEncounterSide curr : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac2f7f0224640b2aceedfcd98d5a95c36">sideData</a>) {</div>
<div class="line"><span class="lineno">  124</span>            <span class="keywordflow">if</span> (!curr.disengaged()) {</div>
<div class="line"><span class="lineno">  125</span>                <span class="keywordflow">return</span> curr;</div>
<div class="line"><span class="lineno">  126</span>            }</div>
<div class="line"><span class="lineno">  127</span>        }</div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  129</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f4a87c4cfe1918267f81969e494fc2c" name="a8f4a87c4cfe1918267f81969e494fc2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f4a87c4cfe1918267f81969e494fc2c">&#9670;&#160;</a></span>handleCargoLooting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.handleCargoLooting </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt;&#160;</td>
          <td class="paramname"><em>recoveredShips</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>takingFromPlayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02349">2349</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2349</span>                                                                                                     {</div>
<div class="line"><span class="lineno"> 2350</span>        DataForEncounterSide winner = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#acdada664ff95e13bb05f64a01f35507b">getWinnerData</a>();</div>
<div class="line"><span class="lineno"> 2351</span>        DataForEncounterSide loser = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a263ae72ae33afdfab40048c4b75c10b5">getLoserData</a>();</div>
<div class="line"><span class="lineno"> 2352</span> </div>
<div class="line"><span class="lineno"> 2353</span>        <span class="keywordflow">if</span> (winner == <span class="keyword">null</span> || loser == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2354</span>        </div>
<div class="line"><span class="lineno"> 2355</span>        loser.getFleet().getFleetData().updateCargoCapacities();</div>
<div class="line"><span class="lineno"> 2356</span>        CargoAPI loserCargo = (CargoAPI) loser.getFleet().getCargo();</div>
<div class="line"><span class="lineno"> 2357</span>        <span class="keywordtype">float</span> maxCargo = loserCargo.getMaxCapacity();</div>
<div class="line"><span class="lineno"> 2358</span>        <span class="keywordtype">float</span> maxFuel = loserCargo.getMaxFuel();</div>
<div class="line"><span class="lineno"> 2359</span>        </div>
<div class="line"><span class="lineno"> 2360</span>        Random random = Misc.random;</div>
<div class="line"><span class="lineno"> 2361</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) random = salvageRandom;</div>
<div class="line"><span class="lineno"> 2362</span>        </div>
<div class="line"><span class="lineno"> 2363</span><span class="comment">//      boolean playerLost = battle.isPlayerSide(battle.getSideFor(loser.getFleet()));</span></div>
<div class="line"><span class="lineno"> 2364</span>        </div>
<div class="line"><span class="lineno"> 2365</span>        Map&lt;CargoAPI, LossFraction&gt; fractions = <span class="keyword">new</span> HashMap&lt;CargoAPI, LossFraction&gt;();</div>
<div class="line"><span class="lineno"> 2366</span>        </div>
<div class="line"><span class="lineno"> 2367</span>        <span class="keywordtype">float</span> lostCargo = 0f;</div>
<div class="line"><span class="lineno"> 2368</span>        <span class="keywordtype">float</span> lostFuel = 0f;</div>
<div class="line"><span class="lineno"> 2369</span>        </div>
<div class="line"><span class="lineno"> 2370</span>        <span class="keywordtype">float</span> totalLoss = 0f;</div>
<div class="line"><span class="lineno"> 2371</span>        <span class="keywordflow">for</span> (FleetMemberData data : winner.getEnemyCasualties()) {</div>
<div class="line"><span class="lineno"> 2372</span><span class="comment">//          if (data.getStatus() == Status.REPAIRED) {</span></div>
<div class="line"><span class="lineno"> 2373</span><span class="comment">//              continue;</span></div>
<div class="line"><span class="lineno"> 2374</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 2375</span><span class="comment">//          if (playerLost &amp;&amp; data.getMember().isAlly()) {</span></div>
<div class="line"><span class="lineno"> 2376</span><span class="comment">//              continue;</span></div>
<div class="line"><span class="lineno"> 2377</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 2378</span>            </div>
<div class="line"><span class="lineno"> 2379</span>            CampaignFleetAPI source = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(data.getMember());</div>
<div class="line"><span class="lineno"> 2380</span>            <span class="keywordflow">if</span> (source != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 2381</span>                CargoAPI c = source.<a class="code hl_function" href="../../d6/de1/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#ab219cada372a13654e8e912aba977b05">getCargo</a>();</div>
<div class="line"><span class="lineno"> 2382</span>                LossFraction loss = fractions.get(c);</div>
<div class="line"><span class="lineno"> 2383</span>                <span class="keywordflow">if</span> (loss == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 2384</span>                    loss = <span class="keyword">new</span> LossFraction();</div>
<div class="line"><span class="lineno"> 2385</span>                    loss.maxCargo = c.getMaxCapacity();</div>
<div class="line"><span class="lineno"> 2386</span>                    loss.maxFuel = c.getMaxFuel();</div>
<div class="line"><span class="lineno"> 2387</span>                    fractions.put(c, loss);</div>
<div class="line"><span class="lineno"> 2388</span>                }</div>
<div class="line"><span class="lineno"> 2389</span>                </div>
<div class="line"><span class="lineno"> 2390</span>                loss.lostCargo += data.getMember().getCargoCapacity();</div>
<div class="line"><span class="lineno"> 2391</span>                loss.lostFuel += data.getMember().getFuelCapacity();</div>
<div class="line"><span class="lineno"> 2392</span>                </div>
<div class="line"><span class="lineno"> 2393</span>                loss.maxCargo += data.getMember().getCargoCapacity();</div>
<div class="line"><span class="lineno"> 2394</span>                loss.maxFuel += data.getMember().getFuelCapacity();</div>
<div class="line"><span class="lineno"> 2395</span>                </div>
<div class="line"><span class="lineno"> 2396</span>                totalLoss += loss.maxCargo + loss.maxFuel;</div>
<div class="line"><span class="lineno"> 2397</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2398</span>                lostCargo += data.getMember().getCargoCapacity();</div>
<div class="line"><span class="lineno"> 2399</span>                lostFuel += data.getMember().getFuelCapacity();</div>
<div class="line"><span class="lineno"> 2400</span>                </div>
<div class="line"><span class="lineno"> 2401</span>                maxCargo += data.getMember().getCargoCapacity();</div>
<div class="line"><span class="lineno"> 2402</span>                maxFuel += data.getMember().getFuelCapacity();</div>
<div class="line"><span class="lineno"> 2403</span>                </div>
<div class="line"><span class="lineno"> 2404</span>                totalLoss += maxCargo + maxFuel;</div>
<div class="line"><span class="lineno"> 2405</span>            }</div>
<div class="line"><span class="lineno"> 2406</span>            </div>
<div class="line"><span class="lineno"> 2407</span>        }</div>
<div class="line"><span class="lineno"> 2408</span>        </div>
<div class="line"><span class="lineno"> 2409</span>        <span class="comment">//if (lostCargo &lt;= 0 &amp;&amp; lostFuel &lt;= 0) {</span></div>
<div class="line"><span class="lineno"> 2410</span>        <span class="keywordflow">if</span> (totalLoss &lt;= 0) {</div>
<div class="line"><span class="lineno"> 2411</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2412</span>        }</div>
<div class="line"><span class="lineno"> 2413</span>        </div>
<div class="line"><span class="lineno"> 2414</span>        <span class="keywordflow">if</span> (maxCargo &lt; 1) maxCargo = 1;</div>
<div class="line"><span class="lineno"> 2415</span>        <span class="keywordflow">if</span> (maxFuel &lt; 1) maxFuel = 1;</div>
<div class="line"><span class="lineno"> 2416</span>        </div>
<div class="line"><span class="lineno"> 2417</span>        <span class="keywordtype">float</span> recoveryFraction = Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageCargoFraction&quot;</span>);</div>
<div class="line"><span class="lineno"> 2418</span>        </div>
<div class="line"><span class="lineno"> 2419</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(winner.getFleet()))) {</div>
<div class="line"><span class="lineno"> 2420</span>            <span class="keywordtype">float</span> playerContribMult = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a546ec66d0b3b0946f0433194879082e9">computePlayerContribFraction</a>();</div>
<div class="line"><span class="lineno"> 2421</span>            recoveryFraction *= playerContribMult;</div>
<div class="line"><span class="lineno"> 2422</span>        }</div>
<div class="line"><span class="lineno"> 2423</span>        </div>
<div class="line"><span class="lineno"> 2424</span>        <span class="keywordtype">float</span> cargoFractionLost = lostCargo / maxCargo;</div>
<div class="line"><span class="lineno"> 2425</span>        <span class="keywordtype">float</span> fuelFractionLost = lostFuel / maxFuel;</div>
<div class="line"><span class="lineno"> 2426</span>        <span class="keywordflow">if</span> (lostCargo &gt; maxCargo) cargoFractionLost = 1f;</div>
<div class="line"><span class="lineno"> 2427</span>        <span class="keywordflow">if</span> (lostFuel &gt; maxFuel) fuelFractionLost = 1f;</div>
<div class="line"><span class="lineno"> 2428</span>        </div>
<div class="line"><span class="lineno"> 2429</span>        </div>
<div class="line"><span class="lineno"> 2430</span>        List&lt;CampaignFleetAPI&gt; losers = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a079e00738984aef9c8b22a779951c44b">getSnapshotSideFor</a>(loser.getFleet());</div>
<div class="line"><span class="lineno"> 2431</span>        <span class="keywordflow">if</span> (losers == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2432</span>        </div>
<div class="line"><span class="lineno"> 2433</span>        List&lt;LootableCargoStack&gt; stacks = <span class="keyword">new</span> ArrayList&lt;LootableCargoStack&gt;();</div>
<div class="line"><span class="lineno"> 2434</span>        <span class="keywordflow">for</span> (CampaignFleetAPI curr : losers) {</div>
<div class="line"><span class="lineno"> 2435</span>            <span class="keywordflow">for</span> (CargoStackAPI stack : curr.getCargo().getStacksCopy()) {</div>
<div class="line"><span class="lineno"> 2436</span>                stacks.add(<span class="keyword">new</span> LootableCargoStack(curr.getCargo(), stack));</div>
<div class="line"><span class="lineno"> 2437</span>            }</div>
<div class="line"><span class="lineno"> 2438</span>        }</div>
<div class="line"><span class="lineno"> 2439</span>        </div>
<div class="line"><span class="lineno"> 2440</span>        <span class="keywordflow">for</span> (LootableCargoStack stack : stacks) {</div>
<div class="line"><span class="lineno"> 2441</span>            <span class="keywordflow">if</span> (stack.stack.isNull()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2442</span>            <span class="keywordflow">if</span> (stack.stack.isPersonnelStack()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2443</span>            <span class="keywordflow">if</span> (stack.stack.getSize() &lt; 1) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2444</span>            </div>
<div class="line"><span class="lineno"> 2445</span>            <span class="keywordtype">float</span> actualCargoFractionLost = cargoFractionLost;</div>
<div class="line"><span class="lineno"> 2446</span>            <span class="keywordtype">float</span> actualFuelFractionLost = fuelFractionLost;</div>
<div class="line"><span class="lineno"> 2447</span>            LossFraction loss = fractions.get(stack.source);</div>
<div class="line"><span class="lineno"> 2448</span>            <span class="keywordflow">if</span> (loss != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 2449</span>                actualCargoFractionLost = loss.lostCargo / loss.maxCargo;</div>
<div class="line"><span class="lineno"> 2450</span>                actualFuelFractionLost = loss.lostFuel / loss.maxFuel;</div>
<div class="line"><span class="lineno"> 2451</span>                <span class="keywordflow">if</span> (loss.lostCargo &gt; loss.maxCargo) actualCargoFractionLost = 1f;</div>
<div class="line"><span class="lineno"> 2452</span>                <span class="keywordflow">if</span> (loss.lostFuel &gt; loss.maxFuel) actualFuelFractionLost = 1f;</div>
<div class="line"><span class="lineno"> 2453</span>            }</div>
<div class="line"><span class="lineno"> 2454</span>            </div>
<div class="line"><span class="lineno"> 2455</span>            </div>
<div class="line"><span class="lineno"> 2456</span>            <span class="keywordflow">if</span> (takingFromPlayer) {</div>
<div class="line"><span class="lineno"> 2457</span>                <span class="keywordflow">if</span> (stack.stack.isSpecialStack()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2458</span>                <span class="keywordflow">if</span> (stack.stack.isCommodityStack()) {</div>
<div class="line"><span class="lineno"> 2459</span>                    CommoditySpecAPI spec = stack.stack.getResourceIfResource();</div>
<div class="line"><span class="lineno"> 2460</span>                    <span class="keywordflow">if</span> (spec != <span class="keyword">null</span> &amp;&amp; spec.hasTag(Commodities.TAG_NO_LOSS_FROM_COMBAT)){</div>
<div class="line"><span class="lineno"> 2461</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2462</span>                    }</div>
<div class="line"><span class="lineno"> 2463</span>                }</div>
<div class="line"><span class="lineno"> 2464</span>            }</div>
<div class="line"><span class="lineno"> 2465</span>            </div>
<div class="line"><span class="lineno"> 2466</span>            <span class="keywordtype">float</span> numLost = 0;</div>
<div class="line"><span class="lineno"> 2467</span>            <span class="keywordtype">float</span> numTaken = 0;</div>
<div class="line"><span class="lineno"> 2468</span>            <span class="keywordflow">if</span> (stack.stack.isFuelStack()) {</div>
<div class="line"><span class="lineno"> 2469</span>                numLost = actualFuelFractionLost * stack.stack.getSize();</div>
<div class="line"><span class="lineno"> 2470</span>                numTaken = Math.round(numLost * (0.5f + random.nextFloat() * 0.5f));</div>
<div class="line"><span class="lineno"> 2471</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2472</span>                numLost = actualCargoFractionLost * stack.stack.getSize();</div>
<div class="line"><span class="lineno"> 2473</span>                numTaken = Math.round(numLost * (0.5f + random.nextFloat() * 0.5f));</div>
<div class="line"><span class="lineno"> 2474</span>            }</div>
<div class="line"><span class="lineno"> 2475</span>            </div>
<div class="line"><span class="lineno"> 2476</span>            <span class="keywordflow">if</span> (numLost &lt; 1) {</div>
<div class="line"><span class="lineno"> 2477</span>                <span class="keywordflow">if</span> (random.nextFloat() &lt; numLost) {</div>
<div class="line"><span class="lineno"> 2478</span>                    numLost = 1;</div>
<div class="line"><span class="lineno"> 2479</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2480</span>                    numLost = 0;</div>
<div class="line"><span class="lineno"> 2481</span>                    numTaken = 0;</div>
<div class="line"><span class="lineno"> 2482</span>                }</div>
<div class="line"><span class="lineno"> 2483</span>            }</div>
<div class="line"><span class="lineno"> 2484</span>            </div>
<div class="line"><span class="lineno"> 2485</span>            <span class="keywordflow">if</span> (numLost &lt;= 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2486</span>            </div>
<div class="line"><span class="lineno"> 2487</span>            stack.stack.add(-numLost);</div>
<div class="line"><span class="lineno"> 2488</span>            <span class="keywordflow">if</span> (numTaken * recoveryFraction &gt;= 1) {</div>
<div class="line"><span class="lineno"> 2489</span>                <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(stack.stack.getType(), stack.stack.getData(), numTaken * recoveryFraction);</div>
<div class="line"><span class="lineno"> 2490</span>            }</div>
<div class="line"><span class="lineno"> 2491</span>        }</div>
<div class="line"><span class="lineno"> 2492</span>        </div>
<div class="line"><span class="lineno"> 2493</span>        <span class="keywordflow">for</span> (CampaignFleetAPI fleet : <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(loser.getFleet())) {</div>
<div class="line"><span class="lineno"> 2494</span>            <span class="keywordflow">if</span> (fleet.isPlayerFleet()) {</div>
<div class="line"><span class="lineno"> 2495</span>                fleet.getCargo().sort();</div>
<div class="line"><span class="lineno"> 2496</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2497</span>            }</div>
<div class="line"><span class="lineno"> 2498</span>        }</div>
<div class="line"><span class="lineno"> 2499</span>    }</div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_ad69f0c7e417fed4f2f2aa5e164eb390a"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">com.fs.starfarer.api.campaign.CargoAPI.addItems</a></div><div class="ttdeci">void addItems(CargoAPI.CargoItemType itemType, Object data, float quantity)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a917f4b9d4203ec3f96661478e23a96b9" name="a917f4b9d4203ec3f96661478e23a96b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a917f4b9d4203ec3f96661478e23a96b9">&#9670;&#160;</a></span>hasWinnerAndLoser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.hasWinnerAndLoser </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02736">2736</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2736</span>                                       {</div>
<div class="line"><span class="lineno"> 2737</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a54c1f6b7440de836d86691a023f884ee">getWinner</a>() != <span class="keyword">null</span> &amp;&amp; <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac27a8d55eb981edf43aff8769bfd4907">getLoser</a>() != <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno"> 2738</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ac27a8d55eb981edf43aff8769bfd4907"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ac27a8d55eb981edf43aff8769bfd4907">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.getLoser</a></div><div class="ttdeci">CampaignFleetAPI getLoser()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02743">FleetEncounterContext.java:2743</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8ca62c0f5eb95ca18ee610a2ec2f25a" name="ac8ca62c0f5eb95ca18ee610a2ec2f25a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ca62c0f5eb95ca18ee610a2ec2f25a">&#9670;&#160;</a></span>isAutoresolve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isAutoresolve </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00090">90</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   90</span>                                   {</div>
<div class="line"><span class="lineno">   91</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">isAutoresolve</a>;</div>
<div class="line"><span class="lineno">   92</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aef5cbe50c9878737ad102be7ab8e55d5" name="aef5cbe50c9878737ad102be7ab8e55d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef5cbe50c9878737ad102be7ab8e55d5">&#9670;&#160;</a></span>isBattleOver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isBattleOver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00965">965</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  965</span>                                  {</div>
<div class="line"><span class="lineno">  966</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a917f4b9d4203ec3f96661478e23a96b9">hasWinnerAndLoser</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  967</span>        </div>
<div class="line"><span class="lineno">  968</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><span class="lineno">  969</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != EngagementOutcome.BATTLE_PLAYER_OUT_FIRST_WIN &amp;&amp;</div>
<div class="line"><span class="lineno">  970</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != EngagementOutcome.BATTLE_PLAYER_OUT_FIRST_LOSS &amp;&amp;</div>
<div class="line"><span class="lineno">  971</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != EngagementOutcome.BATTLE_ENEMY_WIN &amp;&amp;</div>
<div class="line"><span class="lineno">  972</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != EngagementOutcome.BATTLE_PLAYER_WIN;</div>
<div class="line"><span class="lineno">  973</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0143337e3d81f6542e6cab99c14979a" name="ab0143337e3d81f6542e6cab99c14979a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0143337e3d81f6542e6cab99c14979a">&#9670;&#160;</a></span>isComputedDifficulty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isComputedDifficulty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03290">3290</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3290</span>                                          {</div>
<div class="line"><span class="lineno"> 3291</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">computedDifficulty</a>;</div>
<div class="line"><span class="lineno"> 3292</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a59c5949fe670201d6051c086adca25ba" name="a59c5949fe670201d6051c086adca25ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c5949fe670201d6051c086adca25ba">&#9670;&#160;</a></span>isEngagedInActualBattle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isEngagedInActualBattle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00219">219</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  219</span>                                             {</div>
<div class="line"><span class="lineno">  220</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">engagedInActualBattle</a>;</div>
<div class="line"><span class="lineno">  221</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa433b4940ea0c102bea1980edce68b61" name="aa433b4940ea0c102bea1980edce68b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa433b4940ea0c102bea1980edce68b61">&#9670;&#160;</a></span>isEngagedInHostilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isEngagedInHostilities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#adee9a4706a1769ab3e811964f061d399">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00140">140</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  140</span>                                            {</div>
<div class="line"><span class="lineno">  141</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a>;</div>
<div class="line"><span class="lineno">  142</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a855c871e3e911fe7d3120d988be3e60e" name="a855c871e3e911fe7d3120d988be3e60e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a855c871e3e911fe7d3120d988be3e60e">&#9670;&#160;</a></span>isLowRepImpact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isLowRepImpact </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00529">529</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  529</span>                                    {</div>
<div class="line"><span class="lineno">  530</span>        <span class="keywordtype">boolean</span> lowImpact = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>() != <span class="keyword">null</span> &amp;&amp; <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ad9e20801d4b57ae3d0f93db96fbb0829">getNonPlayerSide</a>() != <span class="keyword">null</span> &amp;&amp; </div>
<div class="line"><span class="lineno">  531</span>                            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().getNonPlayerSide()) != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><span class="lineno">  532</span>                            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().getNonPlayerSide()).<a class="code hl_function" href="../../d6/de1/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#adcd558c1d95f9755066ddaf9a77311c1">getMemoryWithoutUpdate</a>().<a class="code hl_function" href="../../d0/de7/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#adb833cc81359cc239a89eae309480fc9">getBoolean</a>(MemFlags.MEMORY_KEY_LOW_REP_IMPACT) == <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  533</span>        <span class="keywordflow">return</span> lowImpact;</div>
<div class="line"><span class="lineno">  534</span>    }</div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI_html_adb833cc81359cc239a89eae309480fc9"><div class="ttname"><a href="../../d0/de7/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#adb833cc81359cc239a89eae309480fc9">com.fs.starfarer.api.campaign.rules.MemoryAPI.getBoolean</a></div><div class="ttdeci">boolean getBoolean(String key)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a54737242ac099e9dc420bab76306946b" name="a54737242ac099e9dc420bab76306946b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54737242ac099e9dc420bab76306946b">&#9670;&#160;</a></span>isNoHarryBecauseOfStation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isNoHarryBecauseOfStation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00744">744</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  744</span>                                               {</div>
<div class="line"><span class="lineno">  745</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">noHarryBecauseOfStation</a>;</div>
<div class="line"><span class="lineno">  746</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a33be18c67e2c0aed2e95799be7488588" name="a33be18c67e2c0aed2e95799be7488588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33be18c67e2c0aed2e95799be7488588">&#9670;&#160;</a></span>isNoRepImpact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isNoRepImpact </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00535">535</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  535</span>                                   {</div>
<div class="line"><span class="lineno">  536</span>        <span class="keywordtype">boolean</span> noImpact = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>() != <span class="keyword">null</span> &amp;&amp; <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ad9e20801d4b57ae3d0f93db96fbb0829">getNonPlayerSide</a>() != <span class="keyword">null</span> &amp;&amp; </div>
<div class="line"><span class="lineno">  537</span>                           <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().getNonPlayerSide()) != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><span class="lineno">  538</span>                           <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3389318628d0c974cf945a9fc40d5453">getPrimary</a>(<a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().getNonPlayerSide()).<a class="code hl_function" href="../../d6/de1/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1SectorEntityToken.html#adcd558c1d95f9755066ddaf9a77311c1">getMemoryWithoutUpdate</a>().<a class="code hl_function" href="../../d0/de7/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1rules_1_1MemoryAPI.html#adb833cc81359cc239a89eae309480fc9">getBoolean</a>(MemFlags.MEMORY_KEY_NO_REP_IMPACT) == <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  539</span>        <span class="keywordflow">return</span> noImpact;</div>
<div class="line"><span class="lineno">  540</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b2d76a4b1b4a74d8f95d4af61562ce1" name="a4b2d76a4b1b4a74d8f95d4af61562ce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b2d76a4b1b4a74d8f95d4af61562ce1">&#9670;&#160;</a></span>isOtherFleetHarriedPlayer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isOtherFleetHarriedPlayer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#aeeb51e5246d771b7509bf677b64c563e">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00152">152</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  152</span>                                               {</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a622f25000d780d58fb5af7ef355a428d">otherFleetHarriedPlayer</a>;</div>
<div class="line"><span class="lineno">  154</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a622f25000d780d58fb5af7ef355a428d"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a622f25000d780d58fb5af7ef355a428d">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.otherFleetHarriedPlayer</a></div><div class="ttdeci">boolean otherFleetHarriedPlayer</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00079">FleetEncounterContext.java:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6ea1f32307606f32320c8116c39bd7f" name="af6ea1f32307606f32320c8116c39bd7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6ea1f32307606f32320c8116c39bd7f">&#9670;&#160;</a></span>letBoardableGo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.letBoardableGo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>toBoard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>fleetItBelongsTo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>attackingFleet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01389">1389</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1389</span>                                                                                                                           {</div>
<div class="line"><span class="lineno"> 1390</span>        DataForEncounterSide attackerSide = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(attackingFleet);</div>
<div class="line"><span class="lineno"> 1391</span>        attackerSide.removeEnemyCasualty(toBoard);</div>
<div class="line"><span class="lineno"> 1392</span>        </div>
<div class="line"><span class="lineno"> 1393</span>        DataForEncounterSide defenderSide = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(fleetItBelongsTo);</div>
<div class="line"><span class="lineno"> 1394</span>        defenderSide.removeOwnCasualty(toBoard);</div>
<div class="line"><span class="lineno"> 1395</span>        </div>
<div class="line"><span class="lineno"> 1396</span>        </div>
<div class="line"><span class="lineno"> 1397</span>        defenderSide.getDestroyedInLastEngagement().remove(toBoard);</div>
<div class="line"><span class="lineno"> 1398</span>        defenderSide.getDisabledInLastEngagement().remove(toBoard);</div>
<div class="line"><span class="lineno"> 1399</span>        defenderSide.getRetreatedFromLastEngagement().add(toBoard);</div>
<div class="line"><span class="lineno"> 1400</span>        </div>
<div class="line"><span class="lineno"> 1401</span>        <span class="keywordflow">if</span> (!fleetItBelongsTo.isValidPlayerFleet()) {</div>
<div class="line"><span class="lineno"> 1402</span>            fleetItBelongsTo.getCargo().removeCrew(fleetItBelongsTo.getCargo().getCrew());</div>
<div class="line"><span class="lineno"> 1403</span>            fleetItBelongsTo.getCargo().removeMarines(fleetItBelongsTo.getCargo().getMarines());</div>
<div class="line"><span class="lineno"> 1404</span>        }</div>
<div class="line"><span class="lineno"> 1405</span>        </div>
<div class="line"><span class="lineno"> 1406</span>        FleetDataAPI data = fleetItBelongsTo.getFleetData();</div>
<div class="line"><span class="lineno"> 1407</span>        data.addFleetMember(toBoard);</div>
<div class="line"><span class="lineno"> 1408</span>        </div>
<div class="line"><span class="lineno"> 1409</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a381e607369769826578a1760f9ca0305">getBattle</a>().<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a1a91abcbf98c938054b244db0633d426">getCombinedFor</a>(fleetItBelongsTo).<a class="code hl_function" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html#aa3e90e08c7029f5dae7bc1d4d59e3285">getFleetData</a>().<a class="code hl_function" href="../../d2/dfb/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetDataAPI.html#aae3057dba1c046f7e1bbe35de5f20119">addFleetMember</a>(toBoard);</div>
<div class="line"><span class="lineno"> 1410</span>        </div>
<div class="line"><span class="lineno"> 1411</span>        toBoard.getCrewComposition().addToCargo(fleetItBelongsTo.getCargo());</div>
<div class="line"><span class="lineno"> 1412</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a274c24ec32886d4926bafb01906150e9" name="a274c24ec32886d4926bafb01906150e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a274c24ec32886d4926bafb01906150e9">&#9670;&#160;</a></span>lootHullMods()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.lootHullMods </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d04/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a>&#160;</td>
          <td class="paramname"><em>variant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>mult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02506">2506</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2506</span>                                                                                           {</div>
<div class="line"><span class="lineno"> 2507</span>        <span class="keywordflow">if</span> (variant == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2508</span>        <span class="keywordflow">if</span> (member.isFighterWing()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2509</span>        Random random = Misc.random;</div>
<div class="line"><span class="lineno"> 2510</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) random = salvageRandom;</div>
<div class="line"><span class="lineno"> 2511</span>        </div>
<div class="line"><span class="lineno"> 2512</span>        <span class="keywordtype">float</span> p = Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageHullmodProb&quot;</span>);</div>
<div class="line"><span class="lineno"> 2513</span>        </div>
<div class="line"><span class="lineno"> 2514</span>        <span class="keywordflow">for</span> (String <span class="keywordtype">id</span> : variant.getHullMods()) {</div>
<div class="line"><span class="lineno"> 2515</span>            <span class="keywordflow">if</span> (random.nextFloat() &gt; mult) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2516</span>            <span class="keywordflow">if</span> (random.nextFloat() &gt; p) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2517</span>            </div>
<div class="line"><span class="lineno"> 2518</span>            HullModSpecAPI spec = Global.getSettings().getHullModSpec(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno"> 2519</span>            <span class="keywordtype">boolean</span> known = Global.getSector().getPlayerFaction().knowsHullMod(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno"> 2520</span>            <span class="keywordflow">if</span> (DebugFlags.ALLOW_KNOWN_HULLMOD_DROPS) known = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2521</span>            <span class="keywordflow">if</span> (known || spec.isHidden() || spec.isHiddenEverywhere()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2522</span>            <span class="comment">//if (spec.isAlwaysUnlocked()) continue;</span></div>
<div class="line"><span class="lineno"> 2523</span>            <span class="keywordflow">if</span> (spec.hasTag(Tags.HULLMOD_NO_DROP)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2524</span>            </div>
<div class="line"><span class="lineno"> 2525</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a374a195e17708daf73f13d2bca470847">addHullmods</a>(<span class="keywordtype">id</span>, 1);</div>
<div class="line"><span class="lineno"> 2526</span>        }</div>
<div class="line"><span class="lineno"> 2527</span>        </div>
<div class="line"><span class="lineno"> 2528</span>        <span class="keywordflow">for</span> (String slotId : variant.getModuleSlots()) {</div>
<div class="line"><span class="lineno"> 2529</span>            WeaponSlotAPI slot = variant.getSlot(slotId);</div>
<div class="line"><span class="lineno"> 2530</span>            <span class="keywordflow">if</span> (slot.isStationModule()) {</div>
<div class="line"><span class="lineno"> 2531</span>                ShipVariantAPI module = variant.getModuleVariant(slotId);</div>
<div class="line"><span class="lineno"> 2532</span>                <span class="keywordflow">if</span> (module == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2533</span>                <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a274c24ec32886d4926bafb01906150e9">lootHullMods</a>(member, module, mult);</div>
<div class="line"><span class="lineno"> 2534</span>            }</div>
<div class="line"><span class="lineno"> 2535</span>        }</div>
<div class="line"><span class="lineno"> 2536</span>    }</div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a374a195e17708daf73f13d2bca470847"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a374a195e17708daf73f13d2bca470847">com.fs.starfarer.api.campaign.CargoAPI.addHullmods</a></div><div class="ttdeci">void addHullmods(String id, int count)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae54c050fde572233113faa6de5833307" name="ae54c050fde572233113faa6de5833307"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae54c050fde572233113faa6de5833307">&#9670;&#160;</a></span>lootWeapons()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.lootWeapons </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d04/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a>&#160;</td>
          <td class="paramname"><em>variant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>own</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>mult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>lootingModule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02575">2575</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2575</span>                                                                                                                              {</div>
<div class="line"><span class="lineno"> 2576</span>        <span class="keywordflow">if</span> (variant == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2577</span>        <span class="keywordflow">if</span> (member.isFighterWing()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2578</span>        </div>
<div class="line"><span class="lineno"> 2579</span><span class="comment">//      if (own) {</span></div>
<div class="line"><span class="lineno"> 2580</span><span class="comment">//          System.out.println(&quot;238034wefwef&quot;);</span></div>
<div class="line"><span class="lineno"> 2581</span><span class="comment">//      }</span></div>
<div class="line"><span class="lineno"> 2582</span>        <span class="comment">//isUnremovable(</span></div>
<div class="line"><span class="lineno"> 2583</span>        <span class="keywordflow">if</span> (own &amp;&amp; !lootingModule &amp;&amp; member.getCaptain() != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><span class="lineno"> 2584</span>                member.getCaptain().getMemoryWithoutUpdate().contains(<span class="stringliteral">&quot;$aiCoreIdForRecovery&quot;</span>) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2585</span>                <span class="comment">//member.getCaptain().isAICore() &amp;&amp; </span></div>
<div class="line"><span class="lineno"> 2586</span>                !Misc.isUnremovable(member.getCaptain())) {</div>
<div class="line"><span class="lineno"> 2587</span>            <span class="comment">//loot.addItems(CargoItemType.RESOURCES, member.getCaptain().getAICoreId(), 1);</span></div>
<div class="line"><span class="lineno"> 2588</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(CargoItemType.RESOURCES,</div>
<div class="line"><span class="lineno"> 2589</span>                          member.getCaptain().getMemoryWithoutUpdate().getString(<span class="stringliteral">&quot;$aiCoreIdForRecovery&quot;</span>), 1);</div>
<div class="line"><span class="lineno"> 2590</span>        }</div>
<div class="line"><span class="lineno"> 2591</span>        </div>
<div class="line"><span class="lineno"> 2592</span>        Random random = Misc.random;</div>
<div class="line"><span class="lineno"> 2593</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) random = salvageRandom;</div>
<div class="line"><span class="lineno"> 2594</span>        </div>
<div class="line"><span class="lineno"> 2595</span>        <span class="keywordflow">if</span> (!own &amp;&amp; !lootingModule &amp;&amp; </div>
<div class="line"><span class="lineno"> 2596</span>                member.getCaptain().isAICore() &amp;&amp; !variant.hasTag(Tags.VARIANT_DO_NOT_DROP_AI_CORE_FROM_CAPTAIN)) {</div>
<div class="line"><span class="lineno"> 2597</span>            String cid = member.getCaptain().getAICoreId();</div>
<div class="line"><span class="lineno"> 2598</span>            <span class="keywordflow">if</span> (cid != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 2599</span>                CommoditySpecAPI spec = Global.getSettings().getCommoditySpec(cid);</div>
<div class="line"><span class="lineno"> 2600</span>                <span class="keywordflow">if</span> (!spec.hasTag(Tags.NO_DROP)) {</div>
<div class="line"><span class="lineno"> 2601</span>                    <span class="keywordtype">float</span> prob = Global.getSettings().getFloat(<span class="stringliteral">&quot;drop_prob_officer_&quot;</span> + cid);</div>
<div class="line"><span class="lineno"> 2602</span>                    <span class="keywordflow">if</span> (member.isStation()) {</div>
<div class="line"><span class="lineno"> 2603</span>                        prob *= Global.getSettings().getFloat(<span class="stringliteral">&quot;drop_prob_mult_ai_core_station&quot;</span>);</div>
<div class="line"><span class="lineno"> 2604</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (member.isFrigate()) {</div>
<div class="line"><span class="lineno"> 2605</span>                        prob *= Global.getSettings().getFloat(<span class="stringliteral">&quot;drop_prob_mult_ai_core_frigate&quot;</span>);</div>
<div class="line"><span class="lineno"> 2606</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (member.isDestroyer()) {</div>
<div class="line"><span class="lineno"> 2607</span>                        prob *= Global.getSettings().getFloat(<span class="stringliteral">&quot;drop_prob_mult_ai_core_destroyer&quot;</span>);</div>
<div class="line"><span class="lineno"> 2608</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (member.isCruiser()) {</div>
<div class="line"><span class="lineno"> 2609</span>                        prob *= Global.getSettings().getFloat(<span class="stringliteral">&quot;drop_prob_mult_ai_core_cruiser&quot;</span>);</div>
<div class="line"><span class="lineno"> 2610</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (member.isCapital()) {</div>
<div class="line"><span class="lineno"> 2611</span>                        prob *= Global.getSettings().getFloat(<span class="stringliteral">&quot;drop_prob_mult_ai_core_capital&quot;</span>);</div>
<div class="line"><span class="lineno"> 2612</span>                    }</div>
<div class="line"><span class="lineno"> 2613</span>                    <span class="keywordflow">if</span> (prob &gt; 0 &amp;&amp; random.nextFloat() &lt; prob) {</div>
<div class="line"><span class="lineno"> 2614</span>                        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(CargoItemType.RESOURCES, cid, 1);</div>
<div class="line"><span class="lineno"> 2615</span>                    }</div>
<div class="line"><span class="lineno"> 2616</span>                }</div>
<div class="line"><span class="lineno"> 2617</span>            }</div>
<div class="line"><span class="lineno"> 2618</span>            </div>
<div class="line"><span class="lineno"> 2619</span>        }</div>
<div class="line"><span class="lineno"> 2620</span>        </div>
<div class="line"><span class="lineno"> 2621</span>        <span class="keywordtype">float</span> p = Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageWeaponProb&quot;</span>);</div>
<div class="line"><span class="lineno"> 2622</span>        <span class="keywordflow">if</span> (own) {</div>
<div class="line"><span class="lineno"> 2623</span>            p = Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageOwnWeaponProb&quot;</span>);</div>
<div class="line"><span class="lineno"> 2624</span>            p = Global.getSector().getPlayerFleet().getStats().getDynamic().getValue(Stats.OWN_WEAPON_RECOVERY_MOD, p);</div>
<div class="line"><span class="lineno"> 2625</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2626</span>            p = Global.getSector().getPlayerFleet().getStats().getDynamic().getValue(Stats.ENEMY_WEAPON_RECOVERY_MOD, p);</div>
<div class="line"><span class="lineno"> 2627</span>        }</div>
<div class="line"><span class="lineno"> 2628</span>        <span class="keywordtype">boolean</span> alreadyStripped = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab">recoverableShips</a>.contains(member);</div>
<div class="line"><span class="lineno"> 2629</span>        </div>
<div class="line"><span class="lineno"> 2630</span> </div>
<div class="line"><span class="lineno"> 2631</span>        Set&lt;String&gt; <span class="keyword">remove</span> = <span class="keyword">new</span> HashSet&lt;String&gt;();</div>
<div class="line"><span class="lineno"> 2632</span>        </div>
<div class="line"><span class="lineno"> 2633</span>        <span class="comment">// there&#39;s another failsafe for OMEGA specifically, see SalvageDefenderInteraction.postPlayerSalvageGeneration()</span></div>
<div class="line"><span class="lineno"> 2634</span>        <span class="keywordflow">if</span> (variant.hasTag(Tags.VARIANT_CONSISTENT_WEAPON_DROPS)) {</div>
<div class="line"><span class="lineno"> 2635</span>            <span class="keywordflow">for</span> (String slotId : variant.getNonBuiltInWeaponSlots()) {</div>
<div class="line"><span class="lineno"> 2636</span>                String weaponId = variant.getWeaponId(slotId);</div>
<div class="line"><span class="lineno"> 2637</span>                <span class="keywordflow">if</span> (weaponId == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2638</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a6bd410e9dd402027cc79cad38ecc20f7">getNumWeapons</a>(weaponId) &lt;= 0) {</div>
<div class="line"><span class="lineno"> 2639</span>                    WeaponSpecAPI spec = Global.getSettings().getWeaponSpec(weaponId);</div>
<div class="line"><span class="lineno"> 2640</span>                    <span class="keywordflow">if</span> (spec.hasTag(Tags.NO_DROP)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2641</span>                    </div>
<div class="line"><span class="lineno"> 2642</span>                    <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a5319db26355ad2a4a9b85faad9439106">addWeapons</a>(weaponId, 1);</div>
<div class="line"><span class="lineno"> 2643</span>                    <span class="keyword">remove</span>.add(slotId);</div>
<div class="line"><span class="lineno"> 2644</span>                }</div>
<div class="line"><span class="lineno"> 2645</span>            }</div>
<div class="line"><span class="lineno"> 2646</span>        }</div>
<div class="line"><span class="lineno"> 2647</span>        </div>
<div class="line"><span class="lineno"> 2648</span>        <span class="keywordflow">for</span> (String slotId : variant.getNonBuiltInWeaponSlots()) {</div>
<div class="line"><span class="lineno"> 2649</span>            <span class="keywordflow">if</span> (<span class="keyword">remove</span>.contains(slotId)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2650</span>            <span class="comment">//if ((float) Math.random() * mult &gt; 0.75f) {</span></div>
<div class="line"><span class="lineno"> 2651</span>            <span class="keywordflow">if</span> (!alreadyStripped) {</div>
<div class="line"><span class="lineno"> 2652</span>                <span class="keywordflow">if</span> (random.nextFloat() &gt; mult) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2653</span>                <span class="keywordflow">if</span> (random.nextFloat() &gt; p) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2654</span>            }</div>
<div class="line"><span class="lineno"> 2655</span>            </div>
<div class="line"><span class="lineno"> 2656</span>            String weaponId = variant.getWeaponId(slotId);</div>
<div class="line"><span class="lineno"> 2657</span>            WeaponSpecAPI spec = Global.getSettings().getWeaponSpec(weaponId);</div>
<div class="line"><span class="lineno"> 2658</span>            <span class="keywordflow">if</span> (spec.hasTag(Tags.NO_DROP)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2659</span>            </div>
<div class="line"><span class="lineno"> 2660</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(CargoAPI.CargoItemType.WEAPONS, weaponId, 1);</div>
<div class="line"><span class="lineno"> 2661</span>            <span class="keyword">remove</span>.add(slotId);</div>
<div class="line"><span class="lineno"> 2662</span>        }</div>
<div class="line"><span class="lineno"> 2663</span>        </div>
<div class="line"><span class="lineno"> 2664</span>        </div>
<div class="line"><span class="lineno"> 2665</span>        <span class="keywordflow">for</span> (String slotId : variant.getModuleSlots()) {</div>
<div class="line"><span class="lineno"> 2666</span>            WeaponSlotAPI slot = variant.getSlot(slotId);</div>
<div class="line"><span class="lineno"> 2667</span>            <span class="keywordflow">if</span> (slot.isStationModule()) {</div>
<div class="line"><span class="lineno"> 2668</span>                ShipVariantAPI module = variant.getModuleVariant(slotId);</div>
<div class="line"><span class="lineno"> 2669</span>                <span class="keywordflow">if</span> (module == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2670</span>                <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ae54c050fde572233113faa6de5833307">lootWeapons</a>(member, module, own, mult, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2671</span>            }</div>
<div class="line"><span class="lineno"> 2672</span>        }       </div>
<div class="line"><span class="lineno"> 2673</span>        <span class="comment">// DO NOT DO THIS - no point in removing them here since the ship is scrapped</span></div>
<div class="line"><span class="lineno"> 2674</span>        <span class="comment">// and would need to clone the variant to do this right</span></div>
<div class="line"><span class="lineno"> 2675</span><span class="comment">//      for (String slotId : remove) {</span></div>
<div class="line"><span class="lineno"> 2676</span><span class="comment">//          variant.clearSlot(slotId);</span></div>
<div class="line"><span class="lineno"> 2677</span><span class="comment">//      }</span></div>
<div class="line"><span class="lineno"> 2678</span>        <span class="comment">//System.out.println(&quot;Cleared variant: &quot; + variant.getHullVariantId());</span></div>
<div class="line"><span class="lineno"> 2679</span>    }</div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a5319db26355ad2a4a9b85faad9439106"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a5319db26355ad2a4a9b85faad9439106">com.fs.starfarer.api.campaign.CargoAPI.addWeapons</a></div><div class="ttdeci">void addWeapons(String id, int count)</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI_html_a6bd410e9dd402027cc79cad38ecc20f7"><div class="ttname"><a href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#a6bd410e9dd402027cc79cad38ecc20f7">com.fs.starfarer.api.campaign.CargoAPI.getNumWeapons</a></div><div class="ttdeci">int getNumWeapons(String id)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b3bf7dfe563c9dc263819f15e92a4d5" name="a0b3bf7dfe563c9dc263819f15e92a4d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b3bf7dfe563c9dc263819f15e92a4d5">&#9670;&#160;</a></span>lootWings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.lootWings </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d04/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1ShipVariantAPI.html">ShipVariantAPI</a>&#160;</td>
          <td class="paramname"><em>variant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>own</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>mult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02538">2538</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2538</span>                                                                                                     {</div>
<div class="line"><span class="lineno"> 2539</span>        <span class="keywordflow">if</span> (variant == <span class="keyword">null</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2540</span>        <span class="keywordflow">if</span> (member.isFighterWing()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2541</span>        Random random = Misc.random;</div>
<div class="line"><span class="lineno"> 2542</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) random = salvageRandom;</div>
<div class="line"><span class="lineno"> 2543</span>        </div>
<div class="line"><span class="lineno"> 2544</span>        <span class="keywordtype">float</span> p = Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageWingProb&quot;</span>);</div>
<div class="line"><span class="lineno"> 2545</span>        <span class="keywordflow">if</span> (own) {</div>
<div class="line"><span class="lineno"> 2546</span>            p = Global.getSettings().getFloat(<span class="stringliteral">&quot;salvageOwnWingProb&quot;</span>);</div>
<div class="line"><span class="lineno"> 2547</span>            p = Global.getSector().getPlayerFleet().getStats().getDynamic().getValue(Stats.OWN_WING_RECOVERY_MOD, p);</div>
<div class="line"><span class="lineno"> 2548</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2549</span>            p = Global.getSector().getPlayerFleet().getStats().getDynamic().getValue(Stats.ENEMY_WING_RECOVERY_MOD, p);</div>
<div class="line"><span class="lineno"> 2550</span>        }</div>
<div class="line"><span class="lineno"> 2551</span>        </div>
<div class="line"><span class="lineno"> 2552</span>        <span class="keywordtype">boolean</span> alreadyStripped = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a2a4651bd161abe00bb31c825d54ccdab">recoverableShips</a>.contains(member);</div>
<div class="line"><span class="lineno"> 2553</span>        </div>
<div class="line"><span class="lineno"> 2554</span>        <span class="keywordflow">for</span> (String <span class="keywordtype">id</span> : variant.getNonBuiltInWings()) {</div>
<div class="line"><span class="lineno"> 2555</span>            <span class="keywordflow">if</span> (!alreadyStripped) {</div>
<div class="line"><span class="lineno"> 2556</span>                <span class="keywordflow">if</span> (random.nextFloat() &gt; mult) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2557</span>                <span class="keywordflow">if</span> (random.nextFloat() &gt; p) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2558</span>            }</div>
<div class="line"><span class="lineno"> 2559</span>                </div>
<div class="line"><span class="lineno"> 2560</span>            FighterWingSpecAPI spec = Global.getSettings().getFighterWingSpec(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno"> 2561</span>            <span class="keywordflow">if</span> (spec.hasTag(Tags.WING_NO_DROP)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2562</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a81b33f41e79f3c37f8959b793ed77c66">loot</a>.<a class="code hl_function" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html#ad69f0c7e417fed4f2f2aa5e164eb390a">addItems</a>(CargoItemType.FIGHTER_CHIP, <span class="keywordtype">id</span>, 1);</div>
<div class="line"><span class="lineno"> 2563</span>        }</div>
<div class="line"><span class="lineno"> 2564</span>        </div>
<div class="line"><span class="lineno"> 2565</span>        <span class="keywordflow">for</span> (String slotId : variant.getModuleSlots()) {</div>
<div class="line"><span class="lineno"> 2566</span>            WeaponSlotAPI slot = variant.getSlot(slotId);</div>
<div class="line"><span class="lineno"> 2567</span>            <span class="keywordflow">if</span> (slot.isStationModule()) {</div>
<div class="line"><span class="lineno"> 2568</span>                ShipVariantAPI module = variant.getModuleVariant(slotId);</div>
<div class="line"><span class="lineno"> 2569</span>                <span class="keywordflow">if</span> (module == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2570</span>                <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a0b3bf7dfe563c9dc263819f15e92a4d5">lootWings</a>(member, module, own, mult);</div>
<div class="line"><span class="lineno"> 2571</span>            }</div>
<div class="line"><span class="lineno"> 2572</span>        }</div>
<div class="line"><span class="lineno"> 2573</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f493c97affe8d8dcf6e44a4987925ca" name="a5f493c97affe8d8dcf6e44a4987925ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f493c97affe8d8dcf6e44a4987925ca">&#9670;&#160;</a></span>performPostEngagementRecoveryBoth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.performPostEngagementRecoveryBoth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00850">850</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  850</span>                                                                               {</div>
<div class="line"><span class="lineno">  851</span>        EngagementResultForFleetAPI winnerResult = result.getWinnerResult();</div>
<div class="line"><span class="lineno">  852</span>        EngagementResultForFleetAPI loserResult = result.getLoserResult();</div>
<div class="line"><span class="lineno">  853</span>        <span class="keywordtype">float</span> f = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8cb0f56073b77ade1d8155013d603647">performPostVictoryRecovery</a>(winnerResult, loserResult);</div>
<div class="line"><span class="lineno">  854</span>        f += <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8cb0f56073b77ade1d8155013d603647">performPostVictoryRecovery</a>(loserResult, winnerResult);</div>
<div class="line"><span class="lineno">  855</span>        f /= 2f;</div>
<div class="line"><span class="lineno">  856</span>        <span class="keywordflow">return</span> f;</div>
<div class="line"><span class="lineno">  857</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a8cb0f56073b77ade1d8155013d603647"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8cb0f56073b77ade1d8155013d603647">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.performPostVictoryRecovery</a></div><div class="ttdeci">float performPostVictoryRecovery(EngagementResultAPI result)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00845">FleetEncounterContext.java:845</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8cb0f56073b77ade1d8155013d603647" name="a8cb0f56073b77ade1d8155013d603647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cb0f56073b77ade1d8155013d603647">&#9670;&#160;</a></span>performPostVictoryRecovery() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.performPostVictoryRecovery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns average recovery per ship, in the range from 0 to 1. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#a336b6b4f4619b7dc472dbc2d51b3f4fb">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00845">845</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  845</span>                                                                        {</div>
<div class="line"><span class="lineno">  846</span>        EngagementResultForFleetAPI winnerResult = result.getWinnerResult();</div>
<div class="line"><span class="lineno">  847</span>        EngagementResultForFleetAPI loserResult = result.getLoserResult();</div>
<div class="line"><span class="lineno">  848</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a8cb0f56073b77ade1d8155013d603647">performPostVictoryRecovery</a>(winnerResult, loserResult);</div>
<div class="line"><span class="lineno">  849</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ee25f6b85f85660ed294042c5dc3b25" name="a0ee25f6b85f85660ed294042c5dc3b25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ee25f6b85f85660ed294042c5dc3b25">&#9670;&#160;</a></span>performPostVictoryRecovery() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.performPostVictoryRecovery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a>&#160;</td>
          <td class="paramname"><em>winnerResult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a>&#160;</td>
          <td class="paramname"><em>loserResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00860">860</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  860</span>                                                                                                                               {</div>
<div class="line"><span class="lineno">  861</span>        DataForEncounterSide winnerData = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(winnerResult.getFleet());</div>
<div class="line"><span class="lineno">  862</span>        DataForEncounterSide loserData = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(loserResult.getFleet());</div>
<div class="line"><span class="lineno">  863</span>        </div>
<div class="line"><span class="lineno">  864</span>        <span class="comment">//float totalFpUsed = 0f;</span></div>
<div class="line"><span class="lineno">  865</span>        <span class="keywordtype">float</span> loserDepDestroyed = 0f;</div>
<div class="line"><span class="lineno">  866</span>        <span class="keywordtype">float</span> loserDepLeft = 0f;</div>
<div class="line"><span class="lineno">  867</span>        </div>
<div class="line"><span class="lineno">  868</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : loserData.getRetreatedFromLastEngagement()) {</div>
<div class="line"><span class="lineno">  869</span>            loserDepLeft += member.getDeploymentPointsCost();</div>
<div class="line"><span class="lineno">  870</span>        }</div>
<div class="line"><span class="lineno">  871</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : loserData.getInReserveDuringLastEngagement()) {</div>
<div class="line"><span class="lineno">  872</span>            loserDepLeft += member.getDeploymentPointsCost();</div>
<div class="line"><span class="lineno">  873</span>        }</div>
<div class="line"><span class="lineno">  874</span>        </div>
<div class="line"><span class="lineno">  875</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : loserData.getDestroyedInLastEngagement()) {</div>
<div class="line"><span class="lineno">  876</span>            loserDepDestroyed += member.getDeploymentPointsCost();</div>
<div class="line"><span class="lineno">  877</span>        }</div>
<div class="line"><span class="lineno">  878</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : loserData.getDisabledInLastEngagement()) {</div>
<div class="line"><span class="lineno">  879</span>            loserDepDestroyed += member.getDeploymentPointsCost();</div>
<div class="line"><span class="lineno">  880</span>        }</div>
<div class="line"><span class="lineno">  881</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : loserData.getRetreatedFromLastEngagement()) {</div>
<div class="line"><span class="lineno">  882</span>            <span class="keywordflow">if</span> (member.isFighterWing()) {</div>
<div class="line"><span class="lineno">  883</span>                DeployedFleetMemberAPI dfm = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(loserData.getFleet()).getMemberToDeployedMap().get(member);</div>
<div class="line"><span class="lineno">  884</span>                <span class="keywordflow">if</span> (dfm != <span class="keyword">null</span> &amp;&amp; dfm.getMember() == member) {</div>
<div class="line"><span class="lineno">  885</span>                    <span class="keywordtype">float</span> deploymentCR = dfm.getShip().getWingCRAtDeployment();</div>
<div class="line"><span class="lineno">  886</span>                    <span class="keywordtype">float</span> finalCR = deploymentCR;</div>
<div class="line"><span class="lineno">  887</span>                    <span class="comment">//float finalCR = dfm.getShip().getRemainingWingCR();</span></div>
<div class="line"><span class="lineno">  888</span>                    <span class="keywordflow">if</span> (deploymentCR &gt; finalCR) {</div>
<div class="line"><span class="lineno">  889</span>                        <span class="keywordtype">float</span> crPer = dfm.getMember().getStats().getCRPerDeploymentPercent().computeEffective(dfm.getMember().getVariant().getHullSpec().getCRToDeploy()) / 100f;</div>
<div class="line"><span class="lineno">  890</span>                        <span class="keywordtype">float</span> extraCraftLost = (deploymentCR - finalCR) / crPer;</div>
<div class="line"><span class="lineno">  891</span>                        <span class="keywordtype">float</span> wingSize = dfm.getMember().getNumFightersInWing();</div>
<div class="line"><span class="lineno">  892</span>                        <span class="keywordflow">if</span> (extraCraftLost &gt;= 1) {</div>
<div class="line"><span class="lineno">  893</span>                            loserDepDestroyed += Math.min(1f, extraCraftLost / wingSize) * member.getDeploymentPointsCost();</div>
<div class="line"><span class="lineno">  894</span>                        }</div>
<div class="line"><span class="lineno">  895</span>                    }</div>
<div class="line"><span class="lineno">  896</span>                }</div>
<div class="line"><span class="lineno">  897</span>            }</div>
<div class="line"><span class="lineno">  898</span>        }</div>
<div class="line"><span class="lineno">  899</span> </div>
<div class="line"><span class="lineno">  900</span>        <span class="keywordtype">float</span> totalRecovery = 0f;</div>
<div class="line"><span class="lineno">  901</span>        <span class="keywordtype">float</span> count = 0f;</div>
<div class="line"><span class="lineno">  902</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : winnerData.getDeployedInLastEngagement()) {</div>
<div class="line"><span class="lineno">  903</span>            <span class="keywordtype">float</span> dp = member.getDeploymentPointsCost();</div>
<div class="line"><span class="lineno">  904</span>            <span class="keywordtype">float</span> recoveryFraction = Math.max(0, (dp * 1.25f - loserDepDestroyed)) / dp;</div>
<div class="line"><span class="lineno">  905</span><span class="comment">//          if (member.getFleetData() != null &amp;&amp; member.getFleetData().getFleet() != null &amp;&amp;</span></div>
<div class="line"><span class="lineno">  906</span><span class="comment">//                  member.getFleetData().getFleet().isPlayerFleet()) {</span></div>
<div class="line"><span class="lineno">  907</span>            <span class="keywordflow">if</span> (loserDepDestroyed &gt; loserDepLeft * 2f) {</div>
<div class="line"><span class="lineno">  908</span>                recoveryFraction = Math.max(0, (dp * 0.75f - loserDepDestroyed)) / dp; </div>
<div class="line"><span class="lineno">  909</span>            }</div>
<div class="line"><span class="lineno">  910</span>            <span class="keywordflow">if</span> (recoveryFraction &gt; 1f) recoveryFraction = 1f;</div>
<div class="line"><span class="lineno">  911</span>            <span class="keywordflow">if</span> (loserDepDestroyed &lt;= 0) recoveryFraction = 1f;</div>
<div class="line"><span class="lineno">  912</span>            </div>
<div class="line"><span class="lineno">  913</span>            <span class="keywordtype">float</span> deployCost = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad2bd1e7c4546d77cd2433ed0f996a41b">getDeployCost</a>(member);</div>
<div class="line"><span class="lineno">  914</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa">preEngagementCRForWinner</a>.containsKey(member)) {</div>
<div class="line"><span class="lineno">  915</span>                <span class="keywordtype">float</span> prevCR = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a854bd1a92d475fac4a320a872d4d30fa">preEngagementCRForWinner</a>.get(member);</div>
<div class="line"><span class="lineno">  916</span>                <span class="keywordflow">if</span> (prevCR &lt; deployCost) {</div>
<div class="line"><span class="lineno">  917</span>                    prevCR = deployCost;</div>
<div class="line"><span class="lineno">  918</span>                }</div>
<div class="line"><span class="lineno">  919</span>            }</div>
<div class="line"><span class="lineno">  920</span>            </div>
<div class="line"><span class="lineno">  921</span>            <span class="keywordtype">float</span> recoveryAmount = Math.round(deployCost * recoveryFraction * 100f) / 100f;</div>
<div class="line"><span class="lineno">  922</span>            </div>
<div class="line"><span class="lineno">  923</span>            totalRecovery += recoveryAmount;</div>
<div class="line"><span class="lineno">  924</span>            count++;</div>
<div class="line"><span class="lineno">  925</span>            </div>
<div class="line"><span class="lineno">  926</span>            <span class="keywordflow">if</span> (recoveryAmount &lt;= 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  927</span>            </div>
<div class="line"><span class="lineno">  928</span>            </div>
<div class="line"><span class="lineno">  929</span>            member.getRepairTracker().applyCREvent(recoveryAmount, <span class="stringliteral">&quot;Post engagement recovery&quot;</span>);</div>
<div class="line"><span class="lineno">  930</span>        }</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>        <span class="keywordflow">if</span> (count &lt;= 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  933</span>        </div>
<div class="line"><span class="lineno">  934</span>        <span class="keywordflow">return</span> Math.round(totalRecovery / count * 100f) / 100f;</div>
<div class="line"><span class="lineno">  935</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a65d24aed1b8bb535302e5a095a041fff" name="a65d24aed1b8bb535302e5a095a041fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65d24aed1b8bb535302e5a095a041fff">&#9670;&#160;</a></span>prepareModuleForRecovery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.prepareModuleForRecovery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>moduleSlotId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>retainAllHullmods</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>retainKnownHullmods</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>clearSMods</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>weaponRetainProb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>wingRetainProb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Random&#160;</td>
          <td class="paramname"><em>salvageRandom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01852">1852</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1854</span>                                                                                {</div>
<div class="line"><span class="lineno"> 1855</span>        </div>
<div class="line"><span class="lineno"> 1856</span>        ShipVariantAPI moduleCurrent = member.getVariant().getModuleVariant(moduleSlotId);</div>
<div class="line"><span class="lineno"> 1857</span>        <span class="keywordflow">if</span> (moduleCurrent == <span class="keyword">null</span>) <span class="keywordflow">return</span>;  </div>
<div class="line"><span class="lineno"> 1858</span>        </div>
<div class="line"><span class="lineno"> 1859</span>        moduleCurrent = moduleCurrent.clone();</div>
<div class="line"><span class="lineno"> 1860</span>        moduleCurrent.setOriginalVariant(<span class="keyword">null</span>);</div>
<div class="line"><span class="lineno"> 1861</span>        <span class="keywordflow">if</span> (retainAllHullmods) {</div>
<div class="line"><span class="lineno"> 1862</span>            <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 1863</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (retainKnownHullmods) {</div>
<div class="line"><span class="lineno"> 1864</span>            <span class="keywordflow">for</span> (String modId : <span class="keyword">new</span> ArrayList&lt;String&gt;(moduleCurrent.getHullMods())) {</div>
<div class="line"><span class="lineno"> 1865</span>                <span class="keywordflow">if</span> (!Global.getSector().getPlayerFaction().knowsHullMod(modId)) {</div>
<div class="line"><span class="lineno"> 1866</span>                    moduleCurrent.removeMod(modId);</div>
<div class="line"><span class="lineno"> 1867</span>                }</div>
<div class="line"><span class="lineno"> 1868</span>            }</div>
<div class="line"><span class="lineno"> 1869</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1870</span>            moduleCurrent.clearHullMods();</div>
<div class="line"><span class="lineno"> 1871</span>            moduleCurrent.setNumFluxCapacitors(0);</div>
<div class="line"><span class="lineno"> 1872</span>            moduleCurrent.setNumFluxVents(0);</div>
<div class="line"><span class="lineno"> 1873</span>        }</div>
<div class="line"><span class="lineno"> 1874</span>        </div>
<div class="line"><span class="lineno"> 1875</span>        <span class="keywordflow">if</span> (clearSMods &amp;&amp; !moduleCurrent.hasTag(Tags.VARIANT_ALWAYS_RETAIN_SMODS_ON_SALVAGE)) {</div>
<div class="line"><span class="lineno"> 1876</span>            <span class="keywordflow">for</span> (String <span class="keywordtype">id</span> : <span class="keyword">new</span> ArrayList&lt;String&gt;(moduleCurrent.getSMods())) {</div>
<div class="line"><span class="lineno"> 1877</span>                moduleCurrent.removePermaMod(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno"> 1878</span>            }</div>
<div class="line"><span class="lineno"> 1879</span>        }</div>
<div class="line"><span class="lineno"> 1880</span>        </div>
<div class="line"><span class="lineno"> 1881</span>        moduleCurrent.setSource(VariantSource.REFIT);</div>
<div class="line"><span class="lineno"> 1882</span>        member.getVariant().setModuleVariant(moduleSlotId, moduleCurrent);</div>
<div class="line"><span class="lineno"> 1883</span>        </div>
<div class="line"><span class="lineno"> 1884</span>        List&lt;String&gt; <span class="keyword">remove</span> = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div>
<div class="line"><span class="lineno"> 1885</span> </div>
<div class="line"><span class="lineno"> 1886</span>        Random random = Misc.random;</div>
<div class="line"><span class="lineno"> 1887</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) random = salvageRandom;</div>
<div class="line"><span class="lineno"> 1888</span> </div>
<div class="line"><span class="lineno"> 1889</span>        <span class="keywordflow">for</span> (String slotId : moduleCurrent.getNonBuiltInWeaponSlots()) {</div>
<div class="line"><span class="lineno"> 1890</span>            <span class="keywordflow">if</span> (random.nextFloat() &gt; weaponRetainProb) {</div>
<div class="line"><span class="lineno"> 1891</span>                <span class="keyword">remove</span>.add(slotId);</div>
<div class="line"><span class="lineno"> 1892</span>            }</div>
<div class="line"><span class="lineno"> 1893</span>        }</div>
<div class="line"><span class="lineno"> 1894</span>        <span class="keywordflow">for</span> (String slotId : <span class="keyword">remove</span>) {</div>
<div class="line"><span class="lineno"> 1895</span>            moduleCurrent.clearSlot(slotId);</div>
<div class="line"><span class="lineno"> 1896</span>        }</div>
<div class="line"><span class="lineno"> 1897</span> </div>
<div class="line"><span class="lineno"> 1898</span>        <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><span class="lineno"> 1899</span>        <span class="keywordflow">for</span> (String <span class="keywordtype">id</span> : moduleCurrent.getFittedWings()) {</div>
<div class="line"><span class="lineno"> 1900</span>            <span class="keywordflow">if</span> (random.nextFloat() &gt; wingRetainProb) {</div>
<div class="line"><span class="lineno"> 1901</span>                moduleCurrent.setWingId(index, <span class="keyword">null</span>); <span class="comment">// won&#39;t clear out built-in wings</span></div>
<div class="line"><span class="lineno"> 1902</span>            }</div>
<div class="line"><span class="lineno"> 1903</span>            index++;</div>
<div class="line"><span class="lineno"> 1904</span>        }</div>
<div class="line"><span class="lineno"> 1905</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7578c47873e1e682571cd4bea8c6ca03" name="a7578c47873e1e682571cd4bea8c6ca03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7578c47873e1e682571cd4bea8c6ca03">&#9670;&#160;</a></span>prepareShipForRecovery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.prepareShipForRecovery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>retainAllHullmods</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>retainKnownHullmods</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>clearSMods</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>weaponRetainProb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>wingRetainProb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Random&#160;</td>
          <td class="paramname"><em>salvageRandom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01771">1771</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1773</span>                                                                                        {</div>
<div class="line"><span class="lineno"> 1774</span>        ShipVariantAPI variant = member.getVariant().clone();</div>
<div class="line"><span class="lineno"> 1775</span>        variant.setOriginalVariant(<span class="keyword">null</span>);</div>
<div class="line"><span class="lineno"> 1776</span>        <span class="keywordflow">if</span> (retainAllHullmods) {</div>
<div class="line"><span class="lineno"> 1777</span>            <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 1778</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (retainKnownHullmods) {</div>
<div class="line"><span class="lineno"> 1779</span>            <span class="keywordflow">for</span> (String modId : <span class="keyword">new</span> ArrayList&lt;String&gt;(variant.getHullMods())) {</div>
<div class="line"><span class="lineno"> 1780</span>                <span class="keywordflow">if</span> (!Global.getSector().getPlayerFaction().knowsHullMod(modId)) {</div>
<div class="line"><span class="lineno"> 1781</span>                    variant.removeMod(modId);</div>
<div class="line"><span class="lineno"> 1782</span>                }</div>
<div class="line"><span class="lineno"> 1783</span>            }</div>
<div class="line"><span class="lineno"> 1784</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1785</span>            variant.clearHullMods();</div>
<div class="line"><span class="lineno"> 1786</span>            variant.setNumFluxCapacitors(0);</div>
<div class="line"><span class="lineno"> 1787</span>            variant.setNumFluxVents(0);</div>
<div class="line"><span class="lineno"> 1788</span>        }</div>
<div class="line"><span class="lineno"> 1789</span>        </div>
<div class="line"><span class="lineno"> 1790</span>        <span class="keywordflow">if</span> (clearSMods &amp;&amp; !variant.hasTag(Tags.VARIANT_ALWAYS_RETAIN_SMODS_ON_SALVAGE)) {</div>
<div class="line"><span class="lineno"> 1791</span>            <span class="keywordflow">for</span> (String <span class="keywordtype">id</span> : <span class="keyword">new</span> ArrayList&lt;String&gt;(variant.getSMods())) {</div>
<div class="line"><span class="lineno"> 1792</span>                variant.removePermaMod(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno"> 1793</span>            }</div>
<div class="line"><span class="lineno"> 1794</span>        }</div>
<div class="line"><span class="lineno"> 1795</span>        </div>
<div class="line"><span class="lineno"> 1796</span>        variant.setSource(VariantSource.REFIT);</div>
<div class="line"><span class="lineno"> 1797</span>        member.setVariant(variant, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1798</span>        List&lt;String&gt; <span class="keyword">remove</span> = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div>
<div class="line"><span class="lineno"> 1799</span>        </div>
<div class="line"><span class="lineno"> 1800</span><span class="comment">//      if (!retainHullmods) {</span></div>
<div class="line"><span class="lineno"> 1801</span><span class="comment">//          variant.clearHullMods();</span></div>
<div class="line"><span class="lineno"> 1802</span><span class="comment">//          variant.setNumFluxCapacitors(0);</span></div>
<div class="line"><span class="lineno"> 1803</span><span class="comment">//          variant.setNumFluxVents(0);</span></div>
<div class="line"><span class="lineno"> 1804</span><span class="comment">//      }</span></div>
<div class="line"><span class="lineno"> 1805</span>        </div>
<div class="line"><span class="lineno"> 1806</span>        Random random = <span class="keyword">new</span> Random();</div>
<div class="line"><span class="lineno"> 1807</span>        <span class="keywordflow">if</span> (salvageRandom != <span class="keyword">null</span>) random = salvageRandom;</div>
<div class="line"><span class="lineno"> 1808</span>        </div>
<div class="line"><span class="lineno"> 1809</span>        <span class="keywordflow">if</span> (!member.isFighterWing()) {</div>
<div class="line"><span class="lineno"> 1810</span>            <span class="keywordflow">for</span> (String slotId : variant.getNonBuiltInWeaponSlots()) {</div>
<div class="line"><span class="lineno"> 1811</span>                <span class="keywordflow">if</span> (random.nextFloat() &gt; weaponRetainProb) {</div>
<div class="line"><span class="lineno"> 1812</span>                    <span class="keyword">remove</span>.add(slotId);</div>
<div class="line"><span class="lineno"> 1813</span>                }</div>
<div class="line"><span class="lineno"> 1814</span>            }</div>
<div class="line"><span class="lineno"> 1815</span>            <span class="keywordflow">for</span> (String slotId : <span class="keyword">remove</span>) {</div>
<div class="line"><span class="lineno"> 1816</span>                variant.clearSlot(slotId);</div>
<div class="line"><span class="lineno"> 1817</span>            }</div>
<div class="line"><span class="lineno"> 1818</span>            </div>
<div class="line"><span class="lineno"> 1819</span>            <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><span class="lineno"> 1820</span>            <span class="keywordflow">for</span> (String <span class="keywordtype">id</span> : variant.getFittedWings()) {</div>
<div class="line"><span class="lineno"> 1821</span>                <span class="keywordflow">if</span> (random.nextFloat() &gt; wingRetainProb) {</div>
<div class="line"><span class="lineno"> 1822</span>                    variant.setWingId(index, <span class="keyword">null</span>); <span class="comment">// won&#39;t clear out built-in wings</span></div>
<div class="line"><span class="lineno"> 1823</span>                }</div>
<div class="line"><span class="lineno"> 1824</span>                index++;</div>
<div class="line"><span class="lineno"> 1825</span>            }</div>
<div class="line"><span class="lineno"> 1826</span>        }</div>
<div class="line"><span class="lineno"> 1827</span>        </div>
<div class="line"><span class="lineno"> 1828</span>        <span class="keywordflow">for</span> (String slotId : variant.getStationModules().keySet()) {</div>
<div class="line"><span class="lineno"> 1829</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a65d24aed1b8bb535302e5a095a041fff">prepareModuleForRecovery</a>(member, slotId, </div>
<div class="line"><span class="lineno"> 1830</span>                    retainAllHullmods, retainKnownHullmods, clearSMods, weaponRetainProb, wingRetainProb, salvageRandom);</div>
<div class="line"><span class="lineno"> 1831</span>        }</div>
<div class="line"><span class="lineno"> 1832</span>        </div>
<div class="line"><span class="lineno"> 1833</span>        </div>
<div class="line"><span class="lineno"> 1834</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; member.getStatus().getNumStatuses(); i++) {</div>
<div class="line"><span class="lineno"> 1835</span>            <span class="keywordflow">if</span> (random.nextFloat() &gt; 0.5f) {</div>
<div class="line"><span class="lineno"> 1836</span>                member.getStatus().setDetached(i, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1837</span>                member.getStatus().setHullFraction(i, 0.1f + 0.1f * random.nextFloat());</div>
<div class="line"><span class="lineno"> 1838</span>            }</div>
<div class="line"><span class="lineno"> 1839</span>        }</div>
<div class="line"><span class="lineno"> 1840</span>    </div>
<div class="line"><span class="lineno"> 1841</span>        <span class="comment">// get rid of any short-term modifiers, such as &quot;0 repair rate during emergency burn&quot;</span></div>
<div class="line"><span class="lineno"> 1842</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) {</div>
<div class="line"><span class="lineno"> 1843</span>            member.getBuffManager().advance(1f);</div>
<div class="line"><span class="lineno"> 1844</span>        }</div>
<div class="line"><span class="lineno"> 1845</span><span class="comment">//      for (Buff buff : new ArrayList&lt;Buff&gt;(member.getBuffManager().getBuffs())) {</span></div>
<div class="line"><span class="lineno"> 1846</span><span class="comment">//          member.getBuffManager().removeBuff(buff.getId());</span></div>
<div class="line"><span class="lineno"> 1847</span><span class="comment">//      }</span></div>
<div class="line"><span class="lineno"> 1848</span>        </div>
<div class="line"><span class="lineno"> 1849</span>        variant.addTag(Tags.SHIP_RECOVERABLE);</div>
<div class="line"><span class="lineno"> 1850</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a65d24aed1b8bb535302e5a095a041fff"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a65d24aed1b8bb535302e5a095a041fff">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.prepareModuleForRecovery</a></div><div class="ttdeci">static void prepareModuleForRecovery(FleetMemberAPI member, String moduleSlotId, boolean retainAllHullmods, boolean retainKnownHullmods, boolean clearSMods, float weaponRetainProb, float wingRetainProb, Random salvageRandom)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01852">FleetEncounterContext.java:1852</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af4e6049ced9ef64fdc197186cc808cdc" name="af4e6049ced9ef64fdc197186cc808cdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e6049ced9ef64fdc197186cc808cdc">&#9670;&#160;</a></span>processEngagementResults()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.processEngagementResults </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d01/interfacecom_1_1fs_1_1starfarer_1_1api_1_1combat_1_1EngagementResultAPI.html">EngagementResultAPI</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00227">227</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  227</span>                                                                     {</div>
<div class="line"><span class="lineno">  228</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  229</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">engagedInActualBattle</a> = <span class="keyword">true</span>; <span class="comment">// whether autoresolve or not, there was actual fighting</span></div>
<div class="line"><span class="lineno">  230</span>        </div>
<div class="line"><span class="lineno">  231</span>        <span class="comment">// the fleets we get back here are combined fleets from the BattleAPI,</span></div>
<div class="line"><span class="lineno">  232</span>        <span class="comment">// NOT the actual fleets involved, even if it&#39;s a 1 vs 1 battle.</span></div>
<div class="line"><span class="lineno">  233</span>        EngagementResultForFleetAPI winnerResult = result.getWinnerResult();</div>
<div class="line"><span class="lineno">  234</span>        EngagementResultForFleetAPI loserResult = result.getLoserResult();</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a894e47d162794f5428b18b95945cd9ea">clearNoSourceMembers</a>(winnerResult);</div>
<div class="line"><span class="lineno">  237</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a894e47d162794f5428b18b95945cd9ea">clearNoSourceMembers</a>(loserResult);</div>
<div class="line"><span class="lineno">  238</span>        </div>
<div class="line"><span class="lineno">  239</span>        <span class="comment">// only happens for combat where player is involved</span></div>
<div class="line"><span class="lineno">  240</span>        CombatDamageData currDamageData = result.getLastCombatDamageData();</div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">if</span> (currDamageData != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  242</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a> == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  243</span>                <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a> = currDamageData;</div>
<div class="line"><span class="lineno">  244</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  245</span>                <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab32155e313a9d3109e7919bee27fca81">runningDamageTotal</a>.<a class="code hl_function" href="../../dc/df9/classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html#a8e40f5c00f166b63c0d73eb46ee7390f">add</a>(currDamageData);</div>
<div class="line"><span class="lineno">  246</span>            }</div>
<div class="line"><span class="lineno">  247</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aae04a1b1e1f39e90a9c61b3ad688a447">computeFPHullDamage</a>();</div>
<div class="line"><span class="lineno">  248</span>        }</div>
<div class="line"><span class="lineno">  249</span>        </div>
<div class="line"><span class="lineno">  250</span>        <span class="comment">//if (winnerResult.getFleet().isPlayerFleet() || loserResult.getFleet().isPlayerFleet()) {</span></div>
<div class="line"><span class="lineno">  251</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#ab3ab3bc04a65bd4c01f91972f81173ed">isPlayerInvolved</a>()) {</div>
<div class="line"><span class="lineno">  252</span>            Global.getSector().reportPlayerEngagement(result);</div>
<div class="line"><span class="lineno">  253</span>        }</div>
<div class="line"><span class="lineno">  254</span>        </div>
<div class="line"><span class="lineno">  255</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ac11805834d81c987e7c06e45c3e529">updateDeployedMap</a>(winnerResult);</div>
<div class="line"><span class="lineno">  256</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ac11805834d81c987e7c06e45c3e529">updateDeployedMap</a>(loserResult);</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>        <span class="comment">//result.applyToFleets();</span></div>
<div class="line"><span class="lineno">  259</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab60e1b424706649832f9fd9fa80197e3">applyResultToFleets</a>(result);</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>        <span class="comment">//if (winnerResult.getFleet().isPlayerFleet() &amp;&amp; winnerResult.getGoal() != FleetGoal.ESCAPE) {</span></div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(winnerResult) &amp;&amp; winnerResult.getGoal() != FleetGoal.ESCAPE) {</div>
<div class="line"><span class="lineno">  263</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">playerOnlyRetreated</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  264</span>            <span class="keywordflow">if</span> (loserResult.getGoal() == FleetGoal.ESCAPE) {</div>
<div class="line"><span class="lineno">  265</span>                <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73bdc2181f26f4f1c440b60838f6996b">playerPursued</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  266</span>            }</div>
<div class="line"><span class="lineno">  267</span>        <span class="comment">//} else if (loserResult.getFleet().isPlayerFleet() &amp;&amp; loserResult.getGoal() != FleetGoal.ESCAPE) {</span></div>
<div class="line"><span class="lineno">  268</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(loserResult) &amp;&amp; loserResult.getGoal() != FleetGoal.ESCAPE) {</div>
<div class="line"><span class="lineno">  269</span>            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a043b12ebb9addd2620f15faba59623a8">playerOnlyRetreated</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  270</span>            <span class="keywordflow">if</span> (winnerResult.getGoal() == FleetGoal.ESCAPE) {</div>
<div class="line"><span class="lineno">  271</span>                <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a73bdc2181f26f4f1c440b60838f6996b">playerPursued</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  272</span>            }</div>
<div class="line"><span class="lineno">  273</span>        }</div>
<div class="line"><span class="lineno">  274</span>        </div>
<div class="line"><span class="lineno">  275</span>        DataForEncounterSide winnerData = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(winnerResult.getFleet());</div>
<div class="line"><span class="lineno">  276</span>        DataForEncounterSide loserData = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(loserResult.getFleet());</div>
<div class="line"><span class="lineno">  277</span>        </div>
<div class="line"><span class="lineno">  278</span>        winnerData.setWonLastEngagement(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  279</span>        winnerData.setEnemyCanCleanDisengage(winnerResult.enemyCanCleanDisengage());</div>
<div class="line"><span class="lineno">  280</span>        <span class="comment">//winnerData.setFleetCanCleanDisengage(loserResult.enemyCanCleanDisengage());</span></div>
<div class="line"><span class="lineno">  281</span>        loserData.setWonLastEngagement(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  282</span>        loserData.setEnemyCanCleanDisengage(loserResult.enemyCanCleanDisengage());</div>
<div class="line"><span class="lineno">  283</span>        <span class="comment">//loserData.setFleetCanCleanDisengage(winnerResult.enemyCanCleanDisengage());</span></div>
<div class="line"><span class="lineno">  284</span>        </div>
<div class="line"><span class="lineno">  285</span>        winnerData.setDidEnoughToDisengage(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  286</span>        <span class="keywordtype">float</span> damageInFP = 0f;</div>
<div class="line"><span class="lineno">  287</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : winnerResult.getDisabled()) {</div>
<div class="line"><span class="lineno">  288</span>            damageInFP += member.getFleetPointCost();</div>
<div class="line"><span class="lineno">  289</span>        }</div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : winnerResult.getDestroyed()) {</div>
<div class="line"><span class="lineno">  291</span>            damageInFP += member.getFleetPointCost();</div>
<div class="line"><span class="lineno">  292</span>        }</div>
<div class="line"><span class="lineno">  293</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : winnerResult.getRetreated()) {</div>
<div class="line"><span class="lineno">  294</span>            damageInFP += member.getFleetPointCost();</div>
<div class="line"><span class="lineno">  295</span>        }</div>
<div class="line"><span class="lineno">  296</span>        </div>
<div class="line"><span class="lineno">  297</span><span class="comment">//      float remaining = 0f;</span></div>
<div class="line"><span class="lineno">  298</span><span class="comment">//      for (FleetMemberAPI member : winnerResult.getFleet().getFleetData().getCombatReadyMembersListCopy()) {</span></div>
<div class="line"><span class="lineno">  299</span><span class="comment">//          remaining += member.getFleetPointCost();</span></div>
<div class="line"><span class="lineno">  300</span><span class="comment">//      }</span></div>
<div class="line"><span class="lineno">  301</span><span class="comment">//      loserData.setDidEnoughToDisengage(damageInFP &gt;= remaining);</span></div>
<div class="line"><span class="lineno">  302</span>        loserData.setDidEnoughToDisengage(winnerResult.enemyCanCleanDisengage());</div>
<div class="line"><span class="lineno">  303</span>        </div>
<div class="line"><span class="lineno">  304</span>        </div>
<div class="line"><span class="lineno">  305</span>        winnerData.setLastGoal(winnerResult.getGoal());</div>
<div class="line"><span class="lineno">  306</span>        loserData.setLastGoal(loserResult.getGoal());</div>
<div class="line"><span class="lineno">  307</span>        </div>
<div class="line"><span class="lineno">  308</span>        winnerData.getDeployedInLastEngagement().clear();</div>
<div class="line"><span class="lineno">  309</span>        winnerData.getRetreatedFromLastEngagement().clear();</div>
<div class="line"><span class="lineno">  310</span>        winnerData.getInReserveDuringLastEngagement().clear();</div>
<div class="line"><span class="lineno">  311</span>        winnerData.getDisabledInLastEngagement().clear();</div>
<div class="line"><span class="lineno">  312</span>        winnerData.getDestroyedInLastEngagement().clear();</div>
<div class="line"><span class="lineno">  313</span>        winnerData.getDeployedInLastEngagement().addAll(winnerResult.getDeployed());</div>
<div class="line"><span class="lineno">  314</span>        winnerData.getRetreatedFromLastEngagement().addAll(winnerResult.getRetreated());</div>
<div class="line"><span class="lineno">  315</span>        winnerData.getInReserveDuringLastEngagement().addAll(winnerResult.getReserves());</div>
<div class="line"><span class="lineno">  316</span>        winnerData.getDisabledInLastEngagement().addAll(winnerResult.getDisabled());</div>
<div class="line"><span class="lineno">  317</span>        winnerData.getDestroyedInLastEngagement().addAll(winnerResult.getDestroyed());</div>
<div class="line"><span class="lineno">  318</span>        </div>
<div class="line"><span class="lineno">  319</span>        loserData.getDeployedInLastEngagement().clear();</div>
<div class="line"><span class="lineno">  320</span>        loserData.getRetreatedFromLastEngagement().clear();</div>
<div class="line"><span class="lineno">  321</span>        loserData.getInReserveDuringLastEngagement().clear();</div>
<div class="line"><span class="lineno">  322</span>        loserData.getDisabledInLastEngagement().clear();</div>
<div class="line"><span class="lineno">  323</span>        loserData.getDestroyedInLastEngagement().clear();</div>
<div class="line"><span class="lineno">  324</span>        loserData.getDeployedInLastEngagement().addAll(loserResult.getDeployed());</div>
<div class="line"><span class="lineno">  325</span>        loserData.getRetreatedFromLastEngagement().addAll(loserResult.getRetreated());</div>
<div class="line"><span class="lineno">  326</span>        loserData.getInReserveDuringLastEngagement().addAll(loserResult.getReserves());</div>
<div class="line"><span class="lineno">  327</span>        loserData.getDisabledInLastEngagement().addAll(loserResult.getDisabled());</div>
<div class="line"><span class="lineno">  328</span>        loserData.getDestroyedInLastEngagement().addAll(loserResult.getDestroyed());</div>
<div class="line"><span class="lineno">  329</span>        </div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : loserResult.getDestroyed()) {</div>
<div class="line"><span class="lineno">  331</span>            loserData.addOwn(member, Status.DESTROYED);</div>
<div class="line"><span class="lineno">  332</span>        }</div>
<div class="line"><span class="lineno">  333</span>        </div>
<div class="line"><span class="lineno">  334</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : loserResult.getDisabled()) {</div>
<div class="line"><span class="lineno">  335</span>            loserData.addOwn(member, Status.DISABLED);</div>
<div class="line"><span class="lineno">  336</span>        }</div>
<div class="line"><span class="lineno">  337</span>        </div>
<div class="line"><span class="lineno">  338</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : winnerResult.getDestroyed()) {</div>
<div class="line"><span class="lineno">  339</span>            winnerData.addOwn(member, Status.DESTROYED);</div>
<div class="line"><span class="lineno">  340</span>        }</div>
<div class="line"><span class="lineno">  341</span>        </div>
<div class="line"><span class="lineno">  342</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : winnerResult.getDisabled()) {</div>
<div class="line"><span class="lineno">  343</span>            winnerData.addOwn(member, Status.DISABLED);</div>
<div class="line"><span class="lineno">  344</span>        }</div>
<div class="line"><span class="lineno">  345</span>        </div>
<div class="line"><span class="lineno">  346</span>        <span class="comment">//if (winnerResult.getFleet().isPlayerFleet()) {</span></div>
<div class="line"><span class="lineno">  347</span>        <span class="keywordflow">if</span> (result.getWinnerResult().getAllEverDeployedCopy() != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  348</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a18389daf6c77f30b0d7ad43e69839b9c">tallyOfficerTime</a>(winnerData, winnerResult);</div>
<div class="line"><span class="lineno">  349</span>        }</div>
<div class="line"><span class="lineno">  350</span>        <span class="comment">//} else if (loserResult.getFleet().isPlayerFleet()) {</span></div>
<div class="line"><span class="lineno">  351</span>        <span class="keywordflow">if</span> (result.getLoserResult().getAllEverDeployedCopy() != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  352</span>            <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a18389daf6c77f30b0d7ad43e69839b9c">tallyOfficerTime</a>(loserData, loserResult);</div>
<div class="line"><span class="lineno">  353</span>        }</div>
<div class="line"><span class="lineno">  354</span>        </div>
<div class="line"><span class="lineno">  355</span>        <span class="comment">// important, so that in-combat Ship objects can be garbage collected.</span></div>
<div class="line"><span class="lineno">  356</span>        <span class="comment">// Probably some combat engine references in there, too. </span></div>
<div class="line"><span class="lineno">  357</span>        winnerResult.resetAllEverDeployed();</div>
<div class="line"><span class="lineno">  358</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(winnerResult.getFleet()).getMemberToDeployedMap().clear();</div>
<div class="line"><span class="lineno">  359</span>        loserResult.resetAllEverDeployed();</div>
<div class="line"><span class="lineno">  360</span>        <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(loserResult.getFleet()).getMemberToDeployedMap().clear();</div>
<div class="line"><span class="lineno">  361</span>        </div>
<div class="line"><span class="lineno">  362</span>        </div>
<div class="line"><span class="lineno">  363</span>        <span class="comment">// moved from applyPostEngagementResult</span></div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : winnerResult.getDestroyed()) {</div>
<div class="line"><span class="lineno">  365</span>            loserData.addEnemy(member, Status.DESTROYED);</div>
<div class="line"><span class="lineno">  366</span>        }</div>
<div class="line"><span class="lineno">  367</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : winnerResult.getDisabled()) {</div>
<div class="line"><span class="lineno">  368</span>            loserData.addEnemy(member, Status.DISABLED);</div>
<div class="line"><span class="lineno">  369</span>        }</div>
<div class="line"><span class="lineno">  370</span>        </div>
<div class="line"><span class="lineno">  371</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : loserResult.getDestroyed()) {</div>
<div class="line"><span class="lineno">  372</span>            winnerData.addEnemy(member, Status.DESTROYED);</div>
<div class="line"><span class="lineno">  373</span>        }</div>
<div class="line"><span class="lineno">  374</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : loserResult.getDisabled()) {</div>
<div class="line"><span class="lineno">  375</span>            winnerData.addEnemy(member, Status.DISABLED);</div>
<div class="line"><span class="lineno">  376</span>        }</div>
<div class="line"><span class="lineno">  377</span>        </div>
<div class="line"><span class="lineno">  378</span>        </div>
<div class="line"><span class="lineno">  379</span>        FleetGoal winnerGoal = winnerResult.getGoal();</div>
<div class="line"><span class="lineno">  380</span>        FleetGoal loserGoal = loserResult.getGoal();</div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordtype">boolean</span> totalWin = loserData.getFleet().getFleetData().getMembersListCopy().isEmpty();</div>
<div class="line"><span class="lineno">  382</span>        <span class="keywordtype">boolean</span> playerOut = result.isPlayerOutBeforeEnd();</div>
<div class="line"><span class="lineno">  383</span>        </div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">if</span> (playerOut) {</div>
<div class="line"><span class="lineno">  385</span>            FleetGoal playerGoal = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  386</span>            FleetGoal otherGoal = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  387</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(winnerResult.getFleet()))) {</div>
<div class="line"><span class="lineno">  388</span>                playerGoal = winnerGoal;</div>
<div class="line"><span class="lineno">  389</span>                otherGoal = loserGoal;</div>
<div class="line"><span class="lineno">  390</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  391</span>                playerGoal = loserGoal;</div>
<div class="line"><span class="lineno">  392</span>                otherGoal = winnerGoal;</div>
<div class="line"><span class="lineno">  393</span>            }</div>
<div class="line"><span class="lineno">  394</span>            <span class="keywordflow">if</span> (playerGoal == FleetGoal.ATTACK) {</div>
<div class="line"><span class="lineno">  395</span>                <span class="keywordflow">if</span> (otherGoal == FleetGoal.ATTACK) {</div>
<div class="line"><span class="lineno">  396</span>                    <span class="keywordflow">if</span> (winnerResult.isPlayer()) {</div>
<div class="line"><span class="lineno">  397</span>                        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.BATTLE_PLAYER_OUT_FIRST_WIN;</div>
<div class="line"><span class="lineno">  398</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  399</span>                        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.BATTLE_PLAYER_OUT_FIRST_LOSS;</div>
<div class="line"><span class="lineno">  400</span>                    }</div>
<div class="line"><span class="lineno">  401</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  402</span>                    <span class="keywordflow">if</span> (winnerResult.isPlayer()) {</div>
<div class="line"><span class="lineno">  403</span>                        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.PURSUIT_PLAYER_OUT_FIRST_WIN;</div>
<div class="line"><span class="lineno">  404</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  405</span>                        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.PURSUIT_PLAYER_OUT_FIRST_LOSS;</div>
<div class="line"><span class="lineno">  406</span>                    }</div>
<div class="line"><span class="lineno">  407</span>                }</div>
<div class="line"><span class="lineno">  408</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  409</span>                <span class="keywordflow">if</span> (winnerResult.isPlayer()) {</div>
<div class="line"><span class="lineno">  410</span>                    <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_PLAYER_OUT_FIRST_WIN;</div>
<div class="line"><span class="lineno">  411</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  412</span>                    <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_PLAYER_OUT_FIRST_LOSS;</div>
<div class="line"><span class="lineno">  413</span>                }</div>
<div class="line"><span class="lineno">  414</span>            }</div>
<div class="line"><span class="lineno">  415</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  416</span>            <span class="keywordflow">if</span> (totalWin &amp;&amp; winnerData.getFleet().getFleetData().getMembersListCopy().isEmpty()) {</div>
<div class="line"><span class="lineno">  417</span>                <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.MUTUAL_DESTRUCTION;</div>
<div class="line"><span class="lineno">  418</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  419</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(winnerResult.getFleet()))) {</div>
<div class="line"><span class="lineno">  420</span>                    <span class="keywordflow">if</span> (winnerGoal == FleetGoal.ATTACK &amp;&amp; loserGoal == FleetGoal.ATTACK) {</div>
<div class="line"><span class="lineno">  421</span>                        <span class="keywordflow">if</span> (totalWin) {</div>
<div class="line"><span class="lineno">  422</span>                            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.BATTLE_PLAYER_WIN_TOTAL;</div>
<div class="line"><span class="lineno">  423</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  424</span>                            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.BATTLE_PLAYER_WIN;</div>
<div class="line"><span class="lineno">  425</span>                        }</div>
<div class="line"><span class="lineno">  426</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (winnerGoal == FleetGoal.ESCAPE) {</div>
<div class="line"><span class="lineno">  427</span>                        <span class="keywordflow">if</span> (totalWin) {</div>
<div class="line"><span class="lineno">  428</span>                            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_PLAYER_WIN_TOTAL;</div>
<div class="line"><span class="lineno">  429</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  430</span>                            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_PLAYER_WIN;</div>
<div class="line"><span class="lineno">  431</span>                        }</div>
<div class="line"><span class="lineno">  432</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (loserGoal == FleetGoal.ESCAPE) {</div>
<div class="line"><span class="lineno">  433</span>                        <span class="keywordflow">if</span> (totalWin) {</div>
<div class="line"><span class="lineno">  434</span>                            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_ENEMY_LOSS_TOTAL;</div>
<div class="line"><span class="lineno">  435</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  436</span>                            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_ENEMY_SUCCESS;</div>
<div class="line"><span class="lineno">  437</span>                        }</div>
<div class="line"><span class="lineno">  438</span>                    }</div>
<div class="line"><span class="lineno">  439</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  440</span>                    <span class="keywordflow">if</span> (winnerGoal == FleetGoal.ATTACK &amp;&amp; loserGoal == FleetGoal.ATTACK) {</div>
<div class="line"><span class="lineno">  441</span>                        <span class="keywordflow">if</span> (totalWin) {</div>
<div class="line"><span class="lineno">  442</span>                            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.BATTLE_ENEMY_WIN_TOTAL;</div>
<div class="line"><span class="lineno">  443</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  444</span>                            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.BATTLE_ENEMY_WIN;</div>
<div class="line"><span class="lineno">  445</span>                        }</div>
<div class="line"><span class="lineno">  446</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (winnerGoal == FleetGoal.ESCAPE) {</div>
<div class="line"><span class="lineno">  447</span>                        <span class="keywordflow">if</span> (totalWin) {</div>
<div class="line"><span class="lineno">  448</span>                            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_ENEMY_WIN_TOTAL;</div>
<div class="line"><span class="lineno">  449</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  450</span>                            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_ENEMY_WIN;</div>
<div class="line"><span class="lineno">  451</span>                        }</div>
<div class="line"><span class="lineno">  452</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (loserGoal == FleetGoal.ESCAPE) {</div>
<div class="line"><span class="lineno">  453</span>                        <span class="keywordflow">if</span> (totalWin) {</div>
<div class="line"><span class="lineno">  454</span>                            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_PLAYER_LOSS_TOTAL;</div>
<div class="line"><span class="lineno">  455</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  456</span>                            <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> = EngagementOutcome.ESCAPE_PLAYER_SUCCESS;</div>
<div class="line"><span class="lineno">  457</span>                        }</div>
<div class="line"><span class="lineno">  458</span>                    }</div>
<div class="line"><span class="lineno">  459</span>                }</div>
<div class="line"><span class="lineno">  460</span>            }</div>
<div class="line"><span class="lineno">  461</span>        }</div>
<div class="line"><span class="lineno">  462</span>        </div>
<div class="line"><span class="lineno">  463</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a9a1934a45208ec21eb73b804e7543877">uncombine</a>();</div>
<div class="line"><span class="lineno">  464</span>        <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#acb55e0951f95312c00ea3d96fa818dde">genCombined</a>();</div>
<div class="line"><span class="lineno">  465</span>    }</div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData_html_a8e40f5c00f166b63c0d73eb46ee7390f"><div class="ttname"><a href="../../dc/df9/classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html#a8e40f5c00f166b63c0d73eb46ee7390f">com.fs.starfarer.api.campaign.CombatDamageData.add</a></div><div class="ttdeci">void add(CombatDamageData other)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd3/CombatDamageData_8java_source.html#l00058">CombatDamageData.java:58</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a18389daf6c77f30b0d7ad43e69839b9c"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a18389daf6c77f30b0d7ad43e69839b9c">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.tallyOfficerTime</a></div><div class="ttdeci">void tallyOfficerTime(DataForEncounterSide data, EngagementResultForFleetAPI result)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00467">FleetEncounterContext.java:467</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a6ac11805834d81c987e7c06e45c3e529"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a6ac11805834d81c987e7c06e45c3e529">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.updateDeployedMap</a></div><div class="ttdeci">void updateDeployedMap(EngagementResultForFleetAPI result)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00156">FleetEncounterContext.java:156</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_a894e47d162794f5428b18b95945cd9ea"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a894e47d162794f5428b18b95945cd9ea">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.clearNoSourceMembers</a></div><div class="ttdeci">void clearNoSourceMembers(EngagementResultForFleetAPI result)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l00181">FleetEncounterContext.java:181</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_aae04a1b1e1f39e90a9c61b3ad688a447"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#aae04a1b1e1f39e90a9c61b3ad688a447">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computeFPHullDamage</a></div><div class="ttdeci">void computeFPHullDamage()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l01962">FleetEncounterContext.java:1962</a></div></div>
<div class="ttc" id="aclasscom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext_html_ab60e1b424706649832f9fd9fa80197e3"><div class="ttname"><a href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab60e1b424706649832f9fd9fa80197e3">com.fs.starfarer.api.impl.campaign.FleetEncounterContext.applyResultToFleets</a></div><div class="ttdeci">void applyResultToFleets(EngagementResultAPI result)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/FleetEncounterContext_8java_source.html#l02752">FleetEncounterContext.java:2752</a></div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_a9a1934a45208ec21eb73b804e7543877"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a9a1934a45208ec21eb73b804e7543877">com.fs.starfarer.api.campaign.BattleAPI.uncombine</a></div><div class="ttdeci">void uncombine()</div></div>
<div class="ttc" id="ainterfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI_html_acb55e0951f95312c00ea3d96fa818dde"><div class="ttname"><a href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#acb55e0951f95312c00ea3d96fa818dde">com.fs.starfarer.api.campaign.BattleAPI.genCombined</a></div><div class="ttdeci">void genCombined()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e826619c41b8305657e7088b57c6102" name="a6e826619c41b8305657e7088b57c6102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e826619c41b8305657e7088b57c6102">&#9670;&#160;</a></span>recoverCrew()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.recoverCrew </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>fleet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03268">3268</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3268</span>                                                    {</div>
<div class="line"><span class="lineno"> 3269</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#af63dcd9bc785001d3afe266e524db8bf">isPlayerSide</a>(<a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a3810d282eac961ac6438719b5a385662">getSideFor</a>(fleet))) {</div>
<div class="line"><span class="lineno"> 3270</span>            DataForEncounterSide data = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(fleet);</div>
<div class="line"><span class="lineno"> 3271</span>            CargoAPI cargo = Global.getSector().getPlayerFleet().getCargo();</div>
<div class="line"><span class="lineno"> 3272</span>            CrewCompositionAPI rec = data.getRecoverableCrewLosses();</div>
<div class="line"><span class="lineno"> 3273</span>            </div>
<div class="line"><span class="lineno"> 3274</span>            cargo.addItems(CargoAPI.CargoItemType.RESOURCES, Commodities.CREW, rec.getCrew());</div>
<div class="line"><span class="lineno"> 3275</span>            </div>
<div class="line"><span class="lineno"> 3276</span>            cargo.addMarines((<span class="keywordtype">int</span>) rec.getMarines());</div>
<div class="line"><span class="lineno"> 3277</span>        }</div>
<div class="line"><span class="lineno"> 3278</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a820b898359071f1a178859a6a6582782" name="a820b898359071f1a178859a6a6582782"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a820b898359071f1a178859a6a6582782">&#9670;&#160;</a></span>recoverShips()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.recoverShips </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a> &gt;&#160;</td>
          <td class="paramname"><em>ships</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html">FleetEncounterContext</a>&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>winningFleet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d56/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CampaignFleetAPI.html">CampaignFleetAPI</a>&#160;</td>
          <td class="paramname"><em>otherFleet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01680">1680</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1680</span>                                                                                                                                                           {</div>
<div class="line"><span class="lineno"> 1681</span>        </div>
<div class="line"><span class="lineno"> 1682</span>        <span class="keywordflow">if</span> (!Misc.isPlayerOrCombinedContainingPlayer(winningFleet)) {</div>
<div class="line"><span class="lineno"> 1683</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1684</span>        }</div>
<div class="line"><span class="lineno"> 1685</span>        </div>
<div class="line"><span class="lineno"> 1686</span>        DataForEncounterSide winnerData = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno"> 1687</span>        DataForEncounterSide loserData = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno"> 1688</span>        </div>
<div class="line"><span class="lineno"> 1689</span>        <span class="keywordflow">if</span> (context != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 1690</span>            winnerData = context.getDataFor(winningFleet);</div>
<div class="line"><span class="lineno"> 1691</span>            loserData = context.getDataFor(otherFleet);</div>
<div class="line"><span class="lineno"> 1692</span>        }</div>
<div class="line"><span class="lineno"> 1693</span>        </div>
<div class="line"><span class="lineno"> 1694</span>        CampaignFleetAPI playerFleet = Global.getSector().getPlayerFleet();</div>
<div class="line"><span class="lineno"> 1695</span>        </div>
<div class="line"><span class="lineno"> 1696</span>        <span class="keywordflow">for</span> (FleetMemberAPI member : ships) {</div>
<div class="line"><span class="lineno"> 1697</span>            <span class="comment">//CampaignFleetAPI sourceFleet = context.getBattle().getSourceFleet(member);</span></div>
<div class="line"><span class="lineno"> 1698</span>            <span class="comment">//repairFleetMember(member, sourceFleet == playerFleet);</span></div>
<div class="line"><span class="lineno"> 1699</span>            </div>
<div class="line"><span class="lineno"> 1700</span>            <span class="keywordflow">if</span> (member.getStatus().getNumStatuses() &lt;= 1) {</div>
<div class="line"><span class="lineno"> 1701</span>                member.getStatus().repairDisabledABit();</div>
<div class="line"><span class="lineno"> 1702</span>            }</div>
<div class="line"><span class="lineno"> 1703</span><span class="comment">//          for (int i = 1; i &lt; member.getStatus().getNumStatuses(); i++) {</span></div>
<div class="line"><span class="lineno"> 1704</span><span class="comment">//              if ((float) Math.random() &gt; 0.33f) {</span></div>
<div class="line"><span class="lineno"> 1705</span><span class="comment">//                  member.getStatus().setDetached(i, true);</span></div>
<div class="line"><span class="lineno"> 1706</span><span class="comment">//                  member.getStatus().setHullFraction(i, 0f);</span></div>
<div class="line"><span class="lineno"> 1707</span><span class="comment">//              }</span></div>
<div class="line"><span class="lineno"> 1708</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 1709</span>            </div>
<div class="line"><span class="lineno"> 1710</span>            <span class="keywordtype">float</span> minHull = playerFleet.getStats().getDynamic().getValue(Stats.RECOVERED_HULL_MIN, 0f);</div>
<div class="line"><span class="lineno"> 1711</span>            <span class="keywordtype">float</span> maxHull = playerFleet.getStats().getDynamic().getValue(Stats.RECOVERED_HULL_MAX, 0f);</div>
<div class="line"><span class="lineno"> 1712</span>            <span class="keywordtype">float</span> minCR = playerFleet.getStats().getDynamic().getValue(Stats.RECOVERED_CR_MIN, 0f);</div>
<div class="line"><span class="lineno"> 1713</span>            <span class="keywordtype">float</span> maxCR = playerFleet.getStats().getDynamic().getValue(Stats.RECOVERED_CR_MAX, 0f);</div>
<div class="line"><span class="lineno"> 1714</span>            </div>
<div class="line"><span class="lineno"> 1715</span>            minHull += member.getStats().getDynamic().getValue(Stats.RECOVERED_HULL_MIN, 0f);</div>
<div class="line"><span class="lineno"> 1716</span>            maxHull += member.getStats().getDynamic().getValue(Stats.RECOVERED_HULL_MAX, 0f);</div>
<div class="line"><span class="lineno"> 1717</span>            minCR += member.getStats().getDynamic().getValue(Stats.RECOVERED_CR_MIN, 0f);</div>
<div class="line"><span class="lineno"> 1718</span>            maxCR += member.getStats().getDynamic().getValue(Stats.RECOVERED_CR_MAX, 0f);</div>
<div class="line"><span class="lineno"> 1719</span>            </div>
<div class="line"><span class="lineno"> 1720</span>            <span class="keywordtype">float</span> hull = (float) Math.random() * (maxHull - minHull) + minHull;</div>
<div class="line"><span class="lineno"> 1721</span>            <span class="keywordflow">if</span> (hull &lt; 0.01f) hull = 0.01f;</div>
<div class="line"><span class="lineno"> 1722</span>            <span class="keywordflow">if</span> (hull &gt; 1f) hull = 1f;</div>
<div class="line"><span class="lineno"> 1723</span>            member.getStatus().setHullFraction(hull);</div>
<div class="line"><span class="lineno"> 1724</span>            </div>
<div class="line"><span class="lineno"> 1725</span>            <span class="keywordtype">float</span> cr = (float) Math.random() * (maxCR - minCR) + minCR;</div>
<div class="line"><span class="lineno"> 1726</span>            <span class="keywordflow">if</span> (cr &lt; 0) cr = 0;</div>
<div class="line"><span class="lineno"> 1727</span>            <span class="keywordtype">float</span> max = member.getRepairTracker() == <span class="keyword">null</span> ? 1f : member.getRepairTracker().getMaxCR();</div>
<div class="line"><span class="lineno"> 1728</span>            <span class="keywordflow">if</span> (cr &gt; max) cr = max;</div>
<div class="line"><span class="lineno"> 1729</span>            member.getRepairTracker().setCR(cr);</div>
<div class="line"><span class="lineno"> 1730</span>            </div>
<div class="line"><span class="lineno"> 1731</span>            <span class="keywordflow">if</span> (winnerData != <span class="keyword">null</span>) winnerData.getInReserveDuringLastEngagement().add(member);</div>
<div class="line"><span class="lineno"> 1732</span>            playerFleet.getFleetData().addFleetMember(member);</div>
<div class="line"><span class="lineno"> 1733</span>            <span class="keywordflow">if</span> (context != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 1734</span>                context.getBattle().getCombinedFor(playerFleet).getFleetData().addFleetMember(member);</div>
<div class="line"><span class="lineno"> 1735</span>                context.getBattle().getMemberSourceMap().put(member, playerFleet);</div>
<div class="line"><span class="lineno"> 1736</span>            }</div>
<div class="line"><span class="lineno"> 1737</span>            </div>
<div class="line"><span class="lineno"> 1738</span>            member.setFleetCommanderForStats(<span class="keyword">null</span>, <span class="keyword">null</span>);</div>
<div class="line"><span class="lineno"> 1739</span>            </div>
<div class="line"><span class="lineno"> 1740</span> </div>
<div class="line"><span class="lineno"> 1741</span>            member.setOwner(0);</div>
<div class="line"><span class="lineno"> 1742</span>            </div>
<div class="line"><span class="lineno"> 1743</span>            <span class="keywordflow">if</span> (!Misc.isUnremovable(member.getCaptain())) {</div>
<div class="line"><span class="lineno"> 1744</span>                member.setCaptain(Global.getFactory().createPerson());</div>
<div class="line"><span class="lineno"> 1745</span>                member.getCaptain().setFaction(Factions.PLAYER);</div>
<div class="line"><span class="lineno"> 1746</span>            }</div>
<div class="line"><span class="lineno"> 1747</span>            </div>
<div class="line"><span class="lineno"> 1748</span>            <span class="comment">//member.getRepairTracker().setMothballed(true);</span></div>
<div class="line"><span class="lineno"> 1749</span>            </div>
<div class="line"><span class="lineno"> 1750</span>            <span class="keywordflow">if</span> (winnerData != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 1751</span>                winnerData.changeEnemy(member, Status.REPAIRED);</div>
<div class="line"><span class="lineno"> 1752</span>                winnerData.changeOwn(member, Status.REPAIRED);</div>
<div class="line"><span class="lineno"> 1753</span>                </div>
<div class="line"><span class="lineno"> 1754</span>                winnerData.getDestroyedInLastEngagement().remove(member);</div>
<div class="line"><span class="lineno"> 1755</span>                winnerData.getDisabledInLastEngagement().remove(member);</div>
<div class="line"><span class="lineno"> 1756</span>            }</div>
<div class="line"><span class="lineno"> 1757</span>            </div>
<div class="line"><span class="lineno"> 1758</span>            <span class="keywordflow">if</span> (loserData != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno"> 1759</span>                loserData.changeEnemy(member, Status.REPAIRED);</div>
<div class="line"><span class="lineno"> 1760</span>                loserData.changeOwn(member, Status.REPAIRED);</div>
<div class="line"><span class="lineno"> 1761</span>                </div>
<div class="line"><span class="lineno"> 1762</span>                loserData.getDestroyedInLastEngagement().remove(member);</div>
<div class="line"><span class="lineno"> 1763</span>                loserData.getDisabledInLastEngagement().remove(member);</div>
<div class="line"><span class="lineno"> 1764</span>            }</div>
<div class="line"><span class="lineno"> 1765</span>        }</div>
<div class="line"><span class="lineno"> 1766</span> </div>
<div class="line"><span class="lineno"> 1767</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1768</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2164dbd9910b266e1a79b91d4fe92d03" name="a2164dbd9910b266e1a79b91d4fe92d03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2164dbd9910b266e1a79b91d4fe92d03">&#9670;&#160;</a></span>setAllyFPHullDamageToEnemies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setAllyFPHullDamageToEnemies </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>allyFPHullDamageToEnemies</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01954">1954</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1954</span>                                                                              {</div>
<div class="line"><span class="lineno"> 1955</span>        this.allyFPHullDamageToEnemies = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ad8813163ce64c189b81fa6133794a846">allyFPHullDamageToEnemies</a>;</div>
<div class="line"><span class="lineno"> 1956</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9044fa2147f8545e36a6c86ba55f5f11" name="a9044fa2147f8545e36a6c86ba55f5f11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9044fa2147f8545e36a6c86ba55f5f11">&#9670;&#160;</a></span>setAutoresolve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setAutoresolve </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>isAutoresolve</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00094">94</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   94</span>                                                      {</div>
<div class="line"><span class="lineno">   95</span>        this.isAutoresolve = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a4dec6defad11beafe5e437303f7a95ac">isAutoresolve</a>;</div>
<div class="line"><span class="lineno">   96</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af161b5553653341badf848a9574267b6" name="af161b5553653341badf848a9574267b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af161b5553653341badf848a9574267b6">&#9670;&#160;</a></span>setBattle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setBattle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a>&#160;</td>
          <td class="paramname"><em>battle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00103">103</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  103</span>                                            {</div>
<div class="line"><span class="lineno">  104</span>        this.battle = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>;</div>
<div class="line"><span class="lineno">  105</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a51a28f6cb1f1b0efc9653f9f13152b" name="a6a51a28f6cb1f1b0efc9653f9f13152b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a51a28f6cb1f1b0efc9653f9f13152b">&#9670;&#160;</a></span>setComputedDifficulty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setComputedDifficulty </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>computedDifficulty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03294">3294</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3294</span>                                                                  {</div>
<div class="line"><span class="lineno"> 3295</span>        this.computedDifficulty = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab4226783f38eff3a0ce314585c844f83">computedDifficulty</a>;</div>
<div class="line"><span class="lineno"> 3296</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a374884c7e7fab772ccec3056070ae6e9" name="a374884c7e7fab772ccec3056070ae6e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a374884c7e7fab772ccec3056070ae6e9">&#9670;&#160;</a></span>setDifficulty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setDifficulty </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>difficulty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03286">3286</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3286</span>                                                {</div>
<div class="line"><span class="lineno"> 3287</span>        this.difficulty = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a22aac77a36309fdf8129a81d64d253b2">difficulty</a>;</div>
<div class="line"><span class="lineno"> 3288</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aab597f5466ec975f40d5920ba3fbbed5" name="aab597f5466ec975f40d5920ba3fbbed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab597f5466ec975f40d5920ba3fbbed5">&#9670;&#160;</a></span>setEngagedInActualBattle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setEngagedInActualBattle </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>engagedInActualBattle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00223">223</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  223</span>                                                                        {</div>
<div class="line"><span class="lineno">  224</span>        this.engagedInActualBattle = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a15a96a30a1b9c497887bdfde7bac9106">engagedInActualBattle</a>;</div>
<div class="line"><span class="lineno">  225</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afb855a39698e3241ac484a8f3df9a329" name="afb855a39698e3241ac484a8f3df9a329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb855a39698e3241ac484a8f3df9a329">&#9670;&#160;</a></span>setEngagedInHostilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setEngagedInHostilities </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>engagedInHostilities</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00144">144</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  144</span>                                                                      {</div>
<div class="line"><span class="lineno">  145</span>        this.engagedInHostilities = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#ab379609c976bdf7ea38f195fd0d0dc10">engagedInHostilities</a>;</div>
<div class="line"><span class="lineno">  146</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a19912c0a411dad78f4c5c3d6c3bf327a" name="a19912c0a411dad78f4c5c3d6c3bf327a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19912c0a411dad78f4c5c3d6c3bf327a">&#9670;&#160;</a></span>setNoHarryBecauseOfStation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setNoHarryBecauseOfStation </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>noHarryBecauseOfStation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00747">747</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  747</span>                                                                            {</div>
<div class="line"><span class="lineno">  748</span>        this.noHarryBecauseOfStation = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#abd1761f41cd1c8d9c9d9e16dcd77fe2e">noHarryBecauseOfStation</a>;</div>
<div class="line"><span class="lineno">  749</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a65f01515bb012a4ecec853fc10d5d172" name="a65f01515bb012a4ecec853fc10d5d172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f01515bb012a4ecec853fc10d5d172">&#9670;&#160;</a></span>setOtherFleetHarriedPlayer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setOtherFleetHarriedPlayer </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>otherFleetHarriedPlayer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/d4d/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FleetEncounterContextPlugin.html#afd0be257ba82f3e1227a5c6545501368">com.fs.starfarer.api.campaign.FleetEncounterContextPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00148">148</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  148</span>                                                                            {</div>
<div class="line"><span class="lineno">  149</span>        this.otherFleetHarriedPlayer = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a622f25000d780d58fb5af7ef355a428d">otherFleetHarriedPlayer</a>;</div>
<div class="line"><span class="lineno">  150</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab071fcf5aac2c3a7d5a031a2f91b289d" name="ab071fcf5aac2c3a7d5a031a2f91b289d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab071fcf5aac2c3a7d5a031a2f91b289d">&#9670;&#160;</a></span>setPlayerFPHullDamageToEnemies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setPlayerFPHullDamageToEnemies </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>playerFPHullDamageToEnemies</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01946">1946</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1946</span>                                                                                  {</div>
<div class="line"><span class="lineno"> 1947</span>        this.playerFPHullDamageToEnemies = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a33eddabaaa90178365af579aabd8ffb5">playerFPHullDamageToEnemies</a>;</div>
<div class="line"><span class="lineno"> 1948</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a220809257f18720b79de09323306999e" name="a220809257f18720b79de09323306999e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a220809257f18720b79de09323306999e">&#9670;&#160;</a></span>setSalvageRandom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setSalvageRandom </td>
          <td>(</td>
          <td class="paramtype">Random&#160;</td>
          <td class="paramname"><em>salvageRandom</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02181">2181</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2181</span>                                                       {</div>
<div class="line"><span class="lineno"> 2182</span>        this.salvageRandom = salvageRandom;</div>
<div class="line"><span class="lineno"> 2183</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a238b22364359664b10ce834e3fe98624" name="a238b22364359664b10ce834e3fe98624"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a238b22364359664b10ce834e3fe98624">&#9670;&#160;</a></span>setTextPanelForXPGain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.setTextPanelForXPGain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/ddc/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI.html">TextPanelAPI</a>&#160;</td>
          <td class="paramname"><em>textPanelForXPGain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00739">739</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  739</span>                                                                       {</div>
<div class="line"><span class="lineno">  740</span>        this.textPanelForXPGain = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a910ada010506f7050ca1b1cc524a8913">textPanelForXPGain</a>;</div>
<div class="line"><span class="lineno">  741</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a18389daf6c77f30b0d7ad43e69839b9c" name="a18389daf6c77f30b0d7ad43e69839b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18389daf6c77f30b0d7ad43e69839b9c">&#9670;&#160;</a></span>tallyOfficerTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.tallyOfficerTime </td>
          <td>(</td>
          <td class="paramtype">DataForEncounterSide&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a>&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00467">467</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  467</span>                                                                                                   {</div>
<div class="line"><span class="lineno">  468</span>        <span class="keywordtype">float</span> maxTime = 0f;</div>
<div class="line"><span class="lineno">  469</span>        <span class="keywordflow">for</span> (DeployedFleetMemberAPI dfm : result.getAllEverDeployedCopy()) {</div>
<div class="line"><span class="lineno">  470</span>            <span class="keywordtype">float</span> time = dfm.getShip().getFullTimeDeployed();</div>
<div class="line"><span class="lineno">  471</span>            </div>
<div class="line"><span class="lineno">  472</span>            <span class="keywordflow">if</span> (time &gt; maxTime) {</div>
<div class="line"><span class="lineno">  473</span>                maxTime = time;</div>
<div class="line"><span class="lineno">  474</span>            }</div>
<div class="line"><span class="lineno">  475</span>            </div>
<div class="line"><span class="lineno">  476</span>            time -= dfm.getShip().getTimeDeployedUnderPlayerControl();</div>
<div class="line"><span class="lineno">  477</span>            <span class="keywordflow">if</span> (time &lt;= 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  478</span>            </div>
<div class="line"><span class="lineno">  479</span>            PersonAPI person = dfm.getMember().getCaptain();</div>
<div class="line"><span class="lineno">  480</span>            CampaignFleetAPI source = <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a726e2274cae7cfcf8ba85948e1073a29">battle</a>.<a class="code hl_function" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html#a977520ed5d70862c8f72a051da58a03f">getSourceFleet</a>(dfm.getMember());</div>
<div class="line"><span class="lineno">  481</span>            <span class="keywordflow">if</span> (source == <span class="keyword">null</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  482</span>            </div>
<div class="line"><span class="lineno">  483</span>            <span class="comment">//if (data.getFleet().getFleetData().getOfficerData(person) == null) {</span></div>
<div class="line"><span class="lineno">  484</span>            <span class="keywordflow">if</span> (source.getFleetData().getOfficerData(person) == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  485</span>                OfficerEngagementData oed = data.getFleetMemberDeploymentData().get(dfm.getMember());</div>
<div class="line"><span class="lineno">  486</span>                <span class="keywordflow">if</span> (oed == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  487</span>                    oed = <span class="keyword">new</span> OfficerEngagementData(source);</div>
<div class="line"><span class="lineno">  488</span>                    oed.person = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  489</span>                    data.getFleetMemberDeploymentData().put(dfm.getMember(), oed);</div>
<div class="line"><span class="lineno">  490</span>                }</div>
<div class="line"><span class="lineno">  491</span>                time += dfm.getShip().getTimeDeployedUnderPlayerControl();</div>
<div class="line"><span class="lineno">  492</span>                oed.timeDeployed += time;</div>
<div class="line"><span class="lineno">  493</span>                <span class="keywordflow">continue</span>; <span class="comment">// not an officer</span></div>
<div class="line"><span class="lineno">  494</span>            }</div>
<div class="line"><span class="lineno">  495</span>            </div>
<div class="line"><span class="lineno">  496</span>            OfficerEngagementData oed = data.getOfficerData().get(person);</div>
<div class="line"><span class="lineno">  497</span>            <span class="keywordflow">if</span> (oed == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  498</span>                oed = <span class="keyword">new</span> OfficerEngagementData(source);</div>
<div class="line"><span class="lineno">  499</span>                oed.person = person;</div>
<div class="line"><span class="lineno">  500</span>                data.getOfficerData().put(person, oed);</div>
<div class="line"><span class="lineno">  501</span>            }</div>
<div class="line"><span class="lineno">  502</span>            oed.timeDeployed += time;</div>
<div class="line"><span class="lineno">  503</span>        }</div>
<div class="line"><span class="lineno">  504</span>        data.setMaxTimeDeployed(data.getMaxTimeDeployed() + maxTime);</div>
<div class="line"><span class="lineno">  505</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6ac11805834d81c987e7c06e45c3e529" name="a6ac11805834d81c987e7c06e45c3e529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ac11805834d81c987e7c06e45c3e529">&#9670;&#160;</a></span>updateDeployedMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.fs.starfarer.api.impl.campaign.FleetEncounterContext.updateDeployedMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db0/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1EngagementResultForFleetAPI.html">EngagementResultForFleetAPI</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00156">156</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>                                                                         {</div>
<div class="line"><span class="lineno">  157</span>        DataForEncounterSide data = <a class="code hl_function" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a789f8a2356e270a6c24749a637e2097e">getDataFor</a>(result.getFleet());</div>
<div class="line"><span class="lineno">  158</span>        data.getMemberToDeployedMap().clear();</div>
<div class="line"><span class="lineno">  159</span>        </div>
<div class="line"><span class="lineno">  160</span>        List&lt;DeployedFleetMemberAPI&gt; deployed = result.getAllEverDeployedCopy();</div>
<div class="line"><span class="lineno">  161</span>        <span class="keywordflow">if</span> (deployed != <span class="keyword">null</span> &amp;&amp; !deployed.isEmpty()) {</div>
<div class="line"><span class="lineno">  162</span>            <span class="keywordflow">for</span> (DeployedFleetMemberAPI dfm : deployed) {</div>
<div class="line"><span class="lineno">  163</span>                <span class="keywordflow">if</span> (dfm.getMember() != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  164</span>                    FleetMemberAPI member = dfm.getMember();</div>
<div class="line"><span class="lineno">  165</span>                    data.getMemberToDeployedMap().put(member, dfm);</div>
<div class="line"><span class="lineno">  166</span>                    </div>
<div class="line"><span class="lineno">  167</span>                    <span class="keywordflow">if</span> (dfm != <span class="keyword">null</span> &amp;&amp; dfm.getShip() != <span class="keyword">null</span> &amp;&amp; dfm.getShip().getOriginalCaptain() != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><span class="lineno">  168</span>                            !dfm.getShip().getOriginalCaptain().isDefault()) {</div>
<div class="line"><span class="lineno">  169</span>                        data.getMembersWithOfficerOrPlayerAsOrigCaptain().add(member);</div>
<div class="line"><span class="lineno">  170</span>                    }</div>
<div class="line"><span class="lineno">  171</span>                }</div>
<div class="line"><span class="lineno">  172</span>            }</div>
<div class="line"><span class="lineno">  173</span>        }</div>
<div class="line"><span class="lineno">  174</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a29840ae2276ddd5d108438c68826ab62" name="a29840ae2276ddd5d108438c68826ab62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29840ae2276ddd5d108438c68826ab62">&#9670;&#160;</a></span>wasLastEngagementEscape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.wasLastEngagementEscape </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00975">975</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  975</span>                                             {</div>
<div class="line"><span class="lineno">  976</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != <span class="keyword">null</span> &amp;&amp;</div>
<div class="line"><span class="lineno">  977</span><span class="comment">//             lastOutcome != EngagementOutcome.ESCAPE_PLAYER_OUT_FIRST_WIN &amp;&amp;</span></div>
<div class="line"><span class="lineno">  978</span><span class="comment">//             lastOutcome != EngagementOutcome.ESCAPE_PLAYER_OUT_FIRST_LOSS &amp;</span></div>
<div class="line"><span class="lineno">  979</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != EngagementOutcome.BATTLE_ENEMY_WIN &amp;&amp;</div>
<div class="line"><span class="lineno">  980</span>               <a class="code hl_variable" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html#a79bca736338facf7c468e42312c94197">lastOutcome</a> != EngagementOutcome.BATTLE_PLAYER_WIN;</div>
<div class="line"><span class="lineno">  981</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad8813163ce64c189b81fa6133794a846" name="ad8813163ce64c189b81fa6133794a846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8813163ce64c189b81fa6133794a846">&#9670;&#160;</a></span>allyFPHullDamageToEnemies</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.allyFPHullDamageToEnemies = 0f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01959">1959</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a75c9efd6252ae40170a6b2b215806cbd" name="a75c9efd6252ae40170a6b2b215806cbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75c9efd6252ae40170a6b2b215806cbd">&#9670;&#160;</a></span>alreadyAdjustedRep</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.alreadyAdjustedRep = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00542">542</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a726e2274cae7cfcf8ba85948e1073a29" name="a726e2274cae7cfcf8ba85948e1073a29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a726e2274cae7cfcf8ba85948e1073a29">&#9670;&#160;</a></span>battle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/df9/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1BattleAPI.html">BattleAPI</a> com.fs.starfarer.api.impl.campaign.FleetEncounterContext.battle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00078">78</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a7fbb3e0fde5e5324e45ea347ad2c4de7" name="a7fbb3e0fde5e5324e45ea347ad2c4de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fbb3e0fde5e5324e45ea347ad2c4de7">&#9670;&#160;</a></span>CIV_SELF_DESTRUCT_CHANCE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.CIV_SELF_DESTRUCT_CHANCE = 0.05f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01162">1162</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="ab4226783f38eff3a0ce314585c844f83" name="ab4226783f38eff3a0ce314585c844f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4226783f38eff3a0ce314585c844f83">&#9670;&#160;</a></span>computedDifficulty</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.computedDifficulty = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03301">3301</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a88d1cabb6ccee858a72bc53e232c5fb8" name="a88d1cabb6ccee858a72bc53e232c5fb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88d1cabb6ccee858a72bc53e232c5fb8">&#9670;&#160;</a></span>creditsLooted</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int com.fs.starfarer.api.impl.campaign.FleetEncounterContext.creditsLooted = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02164">2164</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a22aac77a36309fdf8129a81d64d253b2" name="a22aac77a36309fdf8129a81d64d253b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22aac77a36309fdf8129a81d64d253b2">&#9670;&#160;</a></span>difficulty</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.difficulty = 1f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03300">3300</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a5c676597d812ac6f2074e6515b8d3a8a" name="a5c676597d812ac6f2074e6515b8d3a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c676597d812ac6f2074e6515b8d3a8a">&#9670;&#160;</a></span>DOCK_SUCCESS_CHANCE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.DOCK_SUCCESS_CHANCE = 0.5f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01169">1169</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a4467f5e99f2dffb06b84249466eeb88e" name="a4467f5e99f2dffb06b84249466eeb88e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4467f5e99f2dffb06b84249466eeb88e">&#9670;&#160;</a></span>ENGAGE_DESTROY_CHANCE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.ENGAGE_DESTROY_CHANCE = 0.25f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01166">1166</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a230abb96b3b20fb578c144fb6f495532" name="a230abb96b3b20fb578c144fb6f495532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a230abb96b3b20fb578c144fb6f495532">&#9670;&#160;</a></span>ENGAGE_DISABLE_CHANCE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.ENGAGE_DISABLE_CHANCE = 0.5f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01165">1165</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a73dee6280666365aa3db13f5a41bcdfe" name="a73dee6280666365aa3db13f5a41bcdfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73dee6280666365aa3db13f5a41bcdfe">&#9670;&#160;</a></span>ENGAGE_ESCAPE_CHANCE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.ENGAGE_ESCAPE_CHANCE = 0.25f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01164">1164</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a15a96a30a1b9c497887bdfde7bac9106" name="a15a96a30a1b9c497887bdfde7bac9106"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15a96a30a1b9c497887bdfde7bac9106">&#9670;&#160;</a></span>engagedInActualBattle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.engagedInActualBattle = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00074">74</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="ab379609c976bdf7ea38f195fd0d0dc10" name="ab379609c976bdf7ea38f195fd0d0dc10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab379609c976bdf7ea38f195fd0d0dc10">&#9670;&#160;</a></span>engagedInHostilities</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.engagedInHostilities = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00073">73</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a4dec6defad11beafe5e437303f7a95ac" name="a4dec6defad11beafe5e437303f7a95ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dec6defad11beafe5e437303f7a95ac">&#9670;&#160;</a></span>isAutoresolve</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.isAutoresolve = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00082">82</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a79bca736338facf7c468e42312c94197" name="a79bca736338facf7c468e42312c94197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79bca736338facf7c468e42312c94197">&#9670;&#160;</a></span>lastOutcome</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">EngagementOutcome com.fs.starfarer.api.impl.campaign.FleetEncounterContext.lastOutcome = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00960">960</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="ae0b7182d119267f57ae9408276b88d6d" name="ae0b7182d119267f57ae9408276b88d6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b7182d119267f57ae9408276b88d6d">&#9670;&#160;</a></span>LAUNCH_CLEAN_ESCAPE_CHANCE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.LAUNCH_CLEAN_ESCAPE_CHANCE = 0.5f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01168">1168</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a920151d2f84ddc310d0d84f175bf2017" name="a920151d2f84ddc310d0d84f175bf2017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a920151d2f84ddc310d0d84f175bf2017">&#9670;&#160;</a></span>LAUNCH_SUCCESS_CHANCE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.LAUNCH_SUCCESS_CHANCE = 0.25f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01170">1170</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a81b33f41e79f3c37f8959b793ed77c66" name="a81b33f41e79f3c37f8959b793ed77c66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81b33f41e79f3c37f8959b793ed77c66">&#9670;&#160;</a></span>loot</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d7b/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CargoAPI.html">CargoAPI</a> com.fs.starfarer.api.impl.campaign.FleetEncounterContext.loot = <a class="el" href="../../d6/d20/classcom_1_1fs_1_1starfarer_1_1api_1_1Global.html#a7d7095e6e2cc1cb45a34e060e8aeebb8">Global.getFactory</a>().createCargo(false)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02163">2163</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="af76cdb9a2026348dcf4bfb31227c934a" name="af76cdb9a2026348dcf4bfb31227c934a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76cdb9a2026348dcf4bfb31227c934a">&#9670;&#160;</a></span>MAX_XP_MULT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.MAX_XP_MULT = 6f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l03298">3298</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="abd1761f41cd1c8d9c9d9e16dcd77fe2e" name="abd1761f41cd1c8d9c9d9e16dcd77fe2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd1761f41cd1c8d9c9d9e16dcd77fe2e">&#9670;&#160;</a></span>noHarryBecauseOfStation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.noHarryBecauseOfStation = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00743">743</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a16949991b9097d37f0b3601cf6560082" name="a16949991b9097d37f0b3601cf6560082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16949991b9097d37f0b3601cf6560082">&#9670;&#160;</a></span>ongoingBattle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.ongoingBattle = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00080">80</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a622f25000d780d58fb5af7ef355a428d" name="a622f25000d780d58fb5af7ef355a428d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a622f25000d780d58fb5af7ef355a428d">&#9670;&#160;</a></span>otherFleetHarriedPlayer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.otherFleetHarriedPlayer = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00079">79</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a5c6cd59a17ae1851086701391fd5367d" name="a5c6cd59a17ae1851086701391fd5367d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c6cd59a17ae1851086701391fd5367d">&#9670;&#160;</a></span>playerDidSeriousDamage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerDidSeriousDamage = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00077">77</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="ab120d5e23f478d181afc180072afab8a" name="ab120d5e23f478d181afc180072afab8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab120d5e23f478d181afc180072afab8a">&#9670;&#160;</a></span>playerFPHullDamageToAllies</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerFPHullDamageToAllies = 0f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01960">1960</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a4727fed30fbc87f19c6eebbe4ddd0ca0" name="a4727fed30fbc87f19c6eebbe4ddd0ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4727fed30fbc87f19c6eebbe4ddd0ca0">&#9670;&#160;</a></span>playerFPHullDamageToAlliesByFaction</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Map&lt;<a class="el" href="../../dd/d35/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FactionAPI.html">FactionAPI</a>, Float&gt; com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerFPHullDamageToAlliesByFaction = new HashMap&lt;<a class="el" href="../../dd/d35/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1FactionAPI.html">FactionAPI</a>, Float&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01961">1961</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a33eddabaaa90178365af579aabd8ffb5" name="a33eddabaaa90178365af579aabd8ffb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33eddabaaa90178365af579aabd8ffb5">&#9670;&#160;</a></span>playerFPHullDamageToEnemies</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerFPHullDamageToEnemies = 0f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01958">1958</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a043b12ebb9addd2620f15faba59623a8" name="a043b12ebb9addd2620f15faba59623a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a043b12ebb9addd2620f15faba59623a8">&#9670;&#160;</a></span>playerOnlyRetreated</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerOnlyRetreated = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00075">75</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a73bdc2181f26f4f1c440b60838f6996b" name="a73bdc2181f26f4f1c440b60838f6996b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73bdc2181f26f4f1c440b60838f6996b">&#9670;&#160;</a></span>playerPursued</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.fs.starfarer.api.impl.campaign.FleetEncounterContext.playerPursued = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00076">76</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a854bd1a92d475fac4a320a872d4d30fa" name="a854bd1a92d475fac4a320a872d4d30fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a854bd1a92d475fac4a320a872d4d30fa">&#9670;&#160;</a></span>preEngagementCRForWinner</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Map&lt;<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>, Float&gt; com.fs.starfarer.api.impl.campaign.FleetEncounterContext.preEngagementCRForWinner = new HashMap&lt;<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>, Float&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02838">2838</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a2a4651bd161abe00bb31c825d54ccdab" name="a2a4651bd161abe00bb31c825d54ccdab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a4651bd161abe00bb31c825d54ccdab">&#9670;&#160;</a></span>recoverableShips</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&gt; com.fs.starfarer.api.impl.campaign.FleetEncounterContext.recoverableShips = new ArrayList&lt;<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01418">1418</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="ab32155e313a9d3109e7919bee27fca81" name="ab32155e313a9d3109e7919bee27fca81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab32155e313a9d3109e7919bee27fca81">&#9670;&#160;</a></span>runningDamageTotal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/df9/classcom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1CombatDamageData.html">CombatDamageData</a> com.fs.starfarer.api.impl.campaign.FleetEncounterContext.runningDamageTotal = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00085">85</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="ac70bc2c5d395bae2a66bfd7ae92b9e82" name="ac70bc2c5d395bae2a66bfd7ae92b9e82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac70bc2c5d395bae2a66bfd7ae92b9e82">&#9670;&#160;</a></span>SELF_DESTRUCT_CHANCE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.SELF_DESTRUCT_CHANCE = 0.25f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01161">1161</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="ac2f7f0224640b2aceedfcd98d5a95c36" name="ac2f7f0224640b2aceedfcd98d5a95c36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f7f0224640b2aceedfcd98d5a95c36">&#9670;&#160;</a></span>sideData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;DataForEncounterSide&gt; com.fs.starfarer.api.impl.campaign.FleetEncounterContext.sideData = new ArrayList&lt;DataForEncounterSide&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00072">72</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="ac7e7f3ed853d5a385d12885f4d59fb36" name="ac7e7f3ed853d5a385d12885f4d59fb36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7e7f3ed853d5a385d12885f4d59fb36">&#9670;&#160;</a></span>storyRecoverableShips</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&gt; com.fs.starfarer.api.impl.campaign.FleetEncounterContext.storyRecoverableShips = new ArrayList&lt;<a class="el" href="../../d0/da6/interfacecom_1_1fs_1_1starfarer_1_1api_1_1fleet_1_1FleetMemberAPI.html">FleetMemberAPI</a>&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l01419">1419</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a910ada010506f7050ca1b1cc524a8913" name="a910ada010506f7050ca1b1cc524a8913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a910ada010506f7050ca1b1cc524a8913">&#9670;&#160;</a></span>textPanelForXPGain</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/ddc/interfacecom_1_1fs_1_1starfarer_1_1api_1_1campaign_1_1TextPanelAPI.html">TextPanelAPI</a> com.fs.starfarer.api.impl.campaign.FleetEncounterContext.textPanelForXPGain = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l00734">734</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<a id="a2fcfb978de8b0185648d5ab94365b12e" name="a2fcfb978de8b0185648d5ab94365b12e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fcfb978de8b0185648d5ab94365b12e">&#9670;&#160;</a></span>xpGained</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float com.fs.starfarer.api.impl.campaign.FleetEncounterContext.xpGained = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html#l02042">2042</a> of file <a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/com/fs/starfarer/api/impl/campaign/<a class="el" href="../../de/db5/FleetEncounterContext_8java_source.html">FleetEncounterContext.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>com</b></li><li class="navelem"><b>fs</b></li><li class="navelem"><b>starfarer</b></li><li class="navelem"><a class="el" href="../../d0/d46/namespacecom_1_1fs_1_1starfarer_1_1api.html">api</a></li><li class="navelem"><a class="el" href="../../d8/db2/namespacecom_1_1fs_1_1starfarer_1_1api_1_1impl.html">impl</a></li><li class="navelem"><a class="el" href="../../d5/dab/namespacecom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign.html">campaign</a></li><li class="navelem"><a class="el" href="../../da/d28/classcom_1_1fs_1_1starfarer_1_1api_1_1impl_1_1campaign_1_1FleetEncounterContext.html">FleetEncounterContext</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
